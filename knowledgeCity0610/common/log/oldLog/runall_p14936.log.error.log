[CRITICAL]2021-04-28 15:49:28,240: apply agv failed, count=0 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13732

[CRITICAL]2021-04-28 15:49:28,433: apply agv failed, count=1 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13732

[CRITICAL]2021-04-28 15:49:28,566: apply agv failed, count=2 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13732

[CRITICAL]2021-04-28 15:49:28,740: apply agv failed, count=3 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13732

[CRITICAL]2021-04-28 15:49:29,050: apply agv failed, count=4 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13732

[CRITICAL]2021-04-28 15:49:29,112: apply failed, count=1 cause a error: ('apply agv failed3!', 'taskId', '6089138473dabd3a58ccc000', 'loc', 'comba-ZXC-F3.AP11')
pid=14936, ppid=14236, tid=13732

[CRITICAL]2021-04-28 15:49:39,547: apply agv failed, count=0 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13428

[CRITICAL]2021-04-28 15:49:39,667: apply agv failed, count=1 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13428

[CRITICAL]2021-04-28 15:49:39,854: apply agv failed, count=2 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13428

[CRITICAL]2021-04-28 15:49:40,015: apply agv failed, count=3 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13428

[CRITICAL]2021-04-28 15:49:40,173: apply agv failed, count=4 cause a error: comba-ZXC-F3.AP11找不到可用的小车
pid=14936, ppid=14236, tid=13428

[CRITICAL]2021-04-28 15:49:40,200: apply failed, count=1 cause a error: ('apply agv failed3!', 'taskId', '6089138473dabd3a58ccc000', 'loc', 'comba-ZXC-F3.AP11')
pid=14936, ppid=14236, tid=13428

[CRITICAL]2021-04-28 16:09:21,464: task [AGV01] [608917e773dabd3a58ccc037] rollerFrontLoad failed cause a error: 'ret_code'
pid=14936, ppid=14236, tid=16308
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\knowledgeCity\autoCtrl\runTasks.py", line 1609, in rollerFrontLoad
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[CRITICAL]2021-04-28 16:17:06,575: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=14936, ppid=14236, tid=16200
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[CRITICAL]2021-04-28 16:17:10,200: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10054] 远程主机强迫关闭了一个现有的连接。
pid=14936, ppid=14236, tid=2700
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 298, in execute
    response = self._recv(expected_length)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 216, in _recv
    rcv_byte = self._sock.recv(1)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

[CRITICAL]2021-04-28 16:17:10,395: upStation01 readDIList fail cause a error: [WinError 10054] 远程主机强迫关闭了一个现有的连接。
pid=14936, ppid=14236, tid=2700
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 298, in execute
    response = self._recv(expected_length)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 216, in _recv
    rcv_byte = self._sock.recv(1)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

[CRITICAL]2021-04-28 16:17:10,509: invoke <function urlReadDOList at 0x0000022E73140268> cause a error: [WinError 10054] 远程主机强迫关闭了一个现有的连接。
pid=14936, ppid=14236, tid=2700
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 298, in execute
    response = self._recv(expected_length)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 216, in _recv
    rcv_byte = self._sock.recv(1)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

