[INFO]2021-01-25 16:27:12,417: log files at E:\python_work\knowledgeCity\common\log
[INFO]2021-01-25 16:27:12,418: find module agvCtrl.main_agv
[INFO]2021-01-25 16:27:12,418: find module agvDevice.main_agvDevice
[INFO]2021-01-25 16:27:12,418: find module alarm.main_alarm
[INFO]2021-01-25 16:27:12,419: find module auth.main_auth
[INFO]2021-01-25 16:27:12,419: find module autoCtrl.main_akmCtrl
[INFO]2021-01-25 16:27:12,419: find module door.main_door
[INFO]2021-01-25 16:27:12,419: find module elevator.main_elevator
[INFO]2021-01-25 16:27:12,420: find module remoteio.main_remoteio
[INFO]2021-01-25 16:27:12,420: import agvCtrl.main_agv
[INFO]2021-01-25 16:27:12,882: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758829AE0>>
[INFO]2021-01-25 16:27:12,885: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A75883D390>>
[INFO]2021-01-25 16:27:12,981: create lock <lock name:timer.lock_1818258799872,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758AB7E40>>
[ERROR]2021-01-25 16:27:12,997: mqtt is disabled
[INFO]2021-01-25 16:27:12,998: mqtt: subscribe [alarm/raise/+]
[INFO]2021-01-25 16:27:12,998: mqtt: subscribe [alarm/clear/+]
[INFO]2021-01-25 16:27:16,028: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-01-25 16:27:16,124: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758CAC030>>
[INFO]2021-01-25 16:27:16,124: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758CA5930>>
[INFO]2021-01-25 16:27:16,126: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758C9BD50>>
[INFO]2021-01-25 16:27:16,172: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758DBD3F0>>
[INFO]2021-01-25 16:27:16,779: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758D88120>>
[INFO]2021-01-25 16:27:17,178: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758EB4E70>>
[INFO]2021-01-25 16:27:17,182: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758F76870>>
[INFO]2021-01-25 16:27:17,267: charge policy 0 , fix time
[INFO]2021-01-25 16:27:17,311: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A758F80480>>
[INFO]2021-01-25 16:27:17,389: start load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[DEBUG]2021-01-25 16:27:17,478: elevator thread start
[INFO]2021-01-25 16:27:17,516: load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 139 ms
[INFO]2021-01-25 16:27:17,528: start load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-01-25 16:27:17,588: load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 72 ms
[INFO]2021-01-25 16:27:17,592: import agvDevice.main_agvDevice
[INFO]2021-01-25 16:27:17,592: import alarm.main_alarm
[INFO]2021-01-25 16:27:17,592: import auth.main_auth
[INFO]2021-01-25 16:27:17,604: import autoCtrl.main_akmCtrl
[INFO]2021-01-25 16:27:17,621: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A759FF3900>>
[INFO]2021-01-25 16:27:17,626: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A759FD3D80>>
[INFO]2021-01-25 16:27:17,628: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A75A055900>>
[INFO]2021-01-25 16:27:18,622: import door.main_door
[INFO]2021-01-25 16:27:18,625: import elevator.main_elevator
[INFO]2021-01-25 16:27:18,625: import remoteio.main_remoteio
[SUCC]2021-01-25 16:27:18,669: utility start, pid=16904, ppid=18368
[DEBUG]2021-01-25 16:27:18,669: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-01-25 16:27:18,670: start timer
[DEBUG]2021-01-25 16:27:18,670: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-01-25 16:27:18,683: load agv file: E:\python_work\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-01-25 16:27:18,683: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603A0F90>>
[DEBUG]2021-01-25 16:27:18,686: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-01-25 16:27:18,686: AGV01 start agvList run thread
[INFO]2021-01-25 16:27:18,687: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603A4F30>>
[DEBUG]2021-01-25 16:27:18,687: try connect AGV01 172.16.217.209:19204
[INFO]2021-01-25 16:27:18,687: AGV01 start agvList run2 thread
[WARN]2021-01-25 16:27:18,691: Local server start! version 3.8.0, path E:\python_work\knowledgeCity\common, pid 16904
[INFO]2021-01-25 16:27:18,691: add_ignore: taskStatus
[INFO]2021-01-25 16:27:18,694: AGV01 connected 172.16.217.209 19204
[INFO]2021-01-25 16:27:18,694: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603A4F60>>
[DEBUG]2021-01-25 16:27:18,694: try connect AGV01 172.16.217.209:19205
[INFO]2021-01-25 16:27:18,701: AGV01 connected 172.16.217.209 19205
[INFO]2021-01-25 16:27:18,702: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603A4F90>>
[DEBUG]2021-01-25 16:27:18,702: try connect AGV01 172.16.217.209:19206
[INFO]2021-01-25 16:27:18,706: AGV01 connected 172.16.217.209 19206
[INFO]2021-01-25 16:27:18,707: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603C1030>>
[DEBUG]2021-01-25 16:27:18,707: try connect AGV01 172.16.217.209:19207
[INFO]2021-01-25 16:27:18,711: AGV01 connected 172.16.217.209 19207
[INFO]2021-01-25 16:27:18,711: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603C14E0>>
[DEBUG]2021-01-25 16:27:18,712: try connect AGV01 172.16.217.209:19208
[INFO]2021-01-25 16:27:18,717: AGV01 connected 172.16.217.209 19208
[INFO]2021-01-25 16:27:18,718: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A7603D2E70>>
[DEBUG]2021-01-25 16:27:18,718: try connect AGV01 172.16.217.209:19210
[INFO]2021-01-25 16:27:18,723: AGV01 connected 172.16.217.209 19210
[INFO]2021-01-25 16:27:18,775: AGV01 current map comba-ZXC-F3
[INFO]2021-01-25 16:27:18,817: AGV01 is online
[ERROR]2021-01-25 16:27:18,828: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.742
[DEBUG]2021-01-25 16:27:23,685: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-01-25 16:27:23,686: akmTask init client agvApi
[DEBUG]2021-01-25 16:27:23,687: used 2ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[WARN]2021-01-25 16:27:23,689: timer_thread[tid:1964] <locked _thread.RLock object owner=1964 count=1 at 0x000001A759FD3090> ,hold 5016 ms
[INFO]2021-01-25 16:27:23,690: name=timer_thread, pid=16904, tid=1964
[01] File "D:/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/python_work/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "E:/python_work/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "E:/python_work/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "E:/python_work/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "E:/python_work/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-01-25 16:27:23,882: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:27:24,056: [return] use 174 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:27:24,069: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:27:24,169: [return] use 100 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:27:24,182: init IO success
[DEBUG]2021-01-25 16:27:24,193: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:27:24,230: [return] use 37 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:27:24,230: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:27:24,260: [return] use 30 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:27:24,261: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-01-25 16:27:26,341: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:27:26,436: [return] use 95 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:27:26,436: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:27:26,651: [return] use 215 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:27:26,661: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:27:26,672: create task[600e80eeee56f62cf74279ac]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 27, 26, 661658), 'updateTime': datetime.datetime(2021, 1, 25, 16, 27, 26, 661658), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e80eeee56f62cf74279ac')}
