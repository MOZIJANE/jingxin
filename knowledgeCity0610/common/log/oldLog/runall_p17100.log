[INFO]2021-01-25 16:28:06,806: log files at E:\python_work\knowledgeCity\common\log
[INFO]2021-01-25 16:28:06,806: find module agvCtrl.main_agv
[INFO]2021-01-25 16:28:06,806: find module agvDevice.main_agvDevice
[INFO]2021-01-25 16:28:06,806: find module alarm.main_alarm
[INFO]2021-01-25 16:28:06,807: find module auth.main_auth
[INFO]2021-01-25 16:28:06,807: find module autoCtrl.main_akmCtrl
[INFO]2021-01-25 16:28:06,807: find module door.main_door
[INFO]2021-01-25 16:28:06,808: find module elevator.main_elevator
[INFO]2021-01-25 16:28:06,808: find module remoteio.main_remoteio
[INFO]2021-01-25 16:28:06,808: import agvCtrl.main_agv
[INFO]2021-01-25 16:28:07,269: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BC549AE0>>
[INFO]2021-01-25 16:28:07,272: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BC55D390>>
[INFO]2021-01-25 16:28:07,371: create lock <lock name:timer.lock_1789868735888,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BC7D7ED0>>
[ERROR]2021-01-25 16:28:07,387: mqtt is disabled
[INFO]2021-01-25 16:28:07,387: mqtt: subscribe [alarm/raise/+]
[INFO]2021-01-25 16:28:07,387: mqtt: subscribe [alarm/clear/+]
[INFO]2021-01-25 16:28:10,418: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-01-25 16:28:10,517: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BC9CC0C0>>
[INFO]2021-01-25 16:28:10,518: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BC9C59C0>>
[INFO]2021-01-25 16:28:10,519: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BC9BBDE0>>
[INFO]2021-01-25 16:28:10,566: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BCAAD480>>
[INFO]2021-01-25 16:28:12,073: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BCA761B0>>
[INFO]2021-01-25 16:28:12,456: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BCBC4F00>>
[INFO]2021-01-25 16:28:12,460: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BCC86900>>
[INFO]2021-01-25 16:28:12,536: charge policy 0 , fix time
[INFO]2021-01-25 16:28:12,575: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BCC8F510>>
[INFO]2021-01-25 16:28:12,647: start load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[DEBUG]2021-01-25 16:28:13,418: elevator thread start
[INFO]2021-01-25 16:28:13,479: load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 843 ms
[INFO]2021-01-25 16:28:13,491: start load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-01-25 16:28:13,545: load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 65 ms
[INFO]2021-01-25 16:28:13,548: import agvDevice.main_agvDevice
[INFO]2021-01-25 16:28:13,549: import alarm.main_alarm
[INFO]2021-01-25 16:28:13,549: import auth.main_auth
[INFO]2021-01-25 16:28:13,562: import autoCtrl.main_akmCtrl
[INFO]2021-01-25 16:28:13,575: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BDD63090>>
[INFO]2021-01-25 16:28:13,579: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BDCF88D0>>
[INFO]2021-01-25 16:28:13,581: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BDD81D80>>
[INFO]2021-01-25 16:28:14,742: import door.main_door
[INFO]2021-01-25 16:28:14,745: import elevator.main_elevator
[INFO]2021-01-25 16:28:14,745: import remoteio.main_remoteio
[SUCC]2021-01-25 16:28:14,790: utility start, pid=17100, ppid=15384
[DEBUG]2021-01-25 16:28:14,791: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-01-25 16:28:14,791: start timer
[DEBUG]2021-01-25 16:28:14,791: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-01-25 16:28:14,804: load agv file: E:\python_work\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-01-25 16:28:14,804: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE015F60>>
[DEBUG]2021-01-25 16:28:14,808: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-01-25 16:28:14,808: AGV01 start agvList run thread
[INFO]2021-01-25 16:28:14,808: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE0733C0>>
[DEBUG]2021-01-25 16:28:14,809: try connect AGV01 172.16.217.209:19204
[INFO]2021-01-25 16:28:14,809: AGV01 start agvList run2 thread
[WARN]2021-01-25 16:28:14,813: Local server start! version 3.8.0, path E:\python_work\knowledgeCity\common, pid 17100
[INFO]2021-01-25 16:28:14,813: add_ignore: taskStatus
[INFO]2021-01-25 16:28:14,816: AGV01 connected 172.16.217.209 19204
[INFO]2021-01-25 16:28:14,816: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE0733F0>>
[DEBUG]2021-01-25 16:28:14,817: try connect AGV01 172.16.217.209:19205
[INFO]2021-01-25 16:28:14,825: AGV01 connected 172.16.217.209 19205
[INFO]2021-01-25 16:28:14,826: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE073420>>
[DEBUG]2021-01-25 16:28:14,826: try connect AGV01 172.16.217.209:19206
[INFO]2021-01-25 16:28:14,832: AGV01 connected 172.16.217.209 19206
[INFO]2021-01-25 16:28:14,832: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE0734B0>>
[DEBUG]2021-01-25 16:28:14,833: try connect AGV01 172.16.217.209:19207
[INFO]2021-01-25 16:28:14,840: AGV01 connected 172.16.217.209 19207
[INFO]2021-01-25 16:28:14,840: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE0739C0>>
[DEBUG]2021-01-25 16:28:14,841: try connect AGV01 172.16.217.209:19208
[INFO]2021-01-25 16:28:14,854: AGV01 connected 172.16.217.209 19208
[INFO]2021-01-25 16:28:14,854: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A0BE084EA0>>
[DEBUG]2021-01-25 16:28:14,855: try connect AGV01 172.16.217.209:19210
[INFO]2021-01-25 16:28:14,861: AGV01 connected 172.16.217.209 19210
[INFO]2021-01-25 16:28:14,910: AGV01 current map comba-ZXC-F3
[INFO]2021-01-25 16:28:14,964: AGV01 is online
[ERROR]2021-01-25 16:28:14,972: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.742
[DEBUG]2021-01-25 16:28:19,809: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-01-25 16:28:19,810: akmTask init client agvApi
[DEBUG]2021-01-25 16:28:19,811: used 2ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[WARN]2021-01-25 16:28:19,813: timer_thread[tid:13168] <locked _thread.RLock object owner=13168 count=1 at 0x000001A0BDD07210> ,hold 5018 ms
[INFO]2021-01-25 16:28:19,814: name=timer_thread, pid=17100, tid=13168
[01] File "D:/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/python_work/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "E:/python_work/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "E:/python_work/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "E:/python_work/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "E:/python_work/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-01-25 16:28:20,000: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:20,191: [return] use 191 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:20,202: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:20,462: [return] use 260 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:20,474: init IO success
[DEBUG]2021-01-25 16:28:20,474: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:20,543: [return] use 69 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:20,544: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:20,610: [return] use 66 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:20,610: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-01-25 16:28:22,759: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:22,845: [return] use 86 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:22,845: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:23,054: [return] use 209 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:23,054: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:23,102: create task[600e81274adba6864709eee3]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 23, 78550), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 23, 78550), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e81274adba6864709eee3')}
[INFO]2021-01-25 16:28:25,152: task[600e81274adba6864709eee3]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 25, 134193), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 25, 134193), 'status': 'running'}
[DEBUG]2021-01-25 16:28:25,163: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:25,197: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:25,259: [return] use 96 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:25,293: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:25,351: [return] use 154 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:25,357: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:25,549: [return] use 192 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:25,551: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:26,602: remoteio is alarm: []
[WARN]2021-01-25 16:28:27,350: task[600e81274adba6864709eee3]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 27, 327385), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:27,361: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:27,408: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:27,430: used 22ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:27,454: [return] use 93 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:27,506: task [None] [600e81274adba6864709eee3] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=16472
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:27,507: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:27,604: task: delete task 600e81274adba6864709eee3
[DEBUG]2021-01-25 16:28:27,644: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:27,793: [return] use 149 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:27,816: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:28,006: [return] use 190 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:28,006: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:28,027: create task[600e812c4adba6864709eee4]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 28, 6280), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 28, 6280), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e812c4adba6864709eee4')}
[INFO]2021-01-25 16:28:30,065: task[600e812c4adba6864709eee4]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 30, 60560), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 30, 60560), 'status': 'running'}
[DEBUG]2021-01-25 16:28:30,065: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:30,091: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:30,149: [return] use 84 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:30,149: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:30,306: [return] use 215 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:30,322: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:30,538: [return] use 216 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:30,538: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[WARN]2021-01-25 16:28:32,163: task[600e812c4adba6864709eee4]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 32, 157489), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:32,168: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:32,181: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:32,215: used 34ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:32,273: [return] use 105 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:32,292: task [None] [600e812c4adba6864709eee4] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=9148
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:32,297: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:32,541: task: delete task 600e812c4adba6864709eee4
[DEBUG]2021-01-25 16:28:32,569: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:32,699: [return] use 130 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:32,699: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:32,919: [return] use 220 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:32,919: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:32,941: create task[600e81304adba6864709eee5]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 32, 919097), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 32, 919097), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e81304adba6864709eee5')}
[DEBUG]2021-01-25 16:28:35,034: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-01-25 16:28:35,039: task[600e81304adba6864709eee5]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 35, 12703), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 35, 12703), 'status': 'running'}
[DEBUG]2021-01-25 16:28:35,050: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:35,077: [return] use 43 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:35,094: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:35,131: [return] use 81 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:35,142: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:35,199: [return] use 105 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:35,199: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[WARN]2021-01-25 16:28:37,171: task[600e81304adba6864709eee5]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 37, 146204), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:37,172: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:37,220: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:37,235: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:37,237: used 17ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:37,239: [return] use 67 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:37,260: task [None] [600e81304adba6864709eee5] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=16348
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:37,278: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:37,316: [return] use 81 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:37,321: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:37,488: [return] use 167 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:37,493: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:37,532: create task[600e81354adba6864709eee6]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 37, 493062), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 37, 493062), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e81354adba6864709eee6')}
[INFO]2021-01-25 16:28:38,615: remoteio is alarm: []
[DEBUG]2021-01-25 16:28:39,750: task: delete task 600e81304adba6864709eee5
[DEBUG]2021-01-25 16:28:39,767: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-01-25 16:28:39,773: task[600e81354adba6864709eee6]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 39, 738006), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 39, 738006), 'status': 'running'}
[DEBUG]2021-01-25 16:28:39,773: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:39,844: [return] use 77 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:39,859: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:39,890: [return] use 117 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:39,891: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:39,895: [return] use 36 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:39,896: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-01-25 16:28:41,907: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[WARN]2021-01-25 16:28:41,918: task[600e81354adba6864709eee6]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 41, 896168), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:41,935: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:41,948: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:41,965: used 17ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:41,970: [return] use 35 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:41,978: task [None] [600e81354adba6864709eee6] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=10716
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:41,984: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:41,995: [return] use 88 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:41,996: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:42,047: [return] use 51 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:42,047: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:42,048: create task[600e813a4adba6864709eee7]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 42, 47563), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 42, 47563), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e813a4adba6864709eee7')}
[DEBUG]2021-01-25 16:28:44,136: task: delete task 600e81354adba6864709eee6
[INFO]2021-01-25 16:28:44,141: task[600e813a4adba6864709eee7]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 44, 130539), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 44, 130539), 'status': 'running'}
[DEBUG]2021-01-25 16:28:44,141: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:44,147: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:44,217: [return] use 76 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:44,222: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:44,280: [return] use 133 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:44,309: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:44,408: [return] use 99 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:44,408: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[WARN]2021-01-25 16:28:46,246: task[600e813a4adba6864709eee7]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 46, 229495), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:46,251: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:46,268: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:46,269: used 1ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:46,293: [return] use 42 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:46,312: task [None] [600e813a4adba6864709eee7] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=10160
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:46,312: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:46,470: task: delete task 600e813a4adba6864709eee7
[DEBUG]2021-01-25 16:28:46,482: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:46,590: [return] use 108 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:46,596: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:46,700: [return] use 104 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:46,700: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:46,732: create task[600e813e4adba6864709eee8]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 46, 716736), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 46, 716736), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e813e4adba6864709eee8')}
[INFO]2021-01-25 16:28:48,760: task[600e813e4adba6864709eee8]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 48, 748765), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 48, 748765), 'status': 'running'}
[DEBUG]2021-01-25 16:28:48,760: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:48,772: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:48,954: [return] use 194 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:48,954: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:48,991: [return] use 219 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:48,991: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:49,019: [return] use 65 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:49,019: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:50,100: remoteio is alarm: []
[WARN]2021-01-25 16:28:51,010: task[600e813e4adba6864709eee8]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 50, 992405), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:51,015: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:51,064: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:51,064: used 0ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:51,095: [return] use 80 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:51,108: task [None] [600e813e4adba6864709eee8] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=15788
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:51,109: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:51,136: task: delete task 600e813e4adba6864709eee8
[DEBUG]2021-01-25 16:28:51,141: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:51,227: [return] use 86 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:51,227: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:51,326: [return] use 99 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:51,332: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:51,345: create task[600e81434adba6864709eee9]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 51, 332937), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 51, 332937), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e81434adba6864709eee9')}
[INFO]2021-01-25 16:28:53,369: task[600e81434adba6864709eee9]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 53, 363750), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 53, 363750), 'status': 'running'}
[DEBUG]2021-01-25 16:28:53,369: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:53,393: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:53,512: [return] use 143 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:53,512: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:53,547: [return] use 154 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:53,553: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:53,679: [return] use 126 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:53,694: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[WARN]2021-01-25 16:28:55,546: task[600e81434adba6864709eee9]: failed, {'step': 'fail', 'msg': '检查AAS产线[下工序]信号丢失', 'endTime': datetime.datetime(2021, 1, 25, 16, 28, 55, 536915), 'status': 'fail'}
[DEBUG]2021-01-25 16:28:55,552: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:55,622: GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30 addr: 127.0.0.1
[DEBUG]2021-01-25 16:28:55,638: used 16ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[DEBUG]2021-01-25 16:28:55,690: [return] use 138 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotStop?agv=None&timeoutSec=30
[CRITICAL]2021-01-25 16:28:55,709: task [None] [600e81434adba6864709eee9] rollerStop failed cause a error: 'ret_code'
pid=17100, ppid=15384, tid=16936
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\runTasks.py", line 775, in rollerStop
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[INFO]2021-01-25 16:28:55,709: task: stop 从下工序设备运送框至上工序设备
[DEBUG]2021-01-25 16:28:55,773: task: delete task 600e81434adba6864709eee9
[DEBUG]2021-01-25 16:28:55,788: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:55,910: [return] use 122 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:55,915: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:56,058: [return] use 143 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:56,058: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-01-25 16:28:56,059: create task[600e81484adba6864709eeea]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 1, 25, 16, 28, 56, 58463), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 56, 58463), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('600e81484adba6864709eeea')}
[INFO]2021-01-25 16:28:58,199: task[600e81484adba6864709eeea]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 1, 25, 16, 28, 58, 188479), 'updateTime': datetime.datetime(2021, 1, 25, 16, 28, 58, 188479), 'status': 'running'}
[DEBUG]2021-01-25 16:28:58,210: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:58,215: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:58,296: [return] use 86 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:28:58,307: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:28:58,313: [return] use 98 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-01-25 16:28:58,319: 从下工序设备运送框至上工序设备 fail error
[DEBUG]2021-01-25 16:28:58,413: [return] use 106 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:28:58,448: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
