[INFO]2021-05-08 15:38:29,452: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-08 15:38:29,452: find module agvCtrl.main_agv
[INFO]2021-05-08 15:38:29,453: find module agvDevice.main_agvDevice
[INFO]2021-05-08 15:38:29,453: find module alarm.main_alarm
[INFO]2021-05-08 15:38:29,453: find module auth.main_auth
[INFO]2021-05-08 15:38:29,454: find module autoCtrl.main_akmCtrl
[INFO]2021-05-08 15:38:29,454: find module door.main_door
[INFO]2021-05-08 15:38:29,454: find module elevator.main_elevator
[INFO]2021-05-08 15:38:29,454: find module feed.main_feed
[INFO]2021-05-08 15:38:29,455: find module remoteio.main_remoteio
[INFO]2021-05-08 15:38:29,455: import agvCtrl.main_agv
[INFO]2021-05-08 15:38:29,691: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B8B357B0>>
[INFO]2021-05-08 15:38:29,693: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B8B35918>>
[INFO]2021-05-08 15:38:29,740: create lock <lock name:timer.lock_1811282438632,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B8D7E440>>
[ERROR]2021-05-08 15:38:29,747: mqtt is disabled
[INFO]2021-05-08 15:38:29,747: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-08 15:38:29,748: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-08 15:38:32,767: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-08 15:38:32,818: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B8F47B48>>
[INFO]2021-05-08 15:38:32,819: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B8F47788>>
[INFO]2021-05-08 15:38:32,820: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B8F47300>>
[INFO]2021-05-08 15:38:32,828: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B9051760>>
[INFO]2021-05-08 15:38:32,982: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B730C198>>
[INFO]2021-05-08 15:38:33,191: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B912DE40>>
[INFO]2021-05-08 15:38:33,195: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B9175F30>>
[INFO]2021-05-08 15:38:33,243: charge policy 0 , fix time
[INFO]2021-05-08 15:38:33,268: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B91EC1C0>>
[INFO]2021-05-08 15:38:33,690: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-08 15:38:33,769: elevator thread start
[INFO]2021-05-08 15:38:33,783: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 100 ms
[INFO]2021-05-08 15:38:33,791: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-08 15:38:33,934: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 150 ms
[INFO]2021-05-08 15:38:33,942: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-08 15:38:34,018: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 83 ms
[INFO]2021-05-08 15:38:34,026: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-08 15:38:34,075: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 56 ms
[INFO]2021-05-08 15:38:34,083: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-08 15:38:34,116: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 40 ms
[INFO]2021-05-08 15:38:34,118: import agvDevice.main_agvDevice
[INFO]2021-05-08 15:38:34,119: import alarm.main_alarm
[INFO]2021-05-08 15:38:34,120: import auth.main_auth
[INFO]2021-05-08 15:38:34,127: import autoCtrl.main_akmCtrl
[INFO]2021-05-08 15:38:34,148: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B991B670>>
[INFO]2021-05-08 15:38:34,155: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B95D7EE0>>
[INFO]2021-05-08 15:38:34,174: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B95D71E8>>
[INFO]2021-05-08 15:38:34,177: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B97D8170>>
[INFO]2021-05-08 15:38:34,648: import door.main_door
[INFO]2021-05-08 15:38:34,650: import elevator.main_elevator
[INFO]2021-05-08 15:38:34,651: import feed.main_feed
[INFO]2021-05-08 15:38:34,658: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAACE530>>
[INFO]2021-05-08 15:38:34,690: import remoteio.main_remoteio
[SUCC]2021-05-08 15:38:34,706: utility start, pid=10008, ppid=10724
[DEBUG]2021-05-08 15:38:34,706: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-08 15:38:34,706: start timer
[DEBUG]2021-05-08 15:38:34,707: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-08 15:38:34,715: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-08 15:38:34,716: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7E530>>
[DEBUG]2021-05-08 15:38:34,718: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-08 15:38:34,720: AGV01 start agvList run thread
[INFO]2021-05-08 15:38:34,720: AGV01 start agvList run2 thread
[INFO]2021-05-08 15:38:34,720: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EA08>>
[DEBUG]2021-05-08 15:38:34,722: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:38:34,723: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EA30>>
[DEBUG]2021-05-08 15:38:34,725: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-08 15:38:34,726: AGV03 start agvList run thread
[INFO]2021-05-08 15:38:34,726: AGV03 start agvList run2 thread
[INFO]2021-05-08 15:38:34,726: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EBC0>>
[INFO]2021-05-08 15:38:34,727: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EC10>>
[DEBUG]2021-05-08 15:38:34,730: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:38:34,731: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-08 15:38:34,732: AGV04 start agvList run thread
[INFO]2021-05-08 15:38:34,733: AGV04 start agvList run2 thread
[INFO]2021-05-08 15:38:34,733: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EE40>>
[INFO]2021-05-08 15:38:34,733: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EE90>>
[DEBUG]2021-05-08 15:38:34,734: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-08 15:38:34,735: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-05-08 15:38:34,736: AGV02 start agvList run thread
[INFO]2021-05-08 15:38:34,736: AGV02 start agvList run2 thread
[WARN]2021-05-08 15:38:34,736: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 10008
[INFO]2021-05-08 15:38:34,736: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7E440>>
[INFO]2021-05-08 15:38:34,739: add_ignore: taskStatus
[DEBUG]2021-05-08 15:38:34,739: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 15:38:34,741: AGV04 connected 172.16.217.211 19204
[INFO]2021-05-08 15:38:34,742: create lock <lock name:agv.AGV04.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5BAB7EFD0>>
[DEBUG]2021-05-08 15:38:34,743: try connect AGV04 172.16.217.211:19205
[INFO]2021-05-08 15:38:34,761: AGV04 connected 172.16.217.211 19205
[INFO]2021-05-08 15:38:34,765: create lock <lock name:agv.AGV04.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B812BAF8>>
[DEBUG]2021-05-08 15:38:34,766: try connect AGV04 172.16.217.211:19206
[INFO]2021-05-08 15:38:34,781: AGV04 connected 172.16.217.211 19206
[INFO]2021-05-08 15:38:34,782: create lock <lock name:agv.AGV04.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B812BAA8>>
[DEBUG]2021-05-08 15:38:34,783: try connect AGV04 172.16.217.211:19207
[INFO]2021-05-08 15:38:34,801: AGV04 connected 172.16.217.211 19207
[INFO]2021-05-08 15:38:34,802: create lock <lock name:agv.AGV04.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B812BBC0>>
[DEBUG]2021-05-08 15:38:34,802: try connect AGV04 172.16.217.211:19208
[INFO]2021-05-08 15:38:34,844: AGV04 connected 172.16.217.211 19208
[INFO]2021-05-08 15:38:34,847: create lock <lock name:agv.AGV04.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A5B812BB48>>
[DEBUG]2021-05-08 15:38:34,848: try connect AGV04 172.16.217.211:19210
[INFO]2021-05-08 15:38:34,865: AGV04 connected 172.16.217.211 19210
[INFO]2021-05-08 15:38:34,886: AGV04 current map comba-ZXC-F3
[INFO]2021-05-08 15:38:34,932: AGV04 is online
[DEBUG]2021-05-08 15:38:39,727: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-08 15:38:39,731: akmTask init client agvApi
[DEBUG]2021-05-08 15:38:39,735: used 8ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[DEBUG]2021-05-08 15:38:42,798: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-08 15:38:42,821: used 23ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-08 15:38:42,892: timer_thread[tid:8732] <locked _thread.RLock object owner=8732 count=1 at 0x000001A5B95D7E68> ,hold 8184 ms
[INFO]2021-05-08 15:38:42,979: name=timer_thread, pid=10008, tid=8732
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:38:44,080: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:38:44,123: AGV04 battery 0.320 check failed: no_idle_9.39
[DEBUG]2021-05-08 15:38:44,341: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 15:38:44,727: connect AGV01 failed timed out
[ERROR]2021-05-08 15:38:44,733: connect AGV03 failed timed out
[ERROR]2021-05-08 15:38:44,745: connect AGV02 failed timed out
[DEBUG]2021-05-08 15:38:44,809: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:38:44,862: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:38:44,909: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 15:38:49,920: GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C addr: 172.16.217.105
[INFO]2021-05-08 15:38:49,979: Scada send a task to the server from 三楼夹具点A to 三楼夹具点C payloadId: None
[INFO]2021-05-08 15:38:50,050: create task[6096400a73dabd2718ddf76b]: type= scadaTask , 从三楼夹具点A运送货架到三楼夹具点C {'source': '三楼夹具点A', 'target': '三楼夹具点C', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼夹具点A运送货架到三楼夹具点C', 'createTime': datetime.datetime(2021, 5, 8, 15, 38, 50, 44590), 'updateTime': datetime.datetime(2021, 5, 8, 15, 38, 50, 44590), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('6096400a73dabd2718ddf76b')}
[INFO]2021-05-08 15:38:50,098: 三楼夹具点C 三楼夹具点A
[INFO]2021-05-08 15:38:50,174: task[6096400a73dabd2718ddf76b][-] AP22(LM17) -> AP25(LM24) [waiting] is inside False
[INFO]2021-05-08 15:38:50,245: task cmd: got a task from scada task[6096400a73dabd2718ddf76b][-] AP22(LM17) -> AP25(LM24) [waiting]
[DEBUG]2021-05-08 15:38:50,292: used 372ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C
[ERROR]2021-05-08 15:38:54,966: connect AGV01 failed timed out
[INFO]2021-05-08 15:38:55,012: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:38:55,042: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 20320 ms
[ERROR]2021-05-08 15:38:55,077: connect AGV02 failed timed out
[ERROR]2021-05-08 15:38:55,083: connect AGV03 failed timed out
[INFO]2021-05-08 15:38:55,113: AGV02 checkLink failed 172.16.217.213 19204
[INFO]2021-05-08 15:38:55,147: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:38:55,165: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:38:55,194: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 20455 ms
[WARN]2021-05-08 15:38:55,281: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 20551 ms
[INFO]2021-05-08 15:38:55,422: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:38:55,520: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:38:57,236: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:38:57,498: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 15:38:57,586: try connect AGV03 172.16.217.121:19204
[CRITICAL]2021-05-08 15:38:59,566: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=10008, ppid=10724, tid=8732
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-08 15:39:00,632: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[CRITICAL]2021-05-08 15:39:05,653: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=1928
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:39:05,694: worker 3[tid:1928] <locked _thread.RLock object owner=1928 count=1 at 0x000001A5B95B08F0> ,hold 21276 ms
[INFO]2021-05-08 15:39:06,296: name=worker 3, pid=10008, tid=1928
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:39:06,414: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=1928
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:39:06,542: invoke <function urlReadDOList at 0x000001A5B80EFD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=1928
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 15:39:07,345: connect AGV01 failed timed out
[INFO]2021-05-08 15:39:07,375: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:39:07,411: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 10175 ms
[INFO]2021-05-08 15:39:07,484: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:39:07,579: connect AGV02 failed timed out
[ERROR]2021-05-08 15:39:07,659: connect AGV03 failed timed out
[INFO]2021-05-08 15:39:07,677: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:39:07,735: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 10237 ms
[INFO]2021-05-08 15:39:07,752: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 15:39:07,805: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:39:07,822: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 10236 ms
[INFO]2021-05-08 15:39:07,964: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:39:09,527: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:39:09,879: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 15:39:10,038: try connect AGV03 172.16.217.121:19204
[CRITICAL]2021-05-08 15:39:15,752: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=10008, ppid=10724, tid=8732
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:39:16,799: init IO success
[DEBUG]2021-05-08 15:39:16,817: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 15:39:19,638: connect AGV01 failed timed out
[INFO]2021-05-08 15:39:19,703: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:39:19,737: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 10210 ms
[INFO]2021-05-08 15:39:19,860: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:39:19,961: connect AGV02 failed timed out
[INFO]2021-05-08 15:39:20,002: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:39:20,051: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 10172 ms
[ERROR]2021-05-08 15:39:20,134: connect AGV03 failed timed out
[INFO]2021-05-08 15:39:20,151: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:39:20,174: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:39:20,197: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 10159 ms
[INFO]2021-05-08 15:39:20,260: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:39:21,927: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:39:22,180: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 15:39:22,300: try connect AGV03 172.16.217.121:19204
[CRITICAL]2021-05-08 15:39:26,505: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=420
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:39:26,557: worker 8[tid:420] <locked _thread.RLock object owner=420 count=1 at 0x000001A5B95B08A0> ,hold 25848 ms
[INFO]2021-05-08 15:39:26,685: name=worker 8, pid=10008, tid=420
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:39:26,785: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=420
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:39:26,864: invoke <function urlReadDOList at 0x000001A5B80EFD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=420
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:39:31,908: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=10008, ppid=10724, tid=8732
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[ERROR]2021-05-08 15:39:32,001: connect AGV01 failed timed out
[INFO]2021-05-08 15:39:32,025: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:39:32,059: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 10132 ms
[INFO]2021-05-08 15:39:32,124: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:39:32,298: connect AGV02 failed timed out
[INFO]2021-05-08 15:39:32,334: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:39:32,374: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 10194 ms
[ERROR]2021-05-08 15:39:32,392: connect AGV03 failed timed out
[INFO]2021-05-08 15:39:32,456: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 15:39:32,468: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:39:32,491: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 10191 ms
[INFO]2021-05-08 15:39:32,663: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:39:33,024: clear alarm obj=upStation01, typeId=39998, id=60963f13697d98928ef14150
[WARN]2021-05-08 15:39:33,192: clear alarm obj=downStation01, typeId=39998, id=60963f13697d98928ef14152
[DEBUG]2021-05-08 15:39:34,169: try connect AGV01 172.16.217.209:19204
[WARN]2021-05-08 15:39:34,394: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[INFO]2021-05-08 15:39:34,418: AGV04 battery 0.320 check success
[DEBUG]2021-05-08 15:39:34,529: try connect AGV02 172.16.217.213:19204
[WARN]2021-05-08 15:39:34,558: AGV04 Can't find charge point at comba-ZXC-F3 battery: 0.320
[INFO]2021-05-08 15:39:34,613: task[6096400a73dabd2718ddf76b]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 8, 15, 39, 34, 590181), 'updateTime': datetime.datetime(2021, 5, 8, 15, 39, 34, 590181), 'status': 'running'}
[INFO]2021-05-08 15:39:34,648: task: start task[6096400a73dabd2718ddf76b][-] AP22(LM17) -> AP25(LM24) [waiting]
[INFO]2021-05-08 15:39:34,677: this is handle taskStep=============>waiting
[DEBUG]2021-05-08 15:39:34,694: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:39:34,712: task[6096400a73dabd2718ddf76b] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 8, 15, 39, 34, 700885)}
[DEBUG]2021-05-08 15:39:34,857: task[6096400a73dabd2718ddf76b][-] AP22(LM17) -> AP25(LM24) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-05-08 15:39:35,655: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 15:39:36,079: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-08 15:39:36,189: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=6096400a73dabd2718ddf76b&timeout=10 addr: 127.0.0.1
[INFO]2021-05-08 15:39:36,238: agvControl中的_apply进去
[INFO]2021-05-08 15:39:36,268: [('comba-ZXC-F3.LM20', 'AGV04')]
[INFO]2021-05-08 15:39:37,072: apply AGV04 ,taskId: 6096400a73dabd2718ddf76b ,loc comba-ZXC-F3.AP22 ,autoLock False , used 804 ms
[INFO]2021-05-08 15:39:37,106: AGV04
[INFO]2021-05-08 15:39:37,154: 5555555555555555555555555
[INFO]2021-05-08 15:39:37,183: 6666666666666666666666666
[INFO]2021-05-08 15:39:37,237: AGV04
[DEBUG]2021-05-08 15:39:37,260: used 1071ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=6096400a73dabd2718ddf76b&timeout=10
[INFO]2021-05-08 15:39:37,318: comba-ZXC-F3.AP22 comba-ZXC-F3.AP25
[INFO]2021-05-08 15:39:37,365: AGV04
[INFO]2021-05-08 15:39:37,410: 判断类型
[INFO]2021-05-08 15:39:37,462: 1111111111111111111111
[DEBUG]2021-05-08 15:39:37,543: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV04&appName=akmTask&taskId=6096400a73dabd2718ddf76b addr: 127.0.0.1
[DEBUG]2021-05-08 15:39:37,572: lock:  AGV04 taskId 6096400a73dabd2718ddf76b app akmTask
[WARN]2021-05-08 15:39:37,892: worker 2[tid:6924] <locked _thread.RLock object owner=6924 count=1 at 0x000001A5B95B08F0> ,hold 21021 ms
[INFO]2021-05-08 15:39:38,012: name=worker 2, pid=10008, tid=6924
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:39:38,121: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=6924
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:39:38,201: invoke <function urlReadDOList at 0x000001A5B80EFD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=6924
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:39:38,601: AGV04 clear task finish, cur= comba-ZXC-F3.LM20 task_status= 4
[INFO]2021-05-08 15:39:38,676: 22222222222222222222222
[INFO]2021-05-08 15:39:38,706: AGV04
[INFO]2021-05-08 15:39:38,747: task[6096400a73dabd2718ddf76b][-] AP22(LM17) -> AP25(LM24) [waitForAgv] apply AGV04
[INFO]2021-05-08 15:39:38,793: task[6096400a73dabd2718ddf76b] update info: {'agvId': 'AGV04', 'failMsg': '成功分配小车AGV04', 'updateTime': datetime.datetime(2021, 5, 8, 15, 39, 38, 775961)}
[DEBUG]2021-05-08 15:39:38,839: task[6096400a73dabd2718ddf76b][AGV04] AP22(LM17) -> AP25(LM24) [initAGV] waitForAgv -> initAGV
[INFO]2021-05-08 15:39:39,197: this is handle taskStep=============>initAGV
[INFO]2021-05-08 15:39:39,244: task[6096400a73dabd2718ddf76b] update info: {'failMsg': '前往三楼夹具点A工位点', 'updateTime': datetime.datetime(2021, 5, 8, 15, 39, 39, 232736)}
[DEBUG]2021-05-08 15:39:39,279: task[6096400a73dabd2718ddf76b][AGV04] AP22(LM17) -> AP25(LM24) [startMoveAGV] initAGV -> startMoveAGV
[INFO]2021-05-08 15:39:39,660: this is handle taskStep=============>startMoveAGV
[DEBUG]2021-05-08 15:39:39,707: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6096400a73dabd2718ddf76b_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-05-08 15:39:39,714: Begin: AGV04 move from comba-ZXC-F3.LM20 to comba-ZXC-F3.AP22 by paths: [('comba-ZXC-F3', ['LM20', 'LM21', 'LM17', 'AP18', 'AP22'], 5.569704036667539)] task: 6096400a73dabd2718ddf76b_2 timeout 86400 used 5 ms
[DEBUG]2021-05-08 15:39:39,715: used 8ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6096400a73dabd2718ddf76b_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[DEBUG]2021-05-08 15:39:39,717: task[6096400a73dabd2718ddf76b][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload] startMoveAGV -> loadPlayload
[INFO]2021-05-08 15:39:40,019: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:40,325: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:40,327: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM21 ,taskId 6096400a73dabd2718ddf76b_2
[INFO]2021-05-08 15:39:40,629: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:40,931: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:41,234: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:41,539: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:41,845: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:42,148: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:42,450: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:42,755: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:43,059: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:43,364: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:43,671: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:43,975: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:39:44,256: connect AGV01 failed timed out
[INFO]2021-05-08 15:39:44,257: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:39:44,258: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 10089 ms
[INFO]2021-05-08 15:39:44,260: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:39:44,278: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:44,581: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:39:44,607: connect AGV02 failed timed out
[INFO]2021-05-08 15:39:44,609: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:39:44,610: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 10081 ms
[INFO]2021-05-08 15:39:44,612: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:39:44,816: connect AGV03 failed timed out
[INFO]2021-05-08 15:39:44,817: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:39:44,818: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 10124 ms
[INFO]2021-05-08 15:39:44,820: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:39:44,884: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:45,190: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:45,498: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:45,804: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:46,107: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:46,262: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:39:46,409: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:46,616: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 15:39:46,711: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:46,822: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:39:47,019: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:47,325: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:47,631: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:47,938: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:48,240: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:48,545: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:48,590: AGV04 turn to wait check cur LM20 next LM17 0.608 False
[INFO]2021-05-08 15:39:48,852: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:49,122: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM17 ,taskId 6096400a73dabd2718ddf76b_2
[INFO]2021-05-08 15:39:49,160: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:49,463: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:49,601: AGV04 set loc comba-ZXC-F3.LM21 ,old LM20 (9.04,6.18)
[INFO]2021-05-08 15:39:49,769: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:49,831: AGV04 turn to wait check cur LM21 next AP18 0.452 False
[INFO]2021-05-08 15:39:50,072: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:50,340: agvInfo: AGV04 comba-ZXC-F3.LM21 move to comba-ZXC-F3.AP18 ,taskId 6096400a73dabd2718ddf76b_2
[INFO]2021-05-08 15:39:50,380: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:50,683: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 15:39:50,762: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=10008, ppid=10724, tid=8732
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:39:50,992: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:51,296: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:51,599: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:51,770: remoteio is alarm: []
[INFO]2021-05-08 15:39:51,904: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:52,206: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:52,516: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:39:52,775: AGV04 low battery charge,batteryLevel= 0.316 start charge level= 0.400
[WARN]2021-05-08 15:39:52,776: AGV04 battery 0.316 check failed: isLocked
[DEBUG]2021-05-08 15:39:52,777: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 15:39:52,820: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:53,123: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:53,426: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:53,729: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:54,032: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:54,334: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:54,637: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:54,945: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:55,248: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:55,557: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:55,860: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:56,164: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:39:56,266: connect AGV01 failed timed out
[INFO]2021-05-08 15:39:56,267: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:39:56,268: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 10006 ms
[INFO]2021-05-08 15:39:56,269: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:39:56,471: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:39:56,617: connect AGV02 failed timed out
[INFO]2021-05-08 15:39:56,618: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:39:56,619: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 10003 ms
[INFO]2021-05-08 15:39:56,620: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:39:56,778: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:39:56,827: connect AGV03 failed timed out
[INFO]2021-05-08 15:39:56,829: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:39:56,831: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 10009 ms
[INFO]2021-05-08 15:39:56,833: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:39:56,905: AGV04 set loc comba-ZXC-F3.LM17 ,old LM21 (9.19,5.89)
[DEBUG]2021-05-08 15:39:57,068: AGV04 choise next pos cur LM17 next AP22 pre AP18 1.977 False
[DEBUG]2021-05-08 15:39:57,070: AGV04 turn to wait check cur LM17 next AP22 1.977 False
[INFO]2021-05-08 15:39:57,084: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:57,386: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:57,598: agvInfo: AGV04 comba-ZXC-F3.LM17 move jackup to comba-ZXC-F3.AP22 ,taskId 6096400a73dabd2718ddf76b_2
[INFO]2021-05-08 15:39:57,603: --------------------跳转到driver下的seerAgv下的agcCtrl.py中的goTargetAndDoWork函数中-----------------10---------
[INFO]2021-05-08 15:39:57,605: 1
[INFO]2021-05-08 15:39:57,608: {'id': 'AP22', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': False}
[INFO]2021-05-08 15:39:57,610: --------------------------准备进去driver中的seerAgv.py下的task函数-----------------（11）--------------
[INFO]2021-05-08 15:39:57,688: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:57,990: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:58,271: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:39:58,296: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:58,607: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:39:58,621: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 15:39:58,836: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:39:58,909: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:39:59,092: worker 9[tid:5940] <locked _thread.RLock object owner=5940 count=1 at 0x000001A5B95B08F0> ,hold 23347 ms
[INFO]2021-05-08 15:39:59,100: name=worker 9, pid=10008, tid=5940
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:39:59,120: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=5940
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:39:59,125: invoke <function urlReadDOList at 0x000001A5B80EFD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=10008, ppid=10724, tid=5940
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 15:39:59,213: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:59,517: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:39:59,821: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:00,123: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:00,432: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:00,735: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:01,037: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:01,344: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:01,651: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:01,954: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:02,257: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:02,564: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:02,872: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:40:02,903: raise alarm obj=AGV04, typeId=54231, desc=AGV异常, id=60964052697d98928ef141f9
[INFO]2021-05-08 15:40:03,179: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:03,482: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:03,785: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:04,088: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:04,391: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:40:04,672: raise alarm obj=AGV04, typeId=52200, desc=AGV异常, id=60964054697d98928ef141fb
[INFO]2021-05-08 15:40:04,698: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:05,003: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:05,306: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:05,613: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:05,920: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:06,223: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:06,525: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:06,828: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:07,136: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:07,439: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:07,746: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 15:40:07,783: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=10008, ppid=10724, tid=8732
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:40:08,069: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:40:08,276: connect AGV01 failed timed out
[INFO]2021-05-08 15:40:08,279: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:40:08,281: agvThread.AGV01[tid:12828] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=12828 count=1 at 0x000001A5BAB7EA08>> ,hold 10010 ms
[INFO]2021-05-08 15:40:08,283: name=agvThread.AGV01, pid=10008, tid=12828
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:40:08,372: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:40:08,622: connect AGV02 failed timed out
[INFO]2021-05-08 15:40:08,624: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:40:08,624: agvThread.AGV02[tid:12588] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12588 count=1 at 0x000001A5BAB7E440>> ,hold 10003 ms
[INFO]2021-05-08 15:40:08,626: name=agvThread.AGV02, pid=10008, tid=12588
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:40:08,675: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:08,793: remoteio is alarm: []
[ERROR]2021-05-08 15:40:08,837: connect AGV03 failed timed out
[INFO]2021-05-08 15:40:08,838: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:40:08,839: agvThread.AGV03[tid:3680] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=3680 count=1 at 0x000001A5BAB7EC10>> ,hold 10003 ms
[INFO]2021-05-08 15:40:08,840: name=agvThread.AGV03, pid=10008, tid=3680
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:40:08,980: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:09,287: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:09,594: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:40:09,801: AGV04 low battery charge,batteryLevel= 0.316 start charge level= 0.400
[WARN]2021-05-08 15:40:09,803: AGV04 battery 0.316 check failed: isLocked
[DEBUG]2021-05-08 15:40:09,804: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 15:40:09,897: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:10,200: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:40:10,285: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:40:10,504: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:40:10,628: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 15:40:10,807: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:40:10,842: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:40:11,110: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:11,418: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:11,725: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:12,028: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:12,331: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:12,638: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:12,942: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:13,249: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:13,556: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:13,860: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:14,163: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:14,473: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:14,780: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:15,084: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:15,388: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:15,692: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:15,999: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:16,303: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:40:16,605: this is handle taskStep=============>loadPlayload
