[INFO]2021-05-11 14:43:54,201: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-11 14:43:54,201: find module agvCtrl.main_agv
[INFO]2021-05-11 14:43:54,201: find module agvDevice.main_agvDevice
[INFO]2021-05-11 14:43:54,202: find module alarm.main_alarm
[INFO]2021-05-11 14:43:54,202: find module auth.main_auth
[INFO]2021-05-11 14:43:54,202: find module autoCtrl.main_akmCtrl
[INFO]2021-05-11 14:43:54,202: find module door.main_door
[INFO]2021-05-11 14:43:54,203: find module elevator.main_elevator
[INFO]2021-05-11 14:43:54,203: find module feed.main_feed
[INFO]2021-05-11 14:43:54,208: find module remoteio.main_remoteio
[INFO]2021-05-11 14:43:54,209: import agvCtrl.main_agv
[INFO]2021-05-11 14:43:54,809: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C370E67B0>>
[INFO]2021-05-11 14:43:54,812: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C370E6918>>
[INFO]2021-05-11 14:43:54,944: create lock <lock name:timer.lock_2869964286328,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C3732F440>>
[ERROR]2021-05-11 14:43:54,961: mqtt is disabled
[INFO]2021-05-11 14:43:54,962: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-11 14:43:54,963: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-11 14:43:58,015: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-11 14:43:58,061: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C374F8B48>>
[INFO]2021-05-11 14:43:58,063: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C374F8788>>
[INFO]2021-05-11 14:43:58,064: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C374F8300>>
[INFO]2021-05-11 14:43:58,083: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C37601760>>
[INFO]2021-05-11 14:43:58,244: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C358BC198>>
[INFO]2021-05-11 14:43:58,493: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C376FDE40>>
[INFO]2021-05-11 14:43:58,497: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C37744F30>>
[INFO]2021-05-11 14:43:58,543: charge policy 0 , fix time
[INFO]2021-05-11 14:43:58,571: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C377BE1C0>>
[INFO]2021-05-11 14:43:58,992: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-11 14:43:59,075: elevator thread start
[INFO]2021-05-11 14:43:59,093: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 108 ms
[INFO]2021-05-11 14:43:59,100: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-11 14:43:59,244: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 151 ms
[INFO]2021-05-11 14:43:59,252: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-11 14:43:59,326: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 81 ms
[INFO]2021-05-11 14:43:59,334: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-11 14:43:59,382: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 55 ms
[INFO]2021-05-11 14:43:59,390: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-11 14:43:59,423: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 40 ms
[INFO]2021-05-11 14:43:59,425: import agvDevice.main_agvDevice
[INFO]2021-05-11 14:43:59,425: import alarm.main_alarm
[INFO]2021-05-11 14:43:59,426: import auth.main_auth
[INFO]2021-05-11 14:43:59,434: import autoCtrl.main_akmCtrl
[INFO]2021-05-11 14:43:59,451: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C37BD8468>>
[INFO]2021-05-11 14:43:59,457: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C37BA78C8>>
[INFO]2021-05-11 14:43:59,476: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C37B80FD0>>
[INFO]2021-05-11 14:43:59,479: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C37C8A0D0>>
[INFO]2021-05-11 14:44:00,111: import door.main_door
[INFO]2021-05-11 14:44:00,114: import elevator.main_elevator
[INFO]2021-05-11 14:44:00,114: import feed.main_feed
[INFO]2021-05-11 14:44:00,125: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38731508>>
[INFO]2021-05-11 14:44:00,160: import remoteio.main_remoteio
[SUCC]2021-05-11 14:44:00,190: utility start, pid=16400, ppid=15644
[DEBUG]2021-05-11 14:44:00,191: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-11 14:44:00,191: start timer
[DEBUG]2021-05-11 14:44:00,192: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-11 14:44:00,203: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-11 14:44:00,204: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11468>>
[DEBUG]2021-05-11 14:44:00,210: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-11 14:44:00,211: AGV01 start agvList run thread
[INFO]2021-05-11 14:44:00,211: AGV01 start agvList run2 thread
[INFO]2021-05-11 14:44:00,212: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11A08>>
[DEBUG]2021-05-11 14:44:00,213: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-11 14:44:00,215: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11A30>>
[DEBUG]2021-05-11 14:44:00,217: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-11 14:44:00,218: AGV03 start agvList run thread
[INFO]2021-05-11 14:44:00,218: AGV03 start agvList run2 thread
[INFO]2021-05-11 14:44:00,218: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11BC0>>
[INFO]2021-05-11 14:44:00,219: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11C10>>
[DEBUG]2021-05-11 14:44:00,220: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-11 14:44:00,221: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-11 14:44:00,226: AGV04 start agvList run thread
[INFO]2021-05-11 14:44:00,226: AGV04 start agvList run2 thread
[WARN]2021-05-11 14:44:00,226: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 16400
[INFO]2021-05-11 14:44:00,226: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11418>>
[INFO]2021-05-11 14:44:00,227: add_ignore: taskStatus
[DEBUG]2021-05-11 14:44:00,227: try connect AGV04 172.16.217.211:19204
[INFO]2021-05-11 14:44:00,234: AGV03 connected 172.16.217.121 19204
[INFO]2021-05-11 14:44:00,235: create lock <lock name:agv.AGV03.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11D50>>
[DEBUG]2021-05-11 14:44:00,236: try connect AGV03 172.16.217.121:19205
[INFO]2021-05-11 14:44:00,240: AGV01 connected 172.16.217.209 19204
[INFO]2021-05-11 14:44:00,241: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C119B8>>
[DEBUG]2021-05-11 14:44:00,242: try connect AGV01 172.16.217.209:19205
[INFO]2021-05-11 14:44:00,245: AGV03 connected 172.16.217.121 19205
[INFO]2021-05-11 14:44:00,245: AGV04 connected 172.16.217.211 19204
[INFO]2021-05-11 14:44:00,246: create lock <lock name:agv.AGV03.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE508>>
[INFO]2021-05-11 14:44:00,246: create lock <lock name:agv.AGV04.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C38C11620>>
[DEBUG]2021-05-11 14:44:00,247: try connect AGV03 172.16.217.121:19206
[DEBUG]2021-05-11 14:44:00,247: try connect AGV04 172.16.217.211:19205
[INFO]2021-05-11 14:44:00,253: AGV04 connected 172.16.217.211 19205
[INFO]2021-05-11 14:44:00,254: create lock <lock name:agv.AGV04.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE8C8>>
[DEBUG]2021-05-11 14:44:00,254: try connect AGV04 172.16.217.211:19206
[INFO]2021-05-11 14:44:00,261: AGV03 connected 172.16.217.121 19206
[INFO]2021-05-11 14:44:00,262: create lock <lock name:agv.AGV03.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE8F0>>
[DEBUG]2021-05-11 14:44:00,262: try connect AGV03 172.16.217.121:19207
[INFO]2021-05-11 14:44:00,264: AGV01 connected 172.16.217.209 19205
[INFO]2021-05-11 14:44:00,265: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE878>>
[DEBUG]2021-05-11 14:44:00,265: try connect AGV01 172.16.217.209:19206
[INFO]2021-05-11 14:44:00,271: AGV03 connected 172.16.217.121 19207
[INFO]2021-05-11 14:44:00,272: AGV04 connected 172.16.217.211 19206
[INFO]2021-05-11 14:44:00,272: create lock <lock name:agv.AGV03.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE828>>
[INFO]2021-05-11 14:44:00,273: create lock <lock name:agv.AGV04.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE940>>
[DEBUG]2021-05-11 14:44:00,274: try connect AGV03 172.16.217.121:19208
[DEBUG]2021-05-11 14:44:00,274: try connect AGV04 172.16.217.211:19207
[INFO]2021-05-11 14:44:00,282: AGV01 connected 172.16.217.209 19206
[INFO]2021-05-11 14:44:00,283: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE918>>
[DEBUG]2021-05-11 14:44:00,284: try connect AGV01 172.16.217.209:19207
[INFO]2021-05-11 14:44:00,301: AGV04 connected 172.16.217.211 19207
[INFO]2021-05-11 14:44:00,302: create lock <lock name:agv.AGV04.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE9E0>>
[DEBUG]2021-05-11 14:44:00,303: try connect AGV04 172.16.217.211:19208
[INFO]2021-05-11 14:44:00,303: AGV03 connected 172.16.217.121 19208
[INFO]2021-05-11 14:44:00,303: AGV01 connected 172.16.217.209 19207
[INFO]2021-05-11 14:44:00,305: create lock <lock name:agv.AGV03.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DEA08>>
[INFO]2021-05-11 14:44:00,305: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE968>>
[DEBUG]2021-05-11 14:44:00,306: try connect AGV03 172.16.217.121:19210
[DEBUG]2021-05-11 14:44:00,306: try connect AGV01 172.16.217.209:19208
[INFO]2021-05-11 14:44:00,311: AGV03 connected 172.16.217.121 19210
[INFO]2021-05-11 14:44:00,325: AGV04 connected 172.16.217.211 19208
[INFO]2021-05-11 14:44:00,326: create lock <lock name:agv.AGV04.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DE850>>
[DEBUG]2021-05-11 14:44:00,326: try connect AGV04 172.16.217.211:19210
[INFO]2021-05-11 14:44:00,328: AGV01 connected 172.16.217.209 19208
[INFO]2021-05-11 14:44:00,328: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029C366DEA30>>
[DEBUG]2021-05-11 14:44:00,329: try connect AGV01 172.16.217.209:19210
[INFO]2021-05-11 14:44:00,344: AGV03 current map comba-ZXC-3F
[INFO]2021-05-11 14:44:00,351: AGV04 connected 172.16.217.211 19210
[INFO]2021-05-11 14:44:00,357: AGV01 connected 172.16.217.209 19210
[INFO]2021-05-11 14:44:00,366: AGV04 current map comba-ZXC-F3
[INFO]2021-05-11 14:44:00,374: AGV03 is online
[WARN]2021-05-11 14:44:00,374: AGV03 relocate failed
[INFO]2021-05-11 14:44:00,385: AGV01 current map comba-ZXC-F3
[INFO]2021-05-11 14:44:00,408: AGV04 is online
[INFO]2021-05-11 14:44:00,460: AGV01 is online
[DEBUG]2021-05-11 14:44:05,199: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-11 14:44:05,201: akmTask init client agvApi
[DEBUG]2021-05-11 14:44:05,202: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[WARN]2021-05-11 14:44:05,296: agvThread.AGV03[tid:18188] <lock name:agv.AGV03.lock_ctrl,<locked _thread.RLock object owner=18188 count=1 at 0x0000029C38C11D50>> ,hold 4921 ms
[INFO]2021-05-11 14:44:05,388: name=agvThread.AGV03, pid=16400, tid=18188
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 573, in run() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 866, in readStatus1() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 883, in _checkReloc() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 453, in _relocHome() 
[06] File "../driver/seerAgv/agvCtrl.py", line 57, in reloc2() 
[07] File "../driver/seerAgv/agvApi.py", line 191, in ctrl() 
[08] File "../driver/seerAgv/agvApi.py", line 255, in _handle() 
[09] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-11 14:44:05,434: readStatus1, agvId:AGV03 cause a error: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'
pid=16400, ppid=15644, tid=18188
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 866, in readStatus1
    self._checkReloc()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 883, in _checkReloc
    self._relocHome()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 453, in _relocHome
    agvCtrl.reloc2(self.agvId,loc=loc)
  File "..\driver\seerAgv\agvCtrl.py", line 57, in reloc2
    agvApi.ctrl(agvId,"robot_control_reloc_req",{"loc": loc})
  File "..\driver\seerAgv\agvApi.py", line 191, in ctrl
    return _handle(agvId, API_PORT_CTRL, type, data)
  File "..\driver\seerAgv\agvApi.py", line 252, in _handle
    result = _request(agvId, port, typeId, data)
  File "..\driver\seerAgv\agvApi.py", line 289, in _request
    result = sendCmd(agvId, buf, ip, port, type)
  File "..\driver\seerAgv\agvApi.py", line 315, in sendCmd
    result= _checkError(agvId, type, obj)
  File "..\driver\seerAgv\agvApi.py", line 366, in _checkError
    raise IOError(agvId + "执行" + str(type) + "错误" + ",code=" + str(code) + ",msg=" + msg)
OSError: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'

[WARN]2021-05-11 14:44:06,066: AGV03 relocate failed
[DEBUG]2021-05-11 14:44:08,291: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-11 14:44:08,328: used 37ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-11 14:44:08,497: timer_thread[tid:16392] <locked _thread.RLock object owner=16392 count=1 at 0x0000029C37BA78A0> ,hold 8302 ms
[INFO]2021-05-11 14:44:08,575: name=timer_thread, pid=16400, tid=16392
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-11 14:44:10,030: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:10,221: [return] use 191 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:10,271: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:10,648: [return] use 377 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:10,684: init IO success
[DEBUG]2021-05-11 14:44:10,744: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:11,139: [return] use 395 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:11,175: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:11,328: [return] use 153 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:11,353: AAS产线 upStation01 [1, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[WARN]2021-05-11 14:44:11,593: agvThread.AGV03[tid:18188] <lock name:agv.AGV03.lock_ctrl,<locked _thread.RLock object owner=18188 count=1 at 0x0000029C38C11D50>> ,hold 5502 ms
[INFO]2021-05-11 14:44:11,671: name=agvThread.AGV03, pid=16400, tid=18188
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 573, in run() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 866, in readStatus1() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 883, in _checkReloc() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 453, in _relocHome() 
[06] File "../driver/seerAgv/agvCtrl.py", line 57, in reloc2() 
[07] File "../driver/seerAgv/agvApi.py", line 191, in ctrl() 
[08] File "../driver/seerAgv/agvApi.py", line 255, in _handle() 
[09] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-11 14:44:11,753: readStatus1, agvId:AGV03 cause a error: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'
pid=16400, ppid=15644, tid=18188
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 866, in readStatus1
    self._checkReloc()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 883, in _checkReloc
    self._relocHome()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 453, in _relocHome
    agvCtrl.reloc2(self.agvId,loc=loc)
  File "..\driver\seerAgv\agvCtrl.py", line 57, in reloc2
    agvApi.ctrl(agvId,"robot_control_reloc_req",{"loc": loc})
  File "..\driver\seerAgv\agvApi.py", line 191, in ctrl
    return _handle(agvId, API_PORT_CTRL, type, data)
  File "..\driver\seerAgv\agvApi.py", line 252, in _handle
    result = _request(agvId, port, typeId, data)
  File "..\driver\seerAgv\agvApi.py", line 289, in _request
    result = sendCmd(agvId, buf, ip, port, type)
  File "..\driver\seerAgv\agvApi.py", line 315, in sendCmd
    result= _checkError(agvId, type, obj)
  File "..\driver\seerAgv\agvApi.py", line 366, in _checkError
    raise IOError(agvId + "执行" + str(type) + "错误" + ",code=" + str(code) + ",msg=" + msg)
OSError: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'

[WARN]2021-05-11 14:44:12,377: AGV03 relocate failed
[INFO]2021-05-11 14:44:12,455: remoteio is alarm: []
[DEBUG]2021-05-11 14:44:13,482: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:13,638: [return] use 156 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:13,674: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:14,165: [return] use 491 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:14,194: AAS产线 upStation01 [1, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-05-11 14:44:14,254: create task[609a27be73dabd40100b2ca4]: type= load , AAS产线执行任务load {'source': 'comba-ZXC-F3.AP11', 'target': 'comba-ZXC-F3.AP12', 's_io': 'upStation01', 't_io': 'downStation01', 'line': 'AAS产线', 'type': 'load', 'taskName': 'AAS产线执行任务load', 'createTime': datetime.datetime(2021, 5, 11, 14, 44, 14, 230827), 'updateTime': datetime.datetime(2021, 5, 11, 14, 44, 14, 230827), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('609a27be73dabd40100b2ca4')}
[INFO]2021-05-11 14:44:14,344: create task[609a27be73dabd40100b2ca5]: type= unload , AAS产线执行任务unload {'source': 'comba-ZXC-F3.AP12', 'target': 'comba-ZXC-F3.AP11', 's_io': 'downStation01', 't_io': 'upStation01', 'line': 'AAS产线', 'type': 'unload', 'taskName': 'AAS产线执行任务unload', 'createTime': datetime.datetime(2021, 5, 11, 14, 44, 14, 278699), 'updateTime': datetime.datetime(2021, 5, 11, 14, 44, 14, 278699), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('609a27be73dabd40100b2ca5')}
[INFO]2021-05-11 14:44:16,466: task[609a27be73dabd40100b2ca4]:  start {'step': 'checkBeginSignal', 'startTime': datetime.datetime(2021, 5, 11, 14, 44, 16, 448872), 'updateTime': datetime.datetime(2021, 5, 11, 14, 44, 16, 448872), 'status': 'running'}
[DEBUG]2021-05-11 14:44:16,526: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:16,526: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:16,892: [return] use 366 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:16,934: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:17,060: [return] use 534 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 14:44:17,137: task[609a27be73dabd40100b2ca4] update info: {'step': 'waitForAgv', 'msg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 11, 14, 44, 17, 113089)}
[DEBUG]2021-05-11 14:44:17,184: [return] use 250 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:17,190: 从上工序设备运送框至下工序设备 checkBeginSignal -> waitForAgv
[INFO]2021-05-11 14:44:17,220: AAS产线 upStation01 [1, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-05-11 14:44:17,837: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=comba-ZXC-F3.AP11&mapId=comba-ZXC-F3&taskId=609a27be73dabd40100b2ca4&timeout=10 addr: 127.0.0.1
[INFO]2021-05-11 14:44:17,867: agvControl中的_apply进去
[INFO]2021-05-11 14:44:17,908: [('comba-ZXC-F3.LM4', 'AGV01')]
[WARN]2021-05-11 14:44:18,342: agvThread.AGV03[tid:18188] <lock name:agv.AGV03.lock_ctrl,<locked _thread.RLock object owner=18188 count=1 at 0x0000029C38C11D50>> ,hold 5904 ms
[INFO]2021-05-11 14:44:18,408: name=agvThread.AGV03, pid=16400, tid=18188
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 573, in run() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 866, in readStatus1() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 883, in _checkReloc() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 453, in _relocHome() 
[06] File "../driver/seerAgv/agvCtrl.py", line 57, in reloc2() 
[07] File "../driver/seerAgv/agvApi.py", line 191, in ctrl() 
[08] File "../driver/seerAgv/agvApi.py", line 255, in _handle() 
[09] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-11 14:44:18,495: readStatus1, agvId:AGV03 cause a error: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'
pid=16400, ppid=15644, tid=18188
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 866, in readStatus1
    self._checkReloc()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 883, in _checkReloc
    self._relocHome()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 453, in _relocHome
    agvCtrl.reloc2(self.agvId,loc=loc)
  File "..\driver\seerAgv\agvCtrl.py", line 57, in reloc2
    agvApi.ctrl(agvId,"robot_control_reloc_req",{"loc": loc})
  File "..\driver\seerAgv\agvApi.py", line 191, in ctrl
    return _handle(agvId, API_PORT_CTRL, type, data)
  File "..\driver\seerAgv\agvApi.py", line 252, in _handle
    result = _request(agvId, port, typeId, data)
  File "..\driver\seerAgv\agvApi.py", line 289, in _request
    result = sendCmd(agvId, buf, ip, port, type)
  File "..\driver\seerAgv\agvApi.py", line 315, in sendCmd
    result= _checkError(agvId, type, obj)
  File "..\driver\seerAgv\agvApi.py", line 366, in _checkError
    raise IOError(agvId + "执行" + str(type) + "错误" + ",code=" + str(code) + ",msg=" + msg)
OSError: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'

[DEBUG]2021-05-11 14:44:19,329: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 14:44:19,485: apply AGV01 ,taskId: 609a27be73dabd40100b2ca4 ,loc comba-ZXC-F3.AP11 ,autoLock False , used 1577 ms
[WARN]2021-05-11 14:44:19,491: AGV03 relocate failed
[INFO]2021-05-11 14:44:19,504: AGV01
[DEBUG]2021-05-11 14:44:19,504: [return] use 175 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 14:44:19,592: 5555555555555555555555555
[DEBUG]2021-05-11 14:44:19,621: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:19,665: 6666666666666666666666666
[INFO]2021-05-11 14:44:19,772: AGV01
[DEBUG]2021-05-11 14:44:19,947: [return] use 326 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:19,965: AAS产线 upStation01 [1, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-05-11 14:44:20,150: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGV01&timeoutSec=30&unitId=2
[DEBUG]2021-05-11 14:44:20,210: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGV01&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-05-11 14:44:20,354: AGV01 checkUnitStatus unitId: 2
[DEBUG]2021-05-11 14:44:20,378: used 168ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGV01&timeoutSec=30&unitId=2
[DEBUG]2021-05-11 14:44:20,438: [return] use 288 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGV01&timeoutSec=30&unitId=2
[INFO]2021-05-11 14:44:20,480: 1111111111111111111111
[DEBUG]2021-05-11 14:44:20,600: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV01&appName=akmTask&taskId=609a27be73dabd40100b2ca4 addr: 127.0.0.1
[DEBUG]2021-05-11 14:44:20,630: lock:  AGV01 taskId 609a27be73dabd40100b2ca4 app akmTask
[WARN]2021-05-11 14:44:21,681: AGV01 clear task finish, cur= comba-ZXC-F3.LM4 task_status= 4
[DEBUG]2021-05-11 14:44:21,711: used 1111ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV01&appName=akmTask&taskId=609a27be73dabd40100b2ca4
[INFO]2021-05-11 14:44:21,801: 22222222222222222222222
[INFO]2021-05-11 14:44:21,831: AGV01
[INFO]2021-05-11 14:44:21,885: 从上工序设备运送框至下工序设备 apply AGV01
[DEBUG]2021-05-11 14:44:21,909: send http_get: http://127.0.0.1:8999/api/remoteio/writeDO?id=downStation01&index=3&value=0
[DEBUG]2021-05-11 14:44:22,016: GET: http://127.0.0.1:8999/api/remoteio/writeDO?id=downStation01&index=3&value=0 addr: 127.0.0.1
[DEBUG]2021-05-11 14:44:22,112: used 96ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/remoteio/writeDO?id=downStation01&index=3&value=0
[DEBUG]2021-05-11 14:44:22,184: [return] use 275 ms,http_get: http://127.0.0.1:8999/api/remoteio/writeDO?id=downStation01&index=3&value=0
[DEBUG]2021-05-11 14:44:22,226: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:22,615: [return] use 389 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 14:44:22,639: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:22,920: [return] use 281 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:22,950: AAS产线 upStation01 [1, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-05-11 14:44:23,213: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:23,485: [return] use 272 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 14:44:23,521: task: [609a27be73dabd40100b2ca4][downStation01] readDo status  [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-05-11 14:44:23,544: send http_get: http://127.0.0.1:8999/api/remoteio/writeDO?id=upStation01&index=3&value=0
[DEBUG]2021-05-11 14:44:23,636: GET: http://127.0.0.1:8999/api/remoteio/writeDO?id=upStation01&index=3&value=0 addr: 127.0.0.1
[DEBUG]2021-05-11 14:44:23,690: used 54ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/remoteio/writeDO?id=upStation01&index=3&value=0
[DEBUG]2021-05-11 14:44:23,730: [return] use 186 ms,http_get: http://127.0.0.1:8999/api/remoteio/writeDO?id=upStation01&index=3&value=0
[INFO]2021-05-11 14:44:24,041: remoteio is alarm: []
[WARN]2021-05-11 14:44:24,734: agvThread.AGV03[tid:18188] <lock name:agv.AGV03.lock_ctrl,<locked _thread.RLock object owner=18188 count=1 at 0x0000029C38C11D50>> ,hold 5178 ms
[DEBUG]2021-05-11 14:44:24,752: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 14:44:24,848: name=agvThread.AGV03, pid=16400, tid=18188
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 573, in run() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 866, in readStatus1() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 883, in _checkReloc() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 453, in _relocHome() 
[06] File "../driver/seerAgv/agvCtrl.py", line 57, in reloc2() 
[07] File "../driver/seerAgv/agvApi.py", line 191, in ctrl() 
[08] File "../driver/seerAgv/agvApi.py", line 255, in _handle() 
[09] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-11 14:44:24,924: readStatus1, agvId:AGV03 cause a error: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'
pid=16400, ppid=15644, tid=18188
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 866, in readStatus1
    self._checkReloc()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 883, in _checkReloc
    self._relocHome()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 453, in _relocHome
    agvCtrl.reloc2(self.agvId,loc=loc)
  File "..\driver\seerAgv\agvCtrl.py", line 57, in reloc2
    agvApi.ctrl(agvId,"robot_control_reloc_req",{"loc": loc})
  File "..\driver\seerAgv\agvApi.py", line 191, in ctrl
    return _handle(agvId, API_PORT_CTRL, type, data)
  File "..\driver\seerAgv\agvApi.py", line 252, in _handle
    result = _request(agvId, port, typeId, data)
  File "..\driver\seerAgv\agvApi.py", line 289, in _request
    result = sendCmd(agvId, buf, ip, port, type)
  File "..\driver\seerAgv\agvApi.py", line 315, in sendCmd
    result= _checkError(agvId, type, obj)
  File "..\driver\seerAgv\agvApi.py", line 366, in _checkError
    raise IOError(agvId + "执行" + str(type) + "错误" + ",code=" + str(code) + ",msg=" + msg)
OSError: AGV03执行2002错误,code=60001,msg=<class 'struct.error'>: 'required argument is not a float' when writing 'loc: ''
x: -0.605
y: 10.863
angle: None
isRotate: False'

[DEBUG]2021-05-11 14:44:25,067: [return] use 315 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 14:44:25,115: task: [609a27be73dabd40100b2ca4][upStation01] readDo status  [1, 0, 0, 0, 1, 0, 0, 0]
[DEBUG]2021-05-11 14:44:25,140: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 14:44:25,218: task[609a27be73dabd40100b2ca4] update info: {'agvId': 'AGV01', 'step': 'moveSource', 'msg': '检测挡块上升状态AGV01', 'updateTime': datetime.datetime(2021, 5, 11, 14, 44, 25, 200379)}
[DEBUG]2021-05-11 14:44:25,380: 从上工序设备运送框至下工序设备 waitForAgv -> moveSource
[DEBUG]2021-05-11 14:44:25,537: [return] use 397 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[WARN]2021-05-11 14:44:25,573: AGV03 relocate failed
[DEBUG]2021-05-11 14:44:25,592: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:25,917: [return] use 324 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 14:44:25,917: GET: http://127.0.0.1:8999/api/agv/move?agv=AGV01&agvId=AGV01&appName=akmTask&floorId=comba-ZXC-F3&loc=comba-ZXC-F3.AP11&location=comba-ZXC-F3.AP11&taskId=609a27be73dabd40100b2ca4_1&taskType=load&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-05-11 14:44:25,918: AAS产线 upStation01 [1, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 1, 0, 0, 0]
[INFO]2021-05-11 14:44:25,924: Begin: AGV01 move from comba-ZXC-F3.LM4 to comba-ZXC-F3.AP11 by paths: [('comba-ZXC-F3', ['LM4', 'LM3', 'LM1', 'LM13', 'AP11'], 16.103535703838933)] task: 609a27be73dabd40100b2ca4_1 timeout 86400 used 5 ms
[INFO]2021-05-11 14:44:25,927: task[609a27be73dabd40100b2ca4] update info: {'step': 'goSource', 'msg': '检测AAS产线,上工序 叫车信号', 'updateTime': datetime.datetime(2021, 5, 11, 14, 44, 25, 926431)}
[DEBUG]2021-05-11 14:44:25,928: 从上工序设备运送框至下工序设备 moveSource -> goSource
[DEBUG]2021-05-11 14:44:26,526: agvInfo: AGV01 comba-ZXC-F3.LM4 move to comba-ZXC-F3.LM3 ,taskId 609a27be73dabd40100b2ca4_1
[DEBUG]2021-05-11 14:44:27,929: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[WARN]2021-05-11 14:44:30,805: agvThread.AGV03[tid:18188] <lock name:agv.AGV03.lock_ctrl,<locked _thread.RLock object owner=18188 count=1 at 0x0000029C38C11D50>> ,hold 5153 ms
