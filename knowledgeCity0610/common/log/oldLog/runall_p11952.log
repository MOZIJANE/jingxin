[INFO]2021-04-26 16:26:31,009: log files at C:\Users\Administrator\Desktop\SVN\knowledgeCity\common\log
[INFO]2021-04-26 16:26:31,009: find module agvCtrl.main_agv
[INFO]2021-04-26 16:26:31,010: find module agvDevice.main_agvDevice
[INFO]2021-04-26 16:26:31,011: find module alarm.main_alarm
[INFO]2021-04-26 16:26:31,011: find module auth.main_auth
[INFO]2021-04-26 16:26:31,011: find module autoCtrl.main_akmCtrl
[INFO]2021-04-26 16:26:31,012: find module door.main_door
[INFO]2021-04-26 16:26:31,012: find module elevator.main_elevator
[INFO]2021-04-26 16:26:31,012: find module remoteio.main_remoteio
[INFO]2021-04-26 16:26:31,013: import agvCtrl.main_agv
[INFO]2021-04-26 16:26:31,874: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCC3A30D0>>
[INFO]2021-04-26 16:26:31,877: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCC3A3238>>
[INFO]2021-04-26 16:26:32,047: create lock <lock name:timer.lock_2189568314168,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCC6A7C38>>
[ERROR]2021-04-26 16:26:32,063: mqtt is disabled
[INFO]2021-04-26 16:26:32,063: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-26 16:26:32,064: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-26 16:26:35,124: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-26 16:26:35,169: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCC9773F0>>
[WARN]2021-04-26 16:26:35,182: use mockAgvCtrl
[INFO]2021-04-26 16:26:35,184: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCA93A8F0>>
[INFO]2021-04-26 16:26:35,507: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCCA4A2D8>>
[INFO]2021-04-26 16:26:35,513: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCCA5F698>>
[INFO]2021-04-26 16:26:35,568: charge policy 0 , fix time
[INFO]2021-04-26 16:26:35,600: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDCCA5F3F0>>
[INFO]2021-04-26 16:26:37,285: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-04-26 16:26:37,549: create aliveObj DOOR40 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:37,553: create aliveObj DOOR41 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:37,574: elevator thread start
[INFO]2021-04-26 16:26:37,596: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\20190911_F1.smap ,used 318 ms
[INFO]2021-04-26 16:26:37,606: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\408.smap
[INFO]2021-04-26 16:26:37,671: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\408.smap ,used 74 ms
[INFO]2021-04-26 16:26:37,681: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\510.smap
[INFO]2021-04-26 16:26:37,770: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\510.smap ,used 97 ms
[INFO]2021-04-26 16:26:37,780: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\8-222.smap
[INFO]2021-04-26 16:26:37,836: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\8-222.smap ,used 64 ms
[INFO]2021-04-26 16:26:37,847: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-26 16:26:37,906: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\akmsmt.smap ,used 68 ms
[INFO]2021-04-26 16:26:37,917: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-26 16:26:38,074: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\akmsmtMap.smap ,used 166 ms
[INFO]2021-04-26 16:26:38,084: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\bell.smap
[INFO]2021-04-26 16:26:38,124: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\bell.smap ,used 49 ms
[INFO]2021-04-26 16:26:38,133: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\big.smap
[INFO]2021-04-26 16:26:39,561: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\big.smap ,used 1436 ms
[INFO]2021-04-26 16:26:39,572: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZSC-3F_0419.smap
[INFO]2021-04-26 16:26:39,704: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZSC-3F_0419.smap ,used 141 ms
[INFO]2021-04-26 16:26:39,713: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZSC-F1-F3.smap
[INFO]2021-04-26 16:26:39,940: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZSC-F1-F3.smap ,used 235 ms
[INFO]2021-04-26 16:26:39,950: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZXC-3F.smap
[INFO]2021-04-26 16:26:40,061: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZXC-3F.smap ,used 119 ms
[INFO]2021-04-26 16:26:40,072: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZXC-F3.smap
[INFO]2021-04-26 16:26:40,216: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\comba-ZXC-F3.smap ,used 153 ms
[INFO]2021-04-26 16:26:40,226: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-26 16:26:40,613: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\desai-all-20191223.smap ,used 395 ms
[INFO]2021-04-26 16:26:40,665: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-04-26 16:26:41,091: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\fp-neiwei.smap ,used 462 ms
[INFO]2021-04-26 16:26:41,112: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\fp20190712-1.smap
[DEBUG]2021-04-26 16:26:42,454: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,457: create aliveObj DOOR23 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,459: create aliveObj DOOR08 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,461: create aliveObj DOOR09 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,462: create aliveObj DOOR15 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,462: create aliveObj DOOR07 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,464: create aliveObj DOOR04 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,465: create aliveObj DOOR06 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,466: create aliveObj DOOR17 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,467: create aliveObj DOOR18 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,467: create aliveObj DOOR20 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,468: create aliveObj DOOR25 门控离线异常 timeout 60
[DEBUG]2021-04-26 16:26:42,469: create aliveObj DOOR27 门控离线异常 timeout 60
[INFO]2021-04-26 16:26:42,511: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\fp20190712-1.smap ,used 1417 ms
[INFO]2021-04-26 16:26:42,521: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\shuqin.smap
[INFO]2021-04-26 16:26:42,567: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\shuqin.smap ,used 54 ms
[INFO]2021-04-26 16:26:42,577: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\test430.smap
[INFO]2021-04-26 16:26:42,663: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\test430.smap ,used 95 ms
[INFO]2021-04-26 16:26:42,675: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\testdesay.smap
[INFO]2021-04-26 16:26:42,789: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\testdesay.smap ,used 123 ms
[INFO]2021-04-26 16:26:42,803: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\testmap.smap
[INFO]2021-04-26 16:26:43,020: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\testmap.smap ,used 229 ms
[INFO]2021-04-26 16:26:43,030: start load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\testscada.smap
[INFO]2021-04-26 16:26:43,105: load map C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl\projects\test\testscada.smap ,used 83 ms
[WARN]2021-04-26 16:26:43,107: MainThread[tid:11948] <lock name:mapMgr.lock,<locked _thread.RLock object owner=11948 count=1 at 0x000001FDCA93A8F0>> ,hold 7506 ms
[INFO]2021-04-26 16:26:43,111: name=MainThread, pid=11952, tid=11948
[01] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/run_all.py", line 57, in <module>() 
[02] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 983, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 677, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 728, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 124, in _call() 
[10] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 102, in release() 
[11] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[12] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-04-26 16:26:43,118: import agvDevice.main_agvDevice
[INFO]2021-04-26 16:26:43,118: import alarm.main_alarm
[INFO]2021-04-26 16:26:43,122: import auth.main_auth
[INFO]2021-04-26 16:26:43,131: import autoCtrl.main_akmCtrl
[INFO]2021-04-26 16:26:43,194: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD0D4E6C0>>
[INFO]2021-04-26 16:26:43,208: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD0D999E0>>
[INFO]2021-04-26 16:26:43,252: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD0D994E0>>
[INFO]2021-04-26 16:26:43,254: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD0FD7558>>
[INFO]2021-04-26 16:26:43,340: import door.main_door
[INFO]2021-04-26 16:26:43,344: import elevator.main_elevator
[INFO]2021-04-26 16:26:43,373: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD0FD7F30>>
[INFO]2021-04-26 16:26:43,375: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD0FD7B70>>
[INFO]2021-04-26 16:26:43,379: import remoteio.main_remoteio
[SUCC]2021-04-26 16:26:43,394: utility start, pid=11952, ppid=8496
[DEBUG]2021-04-26 16:26:43,395: start timer
[INFO]2021-04-26 16:26:43,411: load agv file: C:\Users\Administrator\Desktop\SVN\knowledgeCity\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-26 16:26:43,412: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD11B55A8>>
[DEBUG]2021-04-26 16:26:43,425: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-04-26 16:26:43,428: AGV01 start agvList run thread
[INFO]2021-04-26 16:26:43,429: AGV01 start agvList run2 thread
[ERROR]2021-04-26 16:26:43,438: agv check init error False
[INFO]2021-04-26 16:26:43,438: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD11B5558>>
[DEBUG]2021-04-26 16:26:43,440: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-04-26 16:26:43,442: AGV03 start agvList run thread
[INFO]2021-04-26 16:26:43,445: AGV03 start agvList run2 thread
[INFO]2021-04-26 16:26:43,445: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD11B5968>>
[INFO]2021-04-26 16:26:43,449: AGV03 current map comba-ZXC-3F
[INFO]2021-04-26 16:26:43,455: AGV03 is online
[DEBUG]2021-04-26 16:26:43,456: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-04-26 16:26:43,458: AGV04 start agvList run thread
[INFO]2021-04-26 16:26:43,459: AGV04 start agvList run2 thread
[INFO]2021-04-26 16:26:43,459: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FDD11B5B70>>
[INFO]2021-04-26 16:26:43,468: AGV04 current map comba-ZXC-F3
[INFO]2021-04-26 16:26:43,470: AGV04 is online
[DEBUG]2021-04-26 16:26:43,472: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-04-26 16:26:43,593: AGV02 start agvList run thread
[INFO]2021-04-26 16:26:43,880: AGV02 start agvList run2 thread
[ERROR]2021-04-26 16:26:43,883: agv check init error False
[INFO]2021-04-26 16:26:43,948: AGV01 current map comba-ZXC-F3
[INFO]2021-04-26 16:26:43,956: AGV01 is online
[WARN]2021-04-26 16:26:43,969: Local server start! version 3.7.3, path C:\Users\Administrator\Desktop\SVN\knowledgeCity\common, pid 11952
[INFO]2021-04-26 16:26:43,971: add_ignore: taskStatus
[INFO]2021-04-26 16:26:44,435: AGV02 current map comba-ZSC-F1-F3
[INFO]2021-04-26 16:26:44,438: AGV02 is online
[DEBUG]2021-04-26 16:26:49,446: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-04-26 16:26:49,449: akmTask init client agvApi
[DEBUG]2021-04-26 16:26:49,452: used 6ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[DEBUG]2021-04-26 16:26:52,541: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-04-26 16:26:52,571: used 30ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-04-26 16:26:52,709: timer_thread[tid:5792] <locked _thread.RLock object owner=5792 count=1 at 0x000001FDD0D99990> ,hold 8274 ms
[INFO]2021-04-26 16:26:52,940: name=timer_thread, pid=11952, tid=5792
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-04-26 16:26:53,530: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-04-26 16:26:53,813: [return] use 283 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-04-26 16:26:53,981: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-04-26 16:26:54,463: [return] use 482 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-04-26 16:26:54,604: init IO success
[DEBUG]2021-04-26 16:26:54,805: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-04-26 16:26:55,114: [return] use 309 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-04-26 16:26:55,162: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-04-26 16:26:55,306: [return] use 144 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-04-26 16:26:55,334: AAS产线 upStation01 [0, 0, 0, 0, 0, 0, 0, 0] downStation01 [0, 0, 0, 0, 0, 0, 0, 0]
[DEBUG]2021-04-26 16:26:59,293: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-04-26 16:26:59,528: [return] use 235 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-04-26 16:26:59,622: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-04-26 16:26:59,781: [return] use 159 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-04-26 16:26:59,827: AAS产线 upStation01 [0, 0, 0, 0, 0, 0, 0, 0] downStation01 [0, 0, 0, 0, 0, 0, 0, 0]
[INFO]2021-04-26 16:27:01,159: remoteio is alarm: ['upStation01', 'downStation01']
[INFO]2021-04-26 16:27:10,735: remoteio is alarm: ['upStation01', 'downStation01']
[INFO]2021-04-26 16:27:22,540: remoteio is alarm: ['upStation01', 'downStation01']
[INFO]2021-04-26 16:27:34,173: remoteio is alarm: ['upStation01', 'downStation01']
[ERROR]2021-04-26 16:27:37,688: raise alarm obj=DOOR40, typeId=39998, desc=门控离线异常, id=60867979caccf3d610cf372a
[ERROR]2021-04-26 16:27:37,831: raise alarm obj=DOOR41, typeId=39998, desc=门控离线异常, id=60867979caccf3d610cf372c
[ERROR]2021-04-26 16:27:45,001: raise alarm obj=DOOR23, typeId=39998, desc=门控离线异常, id=60867980caccf3d610cf3736
[ERROR]2021-04-26 16:27:45,124: raise alarm obj=DOOR08, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf3738
[ERROR]2021-04-26 16:27:45,233: raise alarm obj=DOOR09, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf373a
[ERROR]2021-04-26 16:27:45,356: raise alarm obj=DOOR15, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf373c
[ERROR]2021-04-26 16:27:45,415: raise alarm obj=DOOR07, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf373e
[ERROR]2021-04-26 16:27:45,525: raise alarm obj=DOOR04, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf3740
[ERROR]2021-04-26 16:27:45,663: raise alarm obj=DOOR06, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf3742
[ERROR]2021-04-26 16:27:45,831: raise alarm obj=DOOR17, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf3744
[ERROR]2021-04-26 16:27:45,924: raise alarm obj=DOOR18, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf3746
[ERROR]2021-04-26 16:27:46,110: raise alarm obj=DOOR20, typeId=39998, desc=门控离线异常, id=60867981caccf3d610cf3748
[ERROR]2021-04-26 16:27:46,379: raise alarm obj=DOOR25, typeId=39998, desc=门控离线异常, id=60867982caccf3d610cf374a
[ERROR]2021-04-26 16:27:46,459: raise alarm obj=DOOR27, typeId=39998, desc=门控离线异常, id=60867982caccf3d610cf374c
[INFO]2021-04-26 16:27:47,948: remoteio is alarm: ['upStation01', 'downStation01', 'DOOR40', 'DOOR41', 'DOOR23', 'DOOR08', 'DOOR09', 'DOOR15', 'DOOR07', 'DOOR04', 'DOOR06', 'DOOR17', 'DOOR18', 'DOOR20', 'DOOR25', 'DOOR27']
[ERROR]2021-04-26 16:27:51,465: raise alarm obj=DOOR13, typeId=39998, desc=门控离线异常, id=60867987caccf3d610cf3755
[WARN]2021-04-26 16:27:53,720: clear alarm obj=DOOR13, typeId=39998, id=60867987caccf3d610cf3755
[INFO]2021-04-26 16:27:57,418: remoteio is alarm: ['upStation01', 'downStation01', 'DOOR40', 'DOOR41', 'DOOR23', 'DOOR08', 'DOOR09', 'DOOR15', 'DOOR07', 'DOOR04', 'DOOR06', 'DOOR17', 'DOOR18', 'DOOR20', 'DOOR25', 'DOOR27']
[INFO]2021-04-26 16:28:09,181: remoteio is alarm: ['upStation01', 'downStation01', 'DOOR40', 'DOOR41', 'DOOR23', 'DOOR08', 'DOOR09', 'DOOR15', 'DOOR07', 'DOOR04', 'DOOR06', 'DOOR17', 'DOOR18', 'DOOR20', 'DOOR25', 'DOOR27']
[DEBUG]2021-04-26 16:28:16,965: GET: http://127.0.0.1:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E4%B8%8A%E6%96%99%E7%82%B9&target=%E4%B8%89%E6%A5%BC%E4%B8%8B%E6%96%99%E7%82%B9 addr: 127.0.0.1
[INFO]2021-04-26 16:28:17,060: Scada send a task to the server from 三楼上料点 to 三楼下料点 payloadId: None
[INFO]2021-04-26 16:28:17,138: create task[608679a1924e05315bc5f9a7]: type= scadaTask , 从三楼上料点运送货架到三楼下料点 {'source': '三楼上料点', 'target': '三楼下料点', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼上料点运送货架到三楼下料点', 'createTime': datetime.datetime(2021, 4, 26, 16, 28, 17, 106988), 'updateTime': datetime.datetime(2021, 4, 26, 16, 28, 17, 106988), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('608679a1924e05315bc5f9a7')}
[INFO]2021-04-26 16:28:17,199: 三楼下料点 三楼上料点
[INFO]2021-04-26 16:28:17,447: task[608679a1924e05315bc5f9a7][-] AP666(LM101) -> AP668(LM115) [waiting] is inside False
[INFO]2021-04-26 16:28:17,558: task cmd: got a task from scada task[608679a1924e05315bc5f9a7][-] AP666(LM101) -> AP668(LM115) [waiting]
[DEBUG]2021-04-26 16:28:17,653: used 688ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E4%B8%8A%E6%96%99%E7%82%B9&target=%E4%B8%89%E6%A5%BC%E4%B8%8B%E6%96%99%E7%82%B9
[INFO]2021-04-26 16:28:17,747: task[608679a1924e05315bc5f9a7]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 26, 16, 28, 17, 730997), 'updateTime': datetime.datetime(2021, 4, 26, 16, 28, 17, 730997), 'status': 'running'}
[DEBUG]2021-04-26 16:28:17,906: GET: http://127.0.0.1:8999/favicon.ico addr: 127.0.0.1
[INFO]2021-04-26 16:28:17,980: task: start task[608679a1924e05315bc5f9a7][-] AP666(LM101) -> AP668(LM115) [waiting]
[DEBUG]2021-04-26 16:28:18,042: used 137ms 200 OK , GET: http://127.0.0.1:8999/favicon.ico
[INFO]2021-04-26 16:28:18,138: this is handle taskStep=============>waiting
[INFO]2021-04-26 16:28:18,511: task[608679a1924e05315bc5f9a7] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 26, 16, 28, 18, 463922)}
[DEBUG]2021-04-26 16:28:18,589: task[608679a1924e05315bc5f9a7][-] AP666(LM101) -> AP668(LM115) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-26 16:28:19,416: this is handle taskStep=============>waitForAgv
[DEBUG]2021-04-26 16:28:19,542: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10 addr: 127.0.0.1
[INFO]2021-04-26 16:28:19,651: agvControl中的_apply进去
[INFO]2021-04-26 16:28:19,758: [('comba-ZXC-3F.LM116', 'AGV03')]
[INFO]2021-04-26 16:28:22,767: apply AGV03 ,taskId: 608679a1924e05315bc5f9a7 ,loc comba-ZXC-3F.AP666 ,autoLock False , used 3009 ms
[INFO]2021-04-26 16:28:22,861: AGV03
[WARN]2021-04-26 16:28:22,986: worker 0[tid:7400] <lock name:mapMgr.lock,<locked _thread.RLock object owner=7400 count=1 at 0x000001FDCA93A8F0>> ,hold 3228 ms
[INFO]2021-04-26 16:28:23,491: name=worker 0, pid=11952, tid=7400
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "C:/Python37/lib/socketserver.py", line 360, in finish_request() 
[06] File "C:/Python37/lib/socketserver.py", line 720, in __init__() 
[07] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "C:/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 305, in wsgi_execute() 
[11] File "C:/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Python37/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "C:/Python37/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "C:/Python37/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "C:/Python37/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/agvCtrl/main_agv.py", line 58, in urlApply() 
[20] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/agvCtrl/agvControl.py", line 1122, in apply() 
[21] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 124, in _call() 
[22] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 102, in release() 
[23] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[24] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-04-26 16:28:23,603: 5555555555555555555555555
[INFO]2021-04-26 16:28:23,858: 6666666666666666666666666
[INFO]2021-04-26 16:28:23,935: AGV03
[DEBUG]2021-04-26 16:28:24,016: used 4474ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10
[INFO]2021-04-26 16:28:24,364: comba-ZXC-3F.AP666 comba-ZXC-3F.AP668
[INFO]2021-04-26 16:28:24,426: AGV03
[INFO]2021-04-26 16:28:24,459: 判断类型
[INFO]2021-04-26 16:28:24,522: 3
[INFO]2021-04-26 16:28:24,584: 00000000000000000000000
[INFO]2021-04-26 16:28:24,661: 0101010101010010101010
[DEBUG]2021-04-26 16:28:24,851: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude=AGV03&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10 addr: 127.0.0.1
[INFO]2021-04-26 16:28:24,957: agvControl中的_apply进去
[INFO]2021-04-26 16:28:25,019: []
[INFO]2021-04-26 16:28:25,083: remoteio is alarm: ['upStation01', 'downStation01', 'DOOR40', 'DOOR41', 'DOOR23', 'DOOR08', 'DOOR09', 'DOOR15', 'DOOR07', 'DOOR04', 'DOOR06', 'DOOR17', 'DOOR18', 'DOOR20', 'DOOR25', 'DOOR27']
[ERROR]2021-04-26 16:28:25,145: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:25,335: apply agv failed, count=0 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=6548

[INFO]2021-04-26 16:28:25,503: agvControl中的_apply进去
[INFO]2021-04-26 16:28:25,644: []
[ERROR]2021-04-26 16:28:25,690: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:25,759: apply agv failed, count=1 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=6548

[INFO]2021-04-26 16:28:25,910: agvControl中的_apply进去
[INFO]2021-04-26 16:28:26,018: []
[ERROR]2021-04-26 16:28:26,095: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:26,148: apply agv failed, count=2 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=6548

[INFO]2021-04-26 16:28:26,254: agvControl中的_apply进去
[INFO]2021-04-26 16:28:26,421: []
[ERROR]2021-04-26 16:28:26,468: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:26,550: apply agv failed, count=3 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=6548

[INFO]2021-04-26 16:28:26,840: agvControl中的_apply进去
[INFO]2021-04-26 16:28:26,981: []
[ERROR]2021-04-26 16:28:27,154: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:27,248: apply agv failed, count=4 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=6548

[CRITICAL]2021-04-26 16:28:27,389: apply failed, count=1 cause a error: ('apply agv failed3!', 'taskId', '608679a1924e05315bc5f9a7', 'loc', 'AP666')
pid=11952, ppid=8496, tid=6548

[ERROR]2021-04-26 16:28:30,492: apply agv timeout
[DEBUG]2021-04-26 16:28:30,697: used 5846ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude=AGV03&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10
[WARN]2021-04-26 16:28:30,905: [task[608679a1924e05315bc5f9a7][-] AP666(LM101) -> AP668(LM115) [waitForAgv]] apply agv failed:
[INFO]2021-04-26 16:28:34,620: remoteio is alarm: ['upStation01', 'downStation01', 'DOOR40', 'DOOR41', 'DOOR23', 'DOOR08', 'DOOR09', 'DOOR15', 'DOOR07', 'DOOR04', 'DOOR06', 'DOOR17', 'DOOR18', 'DOOR20', 'DOOR25', 'DOOR27']
[WARN]2021-04-26 16:28:36,000: scada.608679a1924e05315bc5f9a7[tid:8432] <locked _thread.RLock object owner=8432 count=1 at 0x000001FDD4304918> ,hold 16584 ms
[INFO]2021-04-26 16:28:36,233: name=scada.608679a1924e05315bc5f9a7, pid=11952, tid=8432
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/autoCtrl/runTasks.py", line 918, in _taskFunc() 
[04] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-04-26 16:28:36,344: task[608679a1924e05315bc5f9a7][-] AP666(LM101) -> AP668(LM115) [waitForAgv] waitForAgv error
[INFO]2021-04-26 16:28:38,408: this is handle taskStep=============>waitForAgv
[DEBUG]2021-04-26 16:28:38,615: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10 addr: 127.0.0.1
[INFO]2021-04-26 16:28:38,628: agvControl中的_apply进去
[INFO]2021-04-26 16:28:38,721: [('comba-ZXC-3F.LM116', 'AGV03')]
[INFO]2021-04-26 16:28:39,358: apply AGV03 ,taskId: 608679a1924e05315bc5f9a7 ,loc comba-ZXC-3F.AP666 ,autoLock False , used 637 ms
[INFO]2021-04-26 16:28:39,422: AGV03
[INFO]2021-04-26 16:28:39,501: 5555555555555555555555555
[INFO]2021-04-26 16:28:39,548: 6666666666666666666666666
[INFO]2021-04-26 16:28:39,641: AGV03
[DEBUG]2021-04-26 16:28:39,719: used 1104ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10
[INFO]2021-04-26 16:28:39,921: comba-ZXC-3F.AP666 comba-ZXC-3F.AP668
[INFO]2021-04-26 16:28:39,982: AGV03
[INFO]2021-04-26 16:28:40,044: 判断类型
[INFO]2021-04-26 16:28:40,092: 3
[INFO]2021-04-26 16:28:40,217: 00000000000000000000000
[INFO]2021-04-26 16:28:40,281: 0101010101010010101010
[DEBUG]2021-04-26 16:28:40,470: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude=AGV03&loc=AP666&mapId=comba-ZXC-3F&taskId=608679a1924e05315bc5f9a7&timeout=10 addr: 127.0.0.1
[INFO]2021-04-26 16:28:40,500: agvControl中的_apply进去
[INFO]2021-04-26 16:28:40,547: []
[ERROR]2021-04-26 16:28:40,609: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:40,690: apply agv failed, count=0 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=1168

[INFO]2021-04-26 16:28:40,797: agvControl中的_apply进去
[INFO]2021-04-26 16:28:40,844: []
[ERROR]2021-04-26 16:28:40,924: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:41,022: apply agv failed, count=1 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=1168

[INFO]2021-04-26 16:28:41,190: agvControl中的_apply进去
[INFO]2021-04-26 16:28:41,266: []
[ERROR]2021-04-26 16:28:41,343: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:41,423: apply agv failed, count=2 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=1168

[INFO]2021-04-26 16:28:41,467: agvControl中的_apply进去
[INFO]2021-04-26 16:28:41,545: []
[ERROR]2021-04-26 16:28:41,608: apply agv failed!  AGV03[exclude], taskId 608679a1924e05315bc5f9a7 loc comba-ZXC-3F.AP666
[CRITICAL]2021-04-26 16:28:41,673: apply agv failed, count=3 cause a error: comba-ZXC-3F.AP666找不到可用的小车
pid=11952, ppid=8496, tid=1168

[INFO]2021-04-26 16:28:41,766: agvControl中的_apply进去
[INFO]2021-04-26 16:28:41,828: []
