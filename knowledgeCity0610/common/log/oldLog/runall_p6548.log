[INFO]2021-06-03 13:17:58,728: log files at C:\Users\comba\Desktop\KLC\knowledgeCity\common\log
[INFO]2021-06-03 13:17:58,728: find module agvCtrl.main_agv
[INFO]2021-06-03 13:17:58,728: find module agvDevice.main_agvDevice
[INFO]2021-06-03 13:17:58,729: find module alarm.main_alarm
[INFO]2021-06-03 13:17:58,729: find module auth.main_auth
[INFO]2021-06-03 13:17:58,729: find module autoCtrl.main_akmCtrl
[INFO]2021-06-03 13:17:58,729: find module door.main_door
[INFO]2021-06-03 13:17:58,730: find module elevator.main_elevator
[INFO]2021-06-03 13:17:58,730: find module feed.main_feed
[INFO]2021-06-03 13:17:58,735: find module remoteio.main_remoteio
[INFO]2021-06-03 13:17:58,735: import agvCtrl.main_agv
[INFO]2021-06-03 13:17:58,963: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35EF47B0>>
[INFO]2021-06-03 13:17:58,964: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35EF4918>>
[INFO]2021-06-03 13:17:59,010: create lock <lock name:timer.lock_1770433880304,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C3613F440>>
[ERROR]2021-06-03 13:17:59,017: mqtt is disabled
[INFO]2021-06-03 13:17:59,018: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-03 13:17:59,019: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-03 13:18:02,038: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-03 13:18:02,067: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C36308B48>>
[INFO]2021-06-03 13:18:02,069: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C36308788>>
[INFO]2021-06-03 13:18:02,070: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C36308300>>
[INFO]2021-06-03 13:18:02,077: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C3641E710>>
[INFO]2021-06-03 13:18:02,225: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C346CC198>>
[INFO]2021-06-03 13:18:02,435: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C364DFE40>>
[INFO]2021-06-03 13:18:02,438: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C36527FD0>>
[INFO]2021-06-03 13:18:02,485: charge policy 0 , fix time
[INFO]2021-06-03 13:18:02,511: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C3659C1C0>>
[INFO]2021-06-03 13:18:02,930: start load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-06-03 13:18:03,005: elevator thread start
[INFO]2021-06-03 13:18:03,019: load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 96 ms
[INFO]2021-06-03 13:18:03,026: start load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-06-03 13:18:03,170: load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 150 ms
[INFO]2021-06-03 13:18:03,178: start load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-06-03 13:18:03,251: load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 80 ms
[INFO]2021-06-03 13:18:03,259: start load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-06-03 13:18:03,310: load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 58 ms
[INFO]2021-06-03 13:18:03,317: start load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-06-03 13:18:03,349: load map C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 38 ms
[INFO]2021-06-03 13:18:03,353: import agvDevice.main_agvDevice
[INFO]2021-06-03 13:18:03,354: import alarm.main_alarm
[INFO]2021-06-03 13:18:03,354: import auth.main_auth
[INFO]2021-06-03 13:18:03,361: import autoCtrl.main_akmCtrl
[INFO]2021-06-03 13:18:03,382: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C36D50760>>
[DEBUG]2021-06-03 13:18:03,399: create aliveObj upStation01 远程控制IO离线异常 timeout 60
[DEBUG]2021-06-03 13:18:03,399: create aliveObj downStation01 远程控制IO离线异常 timeout 60
[DEBUG]2021-06-03 13:18:03,400: create aliveObj 3FLamp 远程控制IO离线异常 timeout 60
[INFO]2021-06-03 13:18:03,400: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C369CFF08>>
[DEBUG]2021-06-03 13:18:03,401: create aliveObj 3FElevarot 远程控制IO离线异常 timeout 60
[DEBUG]2021-06-03 13:18:03,402: create aliveObj 1FElevarot 远程控制IO离线异常 timeout 60
[INFO]2021-06-03 13:18:03,423: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C369CF170>>
[INFO]2021-06-03 13:18:03,850: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C36A85F30>>
[INFO]2021-06-03 13:18:03,915: import door.main_door
[INFO]2021-06-03 13:18:03,917: import elevator.main_elevator
[INFO]2021-06-03 13:18:03,918: import feed.main_feed
[INFO]2021-06-03 13:18:03,924: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C354B1300>>
[INFO]2021-06-03 13:18:03,955: import remoteio.main_remoteio
[SUCC]2021-06-03 13:18:03,962: utility start, pid=6548, ppid=5744
[INFO]2021-06-03 13:18:03,962: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[DEBUG]2021-06-03 13:18:03,963: start timer
[DEBUG]2021-06-03 13:18:03,963: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[INFO]2021-06-03 13:18:03,965: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[DEBUG]2021-06-03 13:18:03,966: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-06-03 13:18:03,966: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[DEBUG]2021-06-03 13:18:03,967: create aliveObj 3FLamp 远程控制IO离线异常 timeout 120
[INFO]2021-06-03 13:18:03,967: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[DEBUG]2021-06-03 13:18:03,968: create aliveObj 3FElevarot 远程控制IO离线异常 timeout 120
[INFO]2021-06-03 13:18:03,968: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[DEBUG]2021-06-03 13:18:03,969: create aliveObj 1FElevarot 远程控制IO离线异常 timeout 120
[INFO]2021-06-03 13:18:03,969: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:18:03,971: load agv file: C:\Users\comba\Desktop\KLC\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-06-03 13:18:03,972: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544030>>
[DEBUG]2021-06-03 13:18:03,974: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-06-03 13:18:03,975: AGV01 start agvList run thread
[INFO]2021-06-03 13:18:03,976: AGV01 start agvList run2 thread
[INFO]2021-06-03 13:18:03,977: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544698>>
[DEBUG]2021-06-03 13:18:03,978: try connect AGV01 172.16.217.209:19204
[INFO]2021-06-03 13:18:03,979: create lock <lock name:agvList.AGVdiniu.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C355446E8>>
[DEBUG]2021-06-03 13:18:03,981: create aliveObj AGVdiniu AGV离线异常 timeout 300
[INFO]2021-06-03 13:18:03,982: AGVdiniu start agvList run thread
[INFO]2021-06-03 13:18:03,982: AGVdiniu start agvList run2 thread
[INFO]2021-06-03 13:18:03,982: create lock <lock name:agvList.AGVwuliao.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C355448C8>>
[INFO]2021-06-03 13:18:03,982: create lock <lock name:agv.AGVdiniu.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544918>>
[DEBUG]2021-06-03 13:18:03,985: try connect AGVdiniu 172.16.217.121:19204
[DEBUG]2021-06-03 13:18:03,985: create aliveObj AGVwuliao AGV离线异常 timeout 300
[INFO]2021-06-03 13:18:03,986: AGVwuliao start agvList run thread
[INFO]2021-06-03 13:18:03,986: AGVwuliao start agvList run2 thread
[INFO]2021-06-03 13:18:03,987: create lock <lock name:agvList.AGVchache.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544B48>>
[INFO]2021-06-03 13:18:03,987: create lock <lock name:agv.AGVwuliao.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544B98>>
[DEBUG]2021-06-03 13:18:03,988: try connect AGVwuliao 172.16.217.211:19204
[DEBUG]2021-06-03 13:18:03,989: create aliveObj AGVchache AGV离线异常 timeout 300
[INFO]2021-06-03 13:18:03,990: AGVchache start agvList run thread
[INFO]2021-06-03 13:18:03,990: AGVchache start agvList run2 thread
[WARN]2021-06-03 13:18:03,990: Local server start! version 3.7.0, path C:\Users\comba\Desktop\KLC\knowledgeCity\common, pid 6548
[INFO]2021-06-03 13:18:03,991: create lock <lock name:agv.AGVchache.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C354B1F30>>
[INFO]2021-06-03 13:18:03,991: add_ignore: taskStatus
[DEBUG]2021-06-03 13:18:03,992: try connect AGVchache 172.16.217.213:19204
[INFO]2021-06-03 13:18:04,004: AGVwuliao connected 172.16.217.211 19204
[INFO]2021-06-03 13:18:04,004: create lock <lock name:agv.AGVwuliao.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544CD8>>
[DEBUG]2021-06-03 13:18:04,005: try connect AGVwuliao 172.16.217.211:19205
[INFO]2021-06-03 13:18:04,019: AGVwuliao connected 172.16.217.211 19205
[INFO]2021-06-03 13:18:04,020: create lock <lock name:agv.AGVwuliao.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C355769E0>>
[DEBUG]2021-06-03 13:18:04,021: try connect AGVwuliao 172.16.217.211:19206
[INFO]2021-06-03 13:18:04,026: AGVwuliao connected 172.16.217.211 19206
[INFO]2021-06-03 13:18:04,027: create lock <lock name:agv.AGVwuliao.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35576A08>>
[DEBUG]2021-06-03 13:18:04,028: try connect AGVwuliao 172.16.217.211:19207
[INFO]2021-06-03 13:18:04,041: AGVwuliao connected 172.16.217.211 19207
[INFO]2021-06-03 13:18:04,042: create lock <lock name:agv.AGVwuliao.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35576AD0>>
[DEBUG]2021-06-03 13:18:04,042: try connect AGVwuliao 172.16.217.211:19208
[INFO]2021-06-03 13:18:04,048: AGVwuliao connected 172.16.217.211 19208
[INFO]2021-06-03 13:18:04,048: create lock <lock name:agv.AGVwuliao.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35576A80>>
[DEBUG]2021-06-03 13:18:04,048: try connect AGVwuliao 172.16.217.211:19210
[INFO]2021-06-03 13:18:04,054: AGVwuliao connected 172.16.217.211 19210
[INFO]2021-06-03 13:18:04,092: AGVwuliao current map comba-ZXC-F3
[INFO]2021-06-03 13:18:04,136: AGVwuliao is online
[INFO]2021-06-03 13:18:05,410: AGVdiniu connected 172.16.217.121 19204
[INFO]2021-06-03 13:18:05,415: create lock <lock name:agv.AGVdiniu.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544A30>>
[DEBUG]2021-06-03 13:18:05,417: try connect AGVdiniu 172.16.217.121:19205
[INFO]2021-06-03 13:18:05,436: AGVdiniu connected 172.16.217.121 19205
[INFO]2021-06-03 13:18:05,441: create lock <lock name:agv.AGVdiniu.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544210>>
[DEBUG]2021-06-03 13:18:05,443: try connect AGVdiniu 172.16.217.121:19206
[INFO]2021-06-03 13:18:05,462: AGVdiniu connected 172.16.217.121 19206
[INFO]2021-06-03 13:18:05,467: create lock <lock name:agv.AGVdiniu.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C35544300>>
[DEBUG]2021-06-03 13:18:05,469: try connect AGVdiniu 172.16.217.121:19207
[INFO]2021-06-03 13:18:05,477: AGVdiniu connected 172.16.217.121 19207
[INFO]2021-06-03 13:18:05,480: create lock <lock name:agv.AGVdiniu.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C355442D8>>
[DEBUG]2021-06-03 13:18:05,482: try connect AGVdiniu 172.16.217.121:19208
[INFO]2021-06-03 13:18:05,516: AGVdiniu connected 172.16.217.121 19208
[INFO]2021-06-03 13:18:05,519: create lock <lock name:agv.AGVdiniu.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019C354B15D0>>
[DEBUG]2021-06-03 13:18:05,521: try connect AGVdiniu 172.16.217.121:19210
[INFO]2021-06-03 13:18:05,540: AGVdiniu connected 172.16.217.121 19210
[INFO]2021-06-03 13:18:05,576: AGVdiniu current map comba-ZXC-3F
[INFO]2021-06-03 13:18:05,607: AGVdiniu is online
[INFO]2021-06-03 13:18:08,671: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[DEBUG]2021-06-03 13:18:08,978: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-06-03 13:18:08,980: akmTask init client agvApi
[DEBUG]2021-06-03 13:18:08,981: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[DEBUG]2021-06-03 13:18:10,662: GET: http://172.16.217.178:8999/api/manual/tasklist addr: 172.16.217.84
[INFO]2021-06-03 13:18:10,691: gettasklist
[DEBUG]2021-06-03 13:18:10,691: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.84
[DEBUG]2021-06-03 13:18:10,751: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.84
[INFO]2021-06-03 13:18:10,769: getseat
[DEBUG]2021-06-03 13:18:10,829: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.84
[INFO]2021-06-03 13:18:10,834: getseat
[DEBUG]2021-06-03 13:18:10,862: used 33ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/manual/tasklist
[INFO]2021-06-03 13:18:10,974: getseat
[DEBUG]2021-06-03 13:18:11,591: GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F addr: 172.16.217.84
[DEBUG]2021-06-03 13:18:11,620: used 29ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F
[DEBUG]2021-06-03 13:18:12,061: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-06-03 13:18:12,096: used 35ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[INFO]2021-06-03 13:18:13,727: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[ERROR]2021-06-03 13:18:13,983: connect AGV01 failed timed out
[ERROR]2021-06-03 13:18:14,001: connect AGVchache failed timed out
[DEBUG]2021-06-03 13:18:14,024: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-06-03 13:18:14,060: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:18:14,322: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[INFO]2021-06-03 13:18:14,352: getseat
[DEBUG]2021-06-03 13:18:14,448: used 126ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/manual/seat
[DEBUG]2021-06-03 13:18:15,317: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[DEBUG]2021-06-03 13:18:15,352: GET: http://172.16.217.178:8999/api/manual/tasklist addr: 172.16.217.105
[INFO]2021-06-03 13:18:15,358: getseat
[DEBUG]2021-06-03 13:18:15,375: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[INFO]2021-06-03 13:18:15,417: gettasklist
[INFO]2021-06-03 13:18:15,512: getseat
[DEBUG]2021-06-03 13:18:15,568: GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F addr: 172.16.217.105
[DEBUG]2021-06-03 13:18:15,625: used 57ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/manual/tasklist
[INFO]2021-06-03 13:18:18,728: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[INFO]2021-06-03 13:18:21,863: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[ERROR]2021-06-03 13:18:24,124: connect AGV01 failed timed out
[ERROR]2021-06-03 13:18:24,183: connect AGVchache failed timed out
[INFO]2021-06-03 13:18:24,183: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-06-03 13:18:24,207: AGVchache checkLink failed 172.16.217.213 19204
[WARN]2021-06-03 13:18:24,219: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 20241 ms
[WARN]2021-06-03 13:18:24,261: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 20269 ms
[INFO]2021-06-03 13:18:24,351: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:18:24,477: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-06-03 13:18:26,464: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-06-03 13:18:26,542: try connect AGVchache 172.16.217.213:19204
[INFO]2021-06-03 13:18:26,732: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:18:31,736: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[CRITICAL]2021-06-03 13:18:33,912: [modbusApi: 172.16.166.182] execute fcode=5, addr=16 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-06-03 13:18:33,983: timer_thread[tid:5060] <locked _thread.RLock object owner=5060 count=1 at 0x0000019C36A47030> ,hold 21553 ms
[INFO]2021-06-03 13:18:34,244: name=timer_thread, pid=6548, tid=5060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 122, in _call() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 257, in run() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 188, in checkLampStatus() 
[06] File "../remoteio/remoteioMgr_old.py", line 65, in writeDO() 
[07] File "../remoteio/remoteioMgr_old.py", line 109, in writeDO() 
[08] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[09] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:18:34,330: 3FLamp writeDO fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr_old.py", line 109, in writeDO
    self._write(ioAddr, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr_old.py", line 186, in _write
    s = self.master.write(mdef.WRITE_SINGLE_COIL,addr,value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 51, in write
    return self.__execute(fcode, start, num, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-06-03 13:18:34,360: timer_thread[tid:5060] <locked _thread.RLock object owner=5060 count=1 at 0x0000019C369CFF58> ,hold 30396 ms
[INFO]2021-06-03 13:18:34,414: name=timer_thread, pid=6548, tid=5060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:18:34,526: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000019C36A8D048> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\runTasks.py", line 257, in run
    checkLampStatus()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\runTasks.py", line 188, in checkLampStatus
    ioMgr.writeDO('3FLamp', 1, 0)
  File "..\remoteio\remoteioMgr_old.py", line 65, in writeDO
    remoteioInfo.writeDO(index,value)
  File "..\remoteio\remoteioMgr_old.py", line 109, in writeDO
    self._write(ioAddr, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr_old.py", line 186, in _write
    s = self.master.write(mdef.WRITE_SINGLE_COIL,addr,value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 51, in write
    return self.__execute(fcode, start, num, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-06-03 13:18:34,538: GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E7%89%A9%E6%96%99%E7%BB%88%E7%82%B9B&target=%E4%B8%89%E6%A5%BC%E7%89%A9%E6%96%99%E7%BB%88%E7%82%B9A addr: 172.16.217.105
[INFO]2021-06-03 13:18:34,627: Scada send a task to the server from 三楼物料终点B to 三楼物料终点A payloadId: None
[INFO]2021-06-03 13:18:34,680: create task[60b8662a73dabd1994eac925]: type= scadaTask , 从三楼物料终点B运送货架到三楼物料终点A {'source': '三楼物料终点B', 'target': '三楼物料终点A', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼物料终点B运送货架到三楼物料终点A', 'createTime': datetime.datetime(2021, 6, 3, 13, 18, 34, 656749), 'updateTime': datetime.datetime(2021, 6, 3, 13, 18, 34, 656749), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('60b8662a73dabd1994eac925')}
[INFO]2021-06-03 13:18:34,733: 三楼物料终点A 三楼物料终点B
[INFO]2021-06-03 13:18:34,869: task[60b8662a73dabd1994eac925][-] AP18(LM17) -> AP22(LM17) [waiting] is inside False
[INFO]2021-06-03 13:18:34,911: task cmd: got a task from scada task[60b8662a73dabd1994eac925][-] AP18(LM17) -> AP22(LM17) [waiting]
[DEBUG]2021-06-03 13:18:34,945: used 407ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E7%89%A9%E6%96%99%E7%BB%88%E7%82%B9B&target=%E4%B8%89%E6%A5%BC%E7%89%A9%E6%96%99%E7%BB%88%E7%82%B9A
[WARN]2021-06-03 13:18:35,814: clear alarm obj=upStation01, typeId=39998, id=60b8646320e3533fa4e94e87
[WARN]2021-06-03 13:18:36,038: clear alarm obj=downStation01, typeId=39998, id=60b8646320e3533fa4e94e89
[WARN]2021-06-03 13:18:36,176: clear alarm obj=3FLamp, typeId=39998, id=60b8646320e3533fa4e94e8b
[INFO]2021-06-03 13:18:36,218: task[60b8662a73dabd1994eac925]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 6, 3, 13, 18, 36, 206569), 'updateTime': datetime.datetime(2021, 6, 3, 13, 18, 36, 206569), 'status': 'running'}
[INFO]2021-06-03 13:18:36,265: task: start task[60b8662a73dabd1994eac925][-] AP18(LM17) -> AP22(LM17) [waiting]
[INFO]2021-06-03 13:18:36,288: this is handle taskStep=============>waiting
[INFO]2021-06-03 13:18:36,341: task[60b8662a73dabd1994eac925] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 6, 3, 13, 18, 36, 323256)}
[DEBUG]2021-06-03 13:18:36,371: task[60b8662a73dabd1994eac925][-] AP18(LM17) -> AP22(LM17) [waitForAgv] waiting -> waitForAgv
[ERROR]2021-06-03 13:18:36,540: connect AGV01 failed timed out
[INFO]2021-06-03 13:18:36,593: AGV01 checkLink failed 172.16.217.209 19204
[ERROR]2021-06-03 13:18:36,616: connect AGVchache failed timed out
[WARN]2021-06-03 13:18:36,622: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10158 ms
[INFO]2021-06-03 13:18:36,693: AGVchache checkLink failed 172.16.217.213 19204
[INFO]2021-06-03 13:18:36,728: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[INFO]2021-06-03 13:18:36,799: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:18:36,811: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10269 ms
[INFO]2021-06-03 13:18:37,061: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-06-03 13:18:38,949: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-06-03 13:18:39,162: try connect AGVchache 172.16.217.213:19204
[INFO]2021-06-03 13:18:41,737: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[INFO]2021-06-03 13:18:44,890: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[ERROR]2021-06-03 13:18:49,012: connect AGV01 failed timed out
[INFO]2021-06-03 13:18:49,094: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-06-03 13:18:49,112: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10163 ms
[ERROR]2021-06-03 13:18:49,236: connect AGVchache failed timed out
[INFO]2021-06-03 13:18:49,284: AGVchache checkLink failed 172.16.217.213 19204
[WARN]2021-06-03 13:18:49,308: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10146 ms
[INFO]2021-06-03 13:18:49,338: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:18:49,431: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:18:49,716: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[DEBUG]2021-06-03 13:18:51,417: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-06-03 13:18:51,459: try connect AGVchache 172.16.217.213:19204
[INFO]2021-06-03 13:18:54,710: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[WARN]2021-06-03 13:18:58,536: timer_thread[tid:5060] <locked _thread.RLock object owner=5060 count=1 at 0x0000019C36A47030> ,hold 21025 ms
[INFO]2021-06-03 13:18:58,673: name=timer_thread, pid=6548, tid=5060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 122, in _call() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 257, in run() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 188, in checkLampStatus() 
[06] File "../remoteio/remoteioMgr_old.py", line 65, in writeDO() 
[07] File "../remoteio/remoteioMgr_old.py", line 109, in writeDO() 
[08] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[09] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:18:58,765: 3FLamp writeDO fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr_old.py", line 109, in writeDO
    self._write(ioAddr, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr_old.py", line 181, in _write
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-06-03 13:18:58,807: timer_thread[tid:5060] <locked _thread.RLock object owner=5060 count=1 at 0x0000019C369CFF58> ,hold 22601 ms
[INFO]2021-06-03 13:18:58,855: name=timer_thread, pid=6548, tid=5060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:18:58,946: scada.60b8662a73dabd1994eac925[tid:2712] <locked _thread.RLock object owner=2712 count=1 at 0x0000019C369CFF58> ,hold 22558 ms
[CRITICAL]2021-06-03 13:18:58,946: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000019C36A8D048> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\runTasks.py", line 257, in run
    checkLampStatus()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\runTasks.py", line 188, in checkLampStatus
    ioMgr.writeDO('3FLamp', 1, 0)
  File "..\remoteio\remoteioMgr_old.py", line 65, in writeDO
    remoteioInfo.writeDO(index,value)
  File "..\remoteio\remoteioMgr_old.py", line 109, in writeDO
    self._write(ioAddr, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr_old.py", line 181, in _write
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-06-03 13:18:58,994: name=scada.60b8662a73dabd1994eac925, pid=6548, tid=2712
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 1110, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:18:59,125: clear alarm obj=1FElevarot, typeId=39998, id=60b8646320e3533fa4e94e8d
[INFO]2021-06-03 13:18:59,407: this is handle taskStep=============>waitForAgv
[INFO]2021-06-03 13:18:59,454: 叫车
[DEBUG]2021-06-03 13:18:59,572: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP18&mapId=comba-ZXC-F3&taskId=60b8662a73dabd1994eac925&timeout=10 addr: 127.0.0.1
[INFO]2021-06-03 13:18:59,607: [('comba-ZXC-F3.AP18', 'AGVwuliao')]
[INFO]2021-06-03 13:18:59,708: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[DEBUG]2021-06-03 13:18:59,743: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-06-03 13:18:59,839: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:19:01,313: apply AGVwuliao ,taskId: 60b8662a73dabd1994eac925 ,loc comba-ZXC-F3.AP18 ,autoLock False , used 1706 ms
[INFO]2021-06-03 13:19:01,338: AGVwuliao
[INFO]2021-06-03 13:19:01,355: AGVwuliao
[INFO]2021-06-03 13:19:01,418: comba-ZXC-F3.AP18 comba-ZXC-F3.AP22
[INFO]2021-06-03 13:19:01,460: AGVwuliao
[ERROR]2021-06-03 13:19:01,484: connect AGV01 failed timed out
[INFO]2021-06-03 13:19:01,502: 判断类型
[INFO]2021-06-03 13:19:01,562: AGV01 checkLink failed 172.16.217.209 19204
[ERROR]2021-06-03 13:19:01,574: connect AGVchache failed timed out
[DEBUG]2021-06-03 13:19:01,686: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGVwuliao&appName=akmTask&taskId=60b8662a73dabd1994eac925 addr: 127.0.0.1
[WARN]2021-06-03 13:19:01,698: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10281 ms
[INFO]2021-06-03 13:19:01,722: AGVchache checkLink failed 172.16.217.213 19204
[DEBUG]2021-06-03 13:19:01,758: lock:  AGVwuliao taskId 60b8662a73dabd1994eac925 app akmTask
[INFO]2021-06-03 13:19:01,818: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:19:01,836: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10377 ms
[INFO]2021-06-03 13:19:02,127: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:19:02,900: AGVwuliao clear task finish, cur= comba-ZXC-F3.AP18 task_status= 4
[DEBUG]2021-06-03 13:19:02,924: used 1238ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/lock?agv=AGVwuliao&appName=akmTask&taskId=60b8662a73dabd1994eac925
[INFO]2021-06-03 13:19:03,002: AGVwuliao
[INFO]2021-06-03 13:19:03,049: task[60b8662a73dabd1994eac925][-] AP18(LM17) -> AP22(LM17) [waitForAgv] apply AGVwuliao
[INFO]2021-06-03 13:19:03,085: task[60b8662a73dabd1994eac925] update info: {'agvId': 'AGVwuliao', 'failMsg': '成功分配小车AGVwuliao', 'updateTime': datetime.datetime(2021, 6, 3, 13, 19, 3, 73089)}
[WARN]2021-06-03 13:19:03,107: scada.60b8662a73dabd1994eac925[tid:2712] <locked _thread.RLock object owner=2712 count=1 at 0x0000019C3D75DE40> ,hold 3700 ms
[INFO]2021-06-03 13:19:03,184: name=scada.60b8662a73dabd1994eac925, pid=6548, tid=2712
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 1096, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-06-03 13:19:03,237: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [initAGV] waitForAgv -> initAGV
[INFO]2021-06-03 13:19:03,614: this is handle taskStep=============>initAGV
[INFO]2021-06-03 13:19:03,644: task[60b8662a73dabd1994eac925] update info: {'failMsg': '前往三楼物料终点B工位点', 'updateTime': datetime.datetime(2021, 6, 3, 13, 19, 3, 632607)}
[DEBUG]2021-06-03 13:19:03,674: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [startMoveAGV] initAGV -> startMoveAGV
[DEBUG]2021-06-03 13:19:04,050: try connect AGV01 172.16.217.209:19204
[INFO]2021-06-03 13:19:04,074: this is handle taskStep=============>startMoveAGV
[INFO]2021-06-03 13:19:04,108: movejackup
[DEBUG]2021-06-03 13:19:04,167: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGVwuliao&agvId=AGVwuliao&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP18&location=AP18&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=60b8662a73dabd1994eac925_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[DEBUG]2021-06-03 13:19:04,172: agvInfo: AGVwuliao comba-ZXC-F3.AP18 move jackup to comba-ZXC-F3.AP18 ,taskId 60b8662a73dabd1994eac925_2
[INFO]2021-06-03 13:19:04,173: 1
[INFO]2021-06-03 13:19:04,174: {'id': 'AP18', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': False}
[DEBUG]2021-06-03 13:19:04,175: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:19:04,386: used 219ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGVwuliao&agvId=AGVwuliao&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP18&location=AP18&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=60b8662a73dabd1994eac925_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-06-03 13:19:04,393: -----------------------------------------执行完Movejackup
[DEBUG]2021-06-03 13:19:04,395: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [loadPlayload] startMoveAGV -> loadPlayload
[INFO]2021-06-03 13:19:04,672: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[INFO]2021-06-03 13:19:04,687: task: move finish callback task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [loadPlayload]
[INFO]2021-06-03 13:19:04,693: task[60b8662a73dabd1994eac925] update info: {'failMsg': 'AGV二层出料', 'updateTime': datetime.datetime(2021, 6, 3, 13, 19, 4, 691762)}
[INFO]2021-06-03 13:19:04,699: this is handle taskStep=============>loadPlayload_readqr
[INFO]2021-06-03 13:19:04,699: --------------------------------------准备上料点二层进料
[DEBUG]2021-06-03 13:19:04,700: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:04,702: GET: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGVwuliao&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-06-03 13:19:04,709: AGVwuliao rollerRobotLoad unitId: 2
[DEBUG]2021-06-03 13:19:04,764: used 62ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:04,771: [return] use 71 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGVwuliao&timeoutSec=30&unitId=2
[INFO]2021-06-03 13:19:04,776: task[60b8662a73dabd1994eac925] update info: {'failMsg': '二层滚筒进料三楼物料终点A', 'updateTime': datetime.datetime(2021, 6, 3, 13, 19, 4, 774507)}
[DEBUG]2021-06-03 13:19:04,780: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkTwoLayerGoing] loadPlayload_readqr -> checkTwoLayerGoing
[INFO]2021-06-03 13:19:05,085: this is handle taskStep=============>checkTwoLayerGoing
[INFO]2021-06-03 13:19:05,092: ------------------------------------------检查二层进料状态
[DEBUG]2021-06-03 13:19:05,107: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:05,120: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-06-03 13:19:05,129: AGVwuliao checkUnitStatus unitId: 2
[DEBUG]2021-06-03 13:19:05,130: used 10ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:05,132: [return] use 25 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[INFO]2021-06-03 13:19:05,133: 0 0
[DEBUG]2021-06-03 13:19:06,139: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:06,282: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-06-03 13:19:06,454: AGVwuliao checkUnitStatus unitId: 2
[DEBUG]2021-06-03 13:19:06,494: used 212ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:06,596: [return] use 457 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[INFO]2021-06-03 13:19:06,632: 0 1
[DEBUG]2021-06-03 13:19:07,680: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[INFO]2021-06-03 13:19:07,811: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[DEBUG]2021-06-03 13:19:07,835: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-06-03 13:19:07,983: AGVwuliao checkUnitStatus unitId: 2
[DEBUG]2021-06-03 13:19:08,007: used 172ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[DEBUG]2021-06-03 13:19:08,091: [return] use 411 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=2
[INFO]2021-06-03 13:19:08,127: 0 2
[INFO]2021-06-03 13:19:08,210: task[60b8662a73dabd1994eac925] update info: {'step': 'checkOneLayerFinish', 'msg': '检测2层设置进料完成信号', 'updateTime': datetime.datetime(2021, 6, 3, 13, 19, 8, 174362)}
[WARN]2021-06-03 13:19:08,233: scada.60b8662a73dabd1994eac925[tid:2712] <locked _thread.RLock object owner=2712 count=1 at 0x0000019C3D75DE40> ,hold 3148 ms
[INFO]2021-06-03 13:19:08,328: name=scada.60b8662a73dabd1994eac925, pid=6548, tid=2712
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 1096, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-06-03 13:19:08,369: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkTwoLayerGoing -> checkOneLayerFinish
[INFO]2021-06-03 13:19:08,791: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:08,833: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:08,869: 0
[DEBUG]2021-06-03 13:19:08,970: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:09,133: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:09,192: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:09,216: used 83ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:09,263: [return] use 293 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:09,275: 1 0
[INFO]2021-06-03 13:19:09,317: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:11,347: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:11,377: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:11,400: 0
[DEBUG]2021-06-03 13:19:11,423: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:11,560: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:11,632: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:11,661: used 101ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:11,732: [return] use 309 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:11,768: 1 0
[INFO]2021-06-03 13:19:11,815: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:12,736: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:19:13,859: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:13,899: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:13,959: 0
[DEBUG]2021-06-03 13:19:14,042: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:14,088: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[ERROR]2021-06-03 13:19:14,112: connect AGV01 failed timed out
[INFO]2021-06-03 13:19:14,159: AGVwuliao checkUnitStatus unitId: 1
[INFO]2021-06-03 13:19:14,177: AGV01 checkLink failed 172.16.217.209 19204
[ERROR]2021-06-03 13:19:14,195: connect AGVchache failed timed out
[DEBUG]2021-06-03 13:19:14,219: used 131ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[WARN]2021-06-03 13:19:14,278: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10228 ms
[INFO]2021-06-03 13:19:14,332: AGVchache checkLink failed 172.16.217.213 19204
[WARN]2021-06-03 13:19:14,410: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10235 ms
[DEBUG]2021-06-03 13:19:14,428: [return] use 386 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:14,440: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:19:14,558: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:19:14,564: 1 0
[INFO]2021-06-03 13:19:14,699: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[CRITICAL]2021-06-03 13:19:15,195: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-06-03 13:19:16,260: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-06-03 13:19:16,419: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[DEBUG]2021-06-03 13:19:16,652: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:19:16,658: try connect AGV01 172.16.217.209:19204
[INFO]2021-06-03 13:19:16,755: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:16,814: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:16,843: 0
[DEBUG]2021-06-03 13:19:16,867: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:17,010: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:17,088: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:17,117: used 107ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:17,171: [return] use 304 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:17,206: 1 0
[INFO]2021-06-03 13:19:17,235: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:17,730: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[INFO]2021-06-03 13:19:19,272: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:19,291: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:19,315: 0
[DEBUG]2021-06-03 13:19:19,356: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:19,480: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:19,569: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:19,593: used 113ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:19,652: [return] use 296 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:19,684: 1 0
[INFO]2021-06-03 13:19:19,720: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[CRITICAL]2021-06-03 13:19:21,053: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=7436
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-06-03 13:19:21,160: worker 3[tid:7436] <locked _thread.RLock object owner=7436 count=1 at 0x0000019C3699B850> ,hold 21251 ms
[INFO]2021-06-03 13:19:21,340: name=worker 3, pid=6548, tid=7436
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/KLC/knowledgeCity/remoteio/main_remoteio.py", line 109, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 162, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 266, in readDOList() 
[22] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:19:21,459: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=7436
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 318, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-06-03 13:19:21,556: invoke <function urlReadDOList at 0x0000019C35538510> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=7436
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\remoteio\main_remoteio.py", line 109, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 162, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 318, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-06-03 13:19:21,789: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:21,844: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:21,874: 0
[DEBUG]2021-06-03 13:19:21,910: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:22,062: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:22,173: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:22,215: used 153ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:22,303: [return] use 393 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:22,357: 1 0
[INFO]2021-06-03 13:19:22,381: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:22,675: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[INFO]2021-06-03 13:19:24,411: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:24,435: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:24,453: 0
[DEBUG]2021-06-03 13:19:24,488: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:24,600: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:24,741: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:24,771: used 171ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:24,845: [return] use 357 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:24,881: 1 0
[INFO]2021-06-03 13:19:24,964: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[ERROR]2021-06-03 13:19:26,716: connect AGVchache failed timed out
[INFO]2021-06-03 13:19:26,745: AGVchache checkLink failed 172.16.217.213 19204
[ERROR]2021-06-03 13:19:26,786: connect AGV01 failed timed out
[WARN]2021-06-03 13:19:26,798: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10146 ms
[INFO]2021-06-03 13:19:26,846: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-06-03 13:19:26,966: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:19:26,972: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10314 ms
[INFO]2021-06-03 13:19:27,008: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:27,086: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:27,098: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:19:27,124: 0
[DEBUG]2021-06-03 13:19:27,219: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:27,361: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:27,456: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:27,486: used 125ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:27,534: [return] use 315 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:27,552: 1 0
[INFO]2021-06-03 13:19:27,570: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:27,703: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[DEBUG]2021-06-03 13:19:29,022: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:19:29,186: try connect AGV01 172.16.217.209:19204
[INFO]2021-06-03 13:19:29,629: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:29,659: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:29,689: 0
[DEBUG]2021-06-03 13:19:29,760: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:29,925: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:30,015: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:30,038: used 113ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:30,115: [return] use 355 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:30,156: 1 0
[INFO]2021-06-03 13:19:30,186: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:30,857: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[CRITICAL]2021-06-03 13:19:31,485: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[INFO]2021-06-03 13:19:32,233: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:32,304: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:32,346: 0
[DEBUG]2021-06-03 13:19:32,411: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:32,506: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:32,536: init IO success
[DEBUG]2021-06-03 13:19:32,594: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-06-03 13:19:32,648: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:32,731: used 225ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:32,743: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[DEBUG]2021-06-03 13:19:32,831: [return] use 420 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:32,861: 1 0
[INFO]2021-06-03 13:19:32,915: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:34,966: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:35,003: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:35,026: 0
[DEBUG]2021-06-03 13:19:35,034: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:35,172: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:35,311: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:35,353: used 181ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:35,414: [return] use 380 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:35,450: 1 0
[INFO]2021-06-03 13:19:35,522: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:35,683: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:19:37,558: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:37,582: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:37,617: 0
[DEBUG]2021-06-03 13:19:37,659: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:37,766: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:37,837: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:37,861: used 95ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:37,915: [return] use 256 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:37,945: 1 0
[INFO]2021-06-03 13:19:37,969: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[ERROR]2021-06-03 13:19:39,146: connect AGVchache failed timed out
[INFO]2021-06-03 13:19:39,193: AGVchache checkLink failed 172.16.217.213 19204
[WARN]2021-06-03 13:19:39,230: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10208 ms
[ERROR]2021-06-03 13:19:39,246: connect AGV01 failed timed out
[INFO]2021-06-03 13:19:39,311: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-06-03 13:19:39,329: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-06-03 13:19:39,347: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10161 ms
[INFO]2021-06-03 13:19:39,453: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:19:40,005: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:40,017: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:40,059: 0
[DEBUG]2021-06-03 13:19:40,077: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:40,159: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:40,378: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:40,402: used 243ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:40,508: [return] use 431 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:40,556: 1 0
[INFO]2021-06-03 13:19:40,579: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:40,716: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[DEBUG]2021-06-03 13:19:41,394: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:19:41,483: try connect AGV01 172.16.217.209:19204
[CRITICAL]2021-06-03 13:19:42,089: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=1212
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-06-03 13:19:42,149: worker 5[tid:1212] <locked _thread.RLock object owner=1212 count=1 at 0x0000019C3699BB70> ,hold 25694 ms
[INFO]2021-06-03 13:19:42,284: name=worker 5, pid=6548, tid=1212
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/KLC/knowledgeCity/remoteio/main_remoteio.py", line 109, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 162, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 266, in readDOList() 
[22] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:19:42,358: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=1212
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 318, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-06-03 13:19:42,455: invoke <function urlReadDOList at 0x0000019C35538510> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=1212
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\remoteio\main_remoteio.py", line 109, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 162, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 318, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-06-03 13:19:42,621: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:42,681: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:42,717: 0
[DEBUG]2021-06-03 13:19:42,788: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:42,897: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:43,245: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:43,292: used 395ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:43,398: [return] use 610 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:43,446: 1 0
[INFO]2021-06-03 13:19:43,497: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:45,550: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:45,585: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:45,620: 0
[DEBUG]2021-06-03 13:19:45,649: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:45,738: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[DEBUG]2021-06-03 13:19:45,771: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:45,855: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:45,909: used 138ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:46,005: [return] use 356 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:46,034: 1 0
[INFO]2021-06-03 13:19:46,064: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[CRITICAL]2021-06-03 13:19:47,734: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-06-03 13:19:48,216: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:48,240: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:48,281: 0
[DEBUG]2021-06-03 13:19:48,299: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:48,393: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:48,827: remoteio is alarm: []
[WARN]2021-06-03 13:19:48,964: clear alarm obj=AGV01, typeId=49999, id=60b8650020e3533fa4e94f16
[WARN]2021-06-03 13:19:49,144: clear alarm obj=AGVchache, typeId=49999, id=60b8650020e3533fa4e94f18
[INFO]2021-06-03 13:19:49,407: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:49,419: used 1026ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:49,529: [return] use 1230 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:49,589: 1 0
[INFO]2021-06-03 13:19:49,631: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[ERROR]2021-06-03 13:19:50,354: raise alarm obj=upStation01, typeId=39998, desc=远程控制IO离线异常, id=60b8667620e3533fa4e950b5
[ERROR]2021-06-03 13:19:50,438: raise alarm obj=downStation01, typeId=39998, desc=远程控制IO离线异常, id=60b8667620e3533fa4e950b7
[ERROR]2021-06-03 13:19:50,492: raise alarm obj=3FLamp, typeId=39998, desc=远程控制IO离线异常, id=60b8667620e3533fa4e950b9
[INFO]2021-06-03 13:19:50,713: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[ERROR]2021-06-03 13:19:51,467: connect AGVchache failed timed out
[INFO]2021-06-03 13:19:51,502: AGVchache checkLink failed 172.16.217.213 19204
[WARN]2021-06-03 13:19:51,538: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10144 ms
[ERROR]2021-06-03 13:19:51,550: connect AGV01 failed timed out
[INFO]2021-06-03 13:19:51,628: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-06-03 13:19:51,664: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:19:51,682: this is handle taskStep=============>checkOneLayerFinish
[WARN]2021-06-03 13:19:51,688: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10205 ms
[INFO]2021-06-03 13:19:51,788: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:51,868: 0
[INFO]2021-06-03 13:19:51,874: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-06-03 13:19:51,903: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:52,134: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:52,222: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:52,258: used 124ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:52,340: [return] use 437 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:52,394: 1 0
[INFO]2021-06-03 13:19:52,436: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[DEBUG]2021-06-03 13:19:53,735: try connect AGVchache 172.16.217.213:19204
[WARN]2021-06-03 13:19:53,861: worker 0[tid:4008] <locked _thread.RLock object owner=4008 count=1 at 0x0000019C3699B850> ,hold 21024 ms
[INFO]2021-06-03 13:19:53,907: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[DEBUG]2021-06-03 13:19:53,994: try connect AGV01 172.16.217.209:19204
[INFO]2021-06-03 13:19:54,012: name=worker 0, pid=6548, tid=4008
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/KLC/knowledgeCity/remoteio/main_remoteio.py", line 109, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 162, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 266, in readDOList() 
[22] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:19:54,108: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=4008
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 315, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-06-03 13:19:54,211: invoke <function urlReadDOList at 0x0000019C35538510> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=4008
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\remoteio\main_remoteio.py", line 109, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 162, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 315, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-06-03 13:19:54,501: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:54,608: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:54,638: 0
[DEBUG]2021-06-03 13:19:54,673: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:54,822: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:54,926: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:54,949: used 127ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:55,035: [return] use 362 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:55,100: 1 0
[INFO]2021-06-03 13:19:55,112: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:57,159: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:57,177: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:57,249: 0
[DEBUG]2021-06-03 13:19:57,266: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:57,437: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:57,471: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:57,512: used 75ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:57,560: [return] use 294 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:19:57,583: 1 0
[INFO]2021-06-03 13:19:57,612: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:19:58,716: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:19:59,643: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:19:59,662: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:19:59,684: 0
[DEBUG]2021-06-03 13:19:59,714: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:19:59,810: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:19:59,916: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:19:59,946: used 136ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:00,023: [return] use 309 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:00,052: 1 0
[INFO]2021-06-03 13:20:00,080: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:20:02,109: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:20:02,133: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:20:02,157: 0
[DEBUG]2021-06-03 13:20:02,186: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:02,293: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:20:02,406: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:20:02,446: used 153ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:02,503: [return] use 317 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:02,544: 1 0
[INFO]2021-06-03 13:20:02,586: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:20:03,686: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BB00>
[ERROR]2021-06-03 13:20:03,813: connect AGVchache failed timed out
[INFO]2021-06-03 13:20:03,887: AGVchache checkLink failed 172.16.217.213 19204
[WARN]2021-06-03 13:20:03,917: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 10182 ms
[ERROR]2021-06-03 13:20:04,058: connect AGV01 failed timed out
[INFO]2021-06-03 13:20:04,058: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:20:04,098: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-06-03 13:20:04,218: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 10224 ms
[INFO]2021-06-03 13:20:04,330: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:20:04,643: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:20:04,667: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:20:04,702: 0
[DEBUG]2021-06-03 13:20:04,726: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:04,813: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:20:04,988: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:20:05,002: used 189ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:05,084: [return] use 358 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:05,097: 1 0
[INFO]2021-06-03 13:20:05,144: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[DEBUG]2021-06-03 13:20:06,192: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:20:06,382: try connect AGV01 172.16.217.209:19204
[INFO]2021-06-03 13:20:07,197: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:20:07,232: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:20:07,338: 0
[DEBUG]2021-06-03 13:20:07,368: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:07,548: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:20:07,615: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:20:07,644: used 96ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:07,721: [return] use 353 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:07,803: 1 0
[INFO]2021-06-03 13:20:07,844: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:20:08,755: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BBA8>
[INFO]2021-06-03 13:20:09,875: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:20:09,927: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:20:09,981: 0
[DEBUG]2021-06-03 13:20:10,015: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:10,097: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:20:10,198: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:20:10,227: used 130ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:10,314: [return] use 299 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:10,338: 1 0
[INFO]2021-06-03 13:20:10,367: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[WARN]2021-06-03 13:20:11,771: timer_thread[tid:5060] <locked _thread.RLock object owner=5060 count=1 at 0x0000019C36A47030> ,hold 21017 ms
[INFO]2021-06-03 13:20:11,878: name=timer_thread, pid=6548, tid=5060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 122, in _call() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 257, in run() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 188, in checkLampStatus() 
[06] File "../remoteio/remoteioMgr_old.py", line 65, in writeDO() 
[07] File "../remoteio/remoteioMgr_old.py", line 109, in writeDO() 
[08] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[09] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[10] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[11] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:20:11,999: 3FLamp writeDO fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr_old.py", line 109, in writeDO
    self._write(ioAddr, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr_old.py", line 181, in _write
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-06-03 13:20:12,028: timer_thread[tid:5060] <locked _thread.RLock object owner=5060 count=1 at 0x0000019C369CFF58> ,hold 21500 ms
[INFO]2021-06-03 13:20:12,116: name=timer_thread, pid=6548, tid=5060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:20:12,218: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000019C36A8D048> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\runTasks.py", line 257, in run
    checkLampStatus()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\runTasks.py", line 188, in checkLampStatus
    ioMgr.writeDO('3FLamp', 1, 0)
  File "..\remoteio\remoteioMgr_old.py", line 65, in writeDO
    remoteioInfo.writeDO(index,value)
  File "..\remoteio\remoteioMgr_old.py", line 109, in writeDO
    self._write(ioAddr, value)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr_old.py", line 181, in _write
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-06-03 13:20:12,344: raise alarm obj=1FElevarot, typeId=39998, desc=远程控制IO离线异常, id=60b8668c20e3533fa4e950c0
[DEBUG]2021-06-03 13:20:12,403: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-06-03 13:20:12,409: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:20:12,502: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:20:12,532: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BA58>
[INFO]2021-06-03 13:20:12,538: 0
[DEBUG]2021-06-03 13:20:12,604: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:12,699: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:20:12,831: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:20:12,867: used 168ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:13,027: [return] use 423 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:13,064: 1 0
[INFO]2021-06-03 13:20:13,106: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[INFO]2021-06-03 13:20:13,819: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BC50>
[INFO]2021-06-03 13:20:15,151: this is handle taskStep=============>checkOneLayerFinish
[INFO]2021-06-03 13:20:15,175: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:20:15,192: 0
[DEBUG]2021-06-03 13:20:15,217: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:15,313: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-06-03 13:20:15,396: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:20:15,425: used 112ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[DEBUG]2021-06-03 13:20:15,478: [return] use 261 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:20:15,508: 1 0
[INFO]2021-06-03 13:20:15,574: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[ERROR]2021-06-03 13:20:16,300: connect AGVchache failed timed out
[ERROR]2021-06-03 13:20:16,483: connect AGV01 failed timed out
[INFO]2021-06-03 13:20:16,927: <remoteio.remoteioMgr.remoteioInfo object at 0x0000019C3553BCF8>
[INFO]2021-06-03 13:20:17,605: this is handle taskStep=============>checkOneLayerFinish
[CRITICAL]2021-06-03 13:20:27,584: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6548, ppid=5744, tid=5060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[WARN]2021-06-03 13:20:33,584: worker 9[tid:1016] <locked _thread.RLock object owner=1016 count=1 at 0x0000019C3699B850> ,hold 21016 ms
[INFO]2021-06-03 13:24:22,440: AGVchache checkLink failed 172.16.217.213 19204
[INFO]2021-06-03 13:24:22,562: --------------------------------------------检查一层出料状态
[INFO]2021-06-03 13:24:22,615: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-06-03 13:24:22,803: agvThread.AGVchache[tid:3208] <lock name:agv.AGVchache.lock_status,<locked _thread.RLock object owner=3208 count=1 at 0x0000019C354B1F30>> ,hold 256611 ms
[INFO]2021-06-03 13:24:22,809: name=worker 9, pid=6548, tid=1016
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/KLC/knowledgeCity/remoteio/main_remoteio.py", line 109, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 162, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 266, in readDOList() 
[22] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:24:22,838: 0
[WARN]2021-06-03 13:24:22,868: agvThread.AGV01[tid:7468] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7468 count=1 at 0x0000019C35544698>> ,hold 256486 ms
[INFO]2021-06-03 13:24:22,961: name=agvThread.AGVchache, pid=6548, tid=3208
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-06-03 13:24:23,063: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=1016
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 315, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-06-03 13:24:23,069: send http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:24:23,215: name=agvThread.AGV01, pid=6548, tid=7468
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/agvCtrl/agvList.py", line 582, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-06-03 13:24:23,336: GET: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1 addr: 127.0.0.1
[CRITICAL]2021-06-03 13:24:23,354: invoke <function urlReadDOList at 0x0000019C35538510> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6548, ppid=5744, tid=1016
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\remoteio\main_remoteio.py", line 109, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 162, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 266, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 315, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\KLC\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-06-03 13:24:23,384: AGVwuliao checkUnitStatus unitId: 1
[DEBUG]2021-06-03 13:24:23,522: [return] use 453 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitStatus?agv=AGVwuliao&timeoutSec=30&unitId=1
[INFO]2021-06-03 13:24:23,552: 1 0
[WARN]2021-06-03 13:24:23,570: scada.60b8662a73dabd1994eac925[tid:2712] <locked _thread.RLock object owner=2712 count=1 at 0x0000019C3D75DE40> ,hold 245965 ms
[INFO]2021-06-03 13:24:23,681: name=scada.60b8662a73dabd1994eac925, pid=6548, tid=2712
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/KLC/knowledgeCity/autoCtrl/runTasks.py", line 1096, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/KLC/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-06-03 13:24:23,756: remoteio is alarm: ['upStation01', 'downStation01', '3FLamp', '1FElevarot']
[INFO]2021-06-03 13:24:23,762: task[60b8662a73dabd1994eac925][AGVwuliao] AP18(LM17) -> AP22(LM17) [checkOneLayerFinish] checkOneLayerFinish error
[ERROR]2021-06-03 13:24:23,845: raise alarm obj=3FElevarot, typeId=39998, desc=远程控制IO离线异常, id=60b8678720e3533fa4e95143
[ERROR]2021-06-03 13:24:23,928: raise alarm obj=AGV01, typeId=49999, desc=AGV离线异常, id=60b8678720e3533fa4e95145
[ERROR]2021-06-03 13:24:24,000: raise alarm obj=AGVchache, typeId=49999, desc=AGV离线异常, id=60b8678720e3533fa4e95147
[DEBUG]2021-06-03 13:24:25,209: try connect AGVchache 172.16.217.213:19204
[DEBUG]2021-06-03 13:24:25,335: try connect AGV01 172.16.217.209:19204
