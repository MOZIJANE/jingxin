[INFO]2021-01-25 16:15:31,459: log files at E:\python_work\knowledgeCity\common\log
[INFO]2021-01-25 16:15:31,459: find module agvCtrl.main_agv
[INFO]2021-01-25 16:15:31,459: find module agvDevice.main_agvDevice
[INFO]2021-01-25 16:15:31,460: find module alarm.main_alarm
[INFO]2021-01-25 16:15:31,460: find module auth.main_auth
[INFO]2021-01-25 16:15:31,460: find module autoCtrl.main_akmCtrl
[INFO]2021-01-25 16:15:31,460: find module door.main_door
[INFO]2021-01-25 16:15:31,461: find module elevator.main_elevator
[INFO]2021-01-25 16:15:31,461: find module remoteio.main_remoteio
[INFO]2021-01-25 16:15:31,461: import agvCtrl.main_agv
[INFO]2021-01-25 16:15:31,898: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B8199AE0>>
[INFO]2021-01-25 16:15:31,901: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B81AD390>>
[INFO]2021-01-25 16:15:32,008: create lock <lock name:timer.lock_2580071742912,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B8427F00>>
[ERROR]2021-01-25 16:15:32,025: mqtt is disabled
[INFO]2021-01-25 16:15:32,025: mqtt: subscribe [alarm/raise/+]
[INFO]2021-01-25 16:15:32,025: mqtt: subscribe [alarm/clear/+]
[INFO]2021-01-25 16:15:35,060: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-01-25 16:15:35,132: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B861C0F0>>
[INFO]2021-01-25 16:15:35,133: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B86159F0>>
[INFO]2021-01-25 16:15:35,134: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B860BE10>>
[INFO]2021-01-25 16:15:35,169: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B86FD4B0>>
[INFO]2021-01-25 16:15:35,747: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B86C71E0>>
[INFO]2021-01-25 16:15:36,141: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B87F4F30>>
[INFO]2021-01-25 16:15:36,145: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B88C6930>>
[INFO]2021-01-25 16:15:36,234: charge policy 0 , fix time
[INFO]2021-01-25 16:15:36,279: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B88CF540>>
[INFO]2021-01-25 16:15:36,363: start load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[DEBUG]2021-01-25 16:15:36,453: elevator thread start
[INFO]2021-01-25 16:15:36,478: load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 131 ms
[INFO]2021-01-25 16:15:36,490: start load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-01-25 16:15:36,541: load map E:\python_work\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 62 ms
[INFO]2021-01-25 16:15:36,546: import agvDevice.main_agvDevice
[INFO]2021-01-25 16:15:36,546: import alarm.main_alarm
[INFO]2021-01-25 16:15:36,546: import auth.main_auth
[INFO]2021-01-25 16:15:36,558: import autoCtrl.main_akmCtrl
[INFO]2021-01-25 16:15:36,571: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B9929FC0>>
[INFO]2021-01-25 16:15:36,576: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B98FD870>>
[INFO]2021-01-25 16:15:36,578: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258B9962810>>
[INFO]2021-01-25 16:15:37,611: import door.main_door
[INFO]2021-01-25 16:15:37,614: import elevator.main_elevator
[INFO]2021-01-25 16:15:37,615: import remoteio.main_remoteio
[SUCC]2021-01-25 16:15:37,665: utility start, pid=4864, ppid=17768
[DEBUG]2021-01-25 16:15:37,666: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-01-25 16:15:37,666: start timer
[DEBUG]2021-01-25 16:15:37,666: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-01-25 16:15:37,682: load agv file: E:\python_work\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-01-25 16:15:37,682: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD150F0>>
[DEBUG]2021-01-25 16:15:37,685: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-01-25 16:15:37,685: AGV01 start agvList run thread
[INFO]2021-01-25 16:15:37,686: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD31030>>
[DEBUG]2021-01-25 16:15:37,686: try connect AGV01 172.16.217.209:19204
[INFO]2021-01-25 16:15:37,686: AGV01 start agvList run2 thread
[WARN]2021-01-25 16:15:37,690: Local server start! version 3.8.0, path E:\python_work\knowledgeCity\common, pid 4864
[INFO]2021-01-25 16:15:37,690: add_ignore: taskStatus
[INFO]2021-01-25 16:15:37,693: AGV01 connected 172.16.217.209 19204
[INFO]2021-01-25 16:15:37,693: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD31060>>
[DEBUG]2021-01-25 16:15:37,694: try connect AGV01 172.16.217.209:19205
[INFO]2021-01-25 16:15:37,700: AGV01 connected 172.16.217.209 19205
[INFO]2021-01-25 16:15:37,701: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD31090>>
[DEBUG]2021-01-25 16:15:37,701: try connect AGV01 172.16.217.209:19206
[INFO]2021-01-25 16:15:37,711: AGV01 connected 172.16.217.209 19206
[INFO]2021-01-25 16:15:37,711: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD310F0>>
[DEBUG]2021-01-25 16:15:37,711: try connect AGV01 172.16.217.209:19207
[INFO]2021-01-25 16:15:37,719: AGV01 connected 172.16.217.209 19207
[INFO]2021-01-25 16:15:37,720: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD31600>>
[DEBUG]2021-01-25 16:15:37,720: try connect AGV01 172.16.217.209:19208
[INFO]2021-01-25 16:15:37,730: AGV01 connected 172.16.217.209 19208
[INFO]2021-01-25 16:15:37,730: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000258BFD44F30>>
[DEBUG]2021-01-25 16:15:37,730: try connect AGV01 172.16.217.209:19210
[INFO]2021-01-25 16:15:37,735: AGV01 connected 172.16.217.209 19210
[INFO]2021-01-25 16:15:37,798: AGV01 current map comba-ZXC-F3
[INFO]2021-01-25 16:15:37,861: AGV01 is online
[ERROR]2021-01-25 16:15:37,871: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.6444
[DEBUG]2021-01-25 16:15:42,679: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-01-25 16:15:42,683: akmTask init client agvApi
[DEBUG]2021-01-25 16:15:42,702: used 23ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[WARN]2021-01-25 16:15:42,715: timer_thread[tid:3364] <locked _thread.RLock object owner=3364 count=1 at 0x00000258B9929300> ,hold 5042 ms
[INFO]2021-01-25 16:15:42,716: name=timer_thread, pid=4864, tid=3364
[01] File "D:/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/python_work/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "E:/python_work/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "E:/python_work/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "E:/python_work/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "E:/python_work/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-01-25 16:15:42,745: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:42,792: [return] use 47 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:42,792: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:15:43,993: [return] use 1201 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:15:43,999: init IO success
[DEBUG]2021-01-25 16:15:44,013: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:44,114: [return] use 101 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:44,114: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:15:44,243: [return] use 129 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:15:44,243: AAS产线 upStation01 [0, 0, 0, 0] downStation01 [1, 0, 0, 0]
[DEBUG]2021-01-25 16:15:46,299: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:46,353: [return] use 54 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:46,353: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:15:46,513: [return] use 160 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:15:46,513: AAS产线 upStation01 [0, 0, 0, 0] downStation01 [1, 0, 0, 0]
[CRITICAL]2021-01-25 16:15:46,522: monitor devices cause a error: list index out of range
pid=4864, ppid=17768, tid=3364
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\deviceCtrl.py", line 108, in _monitorDevices
    if st[5] and g_lastTask[d]["unload"] is None:
IndexError: list index out of range

[DEBUG]2021-01-25 16:15:47,530: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:47,591: [return] use 61 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-01-25 16:15:47,621: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-01-25 16:15:47,710: [return] use 89 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-01-25 16:15:47,715: AAS产线 upStation01 [0, 0, 0, 0] downStation01 [1, 0, 0, 0]
[CRITICAL]2021-01-25 16:15:47,739: monitor devices cause a error: list index out of range
pid=4864, ppid=17768, tid=3364
Traceback (most recent call last):
  File "E:\python_work\knowledgeCity\autoCtrl\deviceCtrl.py", line 108, in _monitorDevices
    if st[5] and g_lastTask[d]["unload"] is None:
IndexError: list index out of range

[INFO]2021-01-25 16:15:47,779: remoteio is alarm: []
