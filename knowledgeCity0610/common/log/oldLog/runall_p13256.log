[INFO]2021-05-12 16:08:00,072: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-12 16:08:00,073: find module agvCtrl.main_agv
[INFO]2021-05-12 16:08:00,073: find module agvDevice.main_agvDevice
[INFO]2021-05-12 16:08:00,073: find module alarm.main_alarm
[INFO]2021-05-12 16:08:00,074: find module auth.main_auth
[INFO]2021-05-12 16:08:00,074: find module autoCtrl.main_akmCtrl
[INFO]2021-05-12 16:08:00,074: find module door.main_door
[INFO]2021-05-12 16:08:00,074: find module elevator.main_elevator
[INFO]2021-05-12 16:08:00,075: find module feed.main_feed
[INFO]2021-05-12 16:08:00,078: find module remoteio.main_remoteio
[INFO]2021-05-12 16:08:00,078: import agvCtrl.main_agv
[INFO]2021-05-12 16:08:00,307: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DA6167B0>>
[INFO]2021-05-12 16:08:00,309: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DA616918>>
[INFO]2021-05-12 16:08:00,356: create lock <lock name:timer.lock_1480924473496,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DA85F440>>
[ERROR]2021-05-12 16:08:00,363: mqtt is disabled
[INFO]2021-05-12 16:08:00,364: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-12 16:08:00,364: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-12 16:08:03,382: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-12 16:08:03,422: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DAA28B48>>
[INFO]2021-05-12 16:08:03,423: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DAA28788>>
[INFO]2021-05-12 16:08:03,425: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DAA28300>>
[INFO]2021-05-12 16:08:03,438: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DAC96710>>
[INFO]2021-05-12 16:08:03,587: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D8DEC198>>
[INFO]2021-05-12 16:08:03,812: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DAB6AEB8>>
[INFO]2021-05-12 16:08:03,815: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DABF0FA8>>
[INFO]2021-05-12 16:08:03,864: charge policy 0 , fix time
[INFO]2021-05-12 16:08:03,891: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DAB6A5F8>>
[INFO]2021-05-12 16:08:04,343: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-12 16:08:04,417: elevator thread start
[INFO]2021-05-12 16:08:04,432: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 96 ms
[INFO]2021-05-12 16:08:04,439: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-12 16:08:04,581: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 148 ms
[INFO]2021-05-12 16:08:04,589: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-12 16:08:04,663: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 81 ms
[INFO]2021-05-12 16:08:04,672: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-12 16:08:04,718: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 54 ms
[INFO]2021-05-12 16:08:04,725: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-12 16:08:04,758: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 39 ms
[INFO]2021-05-12 16:08:04,760: import agvDevice.main_agvDevice
[INFO]2021-05-12 16:08:04,761: import alarm.main_alarm
[INFO]2021-05-12 16:08:04,761: import auth.main_auth
[INFO]2021-05-12 16:08:04,768: import autoCtrl.main_akmCtrl
[INFO]2021-05-12 16:08:04,788: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DB419F80>>
[INFO]2021-05-12 16:08:04,799: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DB0A77B0>>
[INFO]2021-05-12 16:08:04,820: 一楼升降机 一楼仓库上料B
[INFO]2021-05-12 16:08:05,293: recover can release agv *task[609b892473dabd21b0330e78][1F-ChaChe-AGV] AP143(LM118) -> AP101(LM145) [finish]
[INFO]2021-05-12 16:08:05,310: 三楼夹具点B 三楼夹具点A
[INFO]2021-05-12 16:08:05,313: recover can release agv *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [loadPlayload]
[INFO]2021-05-12 16:08:05,314: load task: *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waiting]
[INFO]2021-05-12 16:08:05,314: 三楼夹具点B 三楼夹具点A
[INFO]2021-05-12 16:08:05,326: recover can release agv *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [loadPlayload]
[INFO]2021-05-12 16:08:05,327: load task: *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waiting]
[INFO]2021-05-12 16:08:05,328: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DB0A7030>>
[INFO]2021-05-12 16:08:05,330: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DB2B7148>>
[INFO]2021-05-12 16:08:05,371: import door.main_door
[INFO]2021-05-12 16:08:05,373: import elevator.main_elevator
[INFO]2021-05-12 16:08:05,373: import feed.main_feed
[INFO]2021-05-12 16:08:05,379: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DBC908A0>>
[INFO]2021-05-12 16:08:05,411: import remoteio.main_remoteio
[SUCC]2021-05-12 16:08:05,425: utility start, pid=13256, ppid=18196
[DEBUG]2021-05-12 16:08:05,426: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-12 16:08:05,426: start timer
[DEBUG]2021-05-12 16:08:05,427: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-12 16:08:05,434: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-12 16:08:05,435: create lock <lock name:agvList.Wuliao-AGV.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13A828>>
[DEBUG]2021-05-12 16:08:05,437: create aliveObj Wuliao-AGV AGV离线异常 timeout 300
[INFO]2021-05-12 16:08:05,440: Wuliao-AGV start agvList run thread
[INFO]2021-05-12 16:08:05,440: Wuliao-AGV start agvList run2 thread
[INFO]2021-05-12 16:08:05,440: create lock <lock name:agv.Wuliao-AGV.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13AA08>>
[DEBUG]2021-05-12 16:08:05,442: try connect Wuliao-AGV 172.16.217.209:19204
[INFO]2021-05-12 16:08:05,443: create lock <lock name:agvList.3F-ChaChe-AGV.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13A878>>
[DEBUG]2021-05-12 16:08:05,445: create aliveObj 3F-ChaChe-AGV AGV离线异常 timeout 300
[INFO]2021-05-12 16:08:05,445: 3F-ChaChe-AGV start agvList run thread
[INFO]2021-05-12 16:08:05,445: 3F-ChaChe-AGV start agvList run2 thread
[INFO]2021-05-12 16:08:05,445: create lock <lock name:agvList.Jiaju-AGV.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13AD28>>
[INFO]2021-05-12 16:08:05,446: create lock <lock name:agv.3F-ChaChe-AGV.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13AD78>>
[INFO]2021-05-12 16:08:05,448: Wuliao-AGV connected 172.16.217.209 19204
[DEBUG]2021-05-12 16:08:05,449: try connect 3F-ChaChe-AGV 172.16.217.121:19204
[INFO]2021-05-12 16:08:05,450: create lock <lock name:agv.Wuliao-AGV.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13A9E0>>
[DEBUG]2021-05-12 16:08:05,451: create aliveObj Jiaju-AGV AGV离线异常 timeout 300
[DEBUG]2021-05-12 16:08:05,451: try connect Wuliao-AGV 172.16.217.209:19205
[INFO]2021-05-12 16:08:05,452: Jiaju-AGV start agvList run thread
[INFO]2021-05-12 16:08:05,452: Jiaju-AGV start agvList run2 thread
[INFO]2021-05-12 16:08:05,452: create lock <lock name:agvList.1F-ChaChe-AGV.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19030>>
[INFO]2021-05-12 16:08:05,453: create lock <lock name:agv.Jiaju-AGV.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19080>>
[DEBUG]2021-05-12 16:08:05,454: try connect Jiaju-AGV 172.16.217.211:19204
[DEBUG]2021-05-12 16:08:05,455: create aliveObj 1F-ChaChe-AGV AGV离线异常 timeout 300
[INFO]2021-05-12 16:08:05,456: 1F-ChaChe-AGV start agvList run thread
[INFO]2021-05-12 16:08:05,456: 1F-ChaChe-AGV start agvList run2 thread
[WARN]2021-05-12 16:08:05,456: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 13256
[INFO]2021-05-12 16:08:05,456: create lock <lock name:agv.1F-ChaChe-AGV.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13A7B0>>
[INFO]2021-05-12 16:08:05,457: add_ignore: taskStatus
[DEBUG]2021-05-12 16:08:05,457: try connect 1F-ChaChe-AGV 172.16.217.213:19204
[INFO]2021-05-12 16:08:05,460: Wuliao-AGV connected 172.16.217.209 19205
[INFO]2021-05-12 16:08:05,461: create lock <lock name:agv.Wuliao-AGV.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13AF08>>
[DEBUG]2021-05-12 16:08:05,462: try connect Wuliao-AGV 172.16.217.209:19206
[INFO]2021-05-12 16:08:05,466: 1F-ChaChe-AGV connected 172.16.217.213 19204
[INFO]2021-05-12 16:08:05,467: create lock <lock name:agv.1F-ChaChe-AGV.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158DE13A918>>
[DEBUG]2021-05-12 16:08:05,467: try connect 1F-ChaChe-AGV 172.16.217.213:19205
[INFO]2021-05-12 16:08:05,468: Wuliao-AGV connected 172.16.217.209 19206
[INFO]2021-05-12 16:08:05,469: create lock <lock name:agv.Wuliao-AGV.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19E40>>
[DEBUG]2021-05-12 16:08:05,469: try connect Wuliao-AGV 172.16.217.209:19207
[INFO]2021-05-12 16:08:05,472: 1F-ChaChe-AGV connected 172.16.217.213 19205
[INFO]2021-05-12 16:08:05,473: create lock <lock name:agv.1F-ChaChe-AGV.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19F08>>
[DEBUG]2021-05-12 16:08:05,473: try connect 1F-ChaChe-AGV 172.16.217.213:19206
[INFO]2021-05-12 16:08:05,474: Wuliao-AGV connected 172.16.217.209 19207
[INFO]2021-05-12 16:08:05,475: create lock <lock name:agv.Wuliao-AGV.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19EB8>>
[DEBUG]2021-05-12 16:08:05,476: try connect Wuliao-AGV 172.16.217.209:19208
[INFO]2021-05-12 16:08:05,479: 1F-ChaChe-AGV connected 172.16.217.213 19206
[INFO]2021-05-12 16:08:05,479: create lock <lock name:agv.1F-ChaChe-AGV.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19EE0>>
[DEBUG]2021-05-12 16:08:05,480: try connect 1F-ChaChe-AGV 172.16.217.213:19207
[INFO]2021-05-12 16:08:05,482: Wuliao-AGV connected 172.16.217.209 19208
[INFO]2021-05-12 16:08:05,482: create lock <lock name:agv.Wuliao-AGV.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19F30>>
[DEBUG]2021-05-12 16:08:05,482: try connect Wuliao-AGV 172.16.217.209:19210
[INFO]2021-05-12 16:08:05,497: Wuliao-AGV connected 172.16.217.209 19210
[INFO]2021-05-12 16:08:05,504: 1F-ChaChe-AGV connected 172.16.217.213 19207
[INFO]2021-05-12 16:08:05,505: create lock <lock name:agv.1F-ChaChe-AGV.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C19FA8>>
[DEBUG]2021-05-12 16:08:05,505: try connect 1F-ChaChe-AGV 172.16.217.213:19208
[INFO]2021-05-12 16:08:05,514: 1F-ChaChe-AGV connected 172.16.217.213 19208
[INFO]2021-05-12 16:08:05,514: create lock <lock name:agv.1F-ChaChe-AGV.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C56030>>
[DEBUG]2021-05-12 16:08:05,515: try connect 1F-ChaChe-AGV 172.16.217.213:19210
[INFO]2021-05-12 16:08:05,525: 1F-ChaChe-AGV connected 172.16.217.213 19210
[INFO]2021-05-12 16:08:05,545: Wuliao-AGV current map comba-ZXC-F3
[INFO]2021-05-12 16:08:05,554: 1F-ChaChe-AGV current map comba-ZSC-F1-F3
[INFO]2021-05-12 16:08:05,571: 1F-ChaChe-AGV is online
[INFO]2021-05-12 16:08:05,577: Wuliao-AGV is online
[INFO]2021-05-12 16:08:05,793: Jiaju-AGV connected 172.16.217.211 19204
[INFO]2021-05-12 16:08:05,794: create lock <lock name:agv.Jiaju-AGV.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C191C0>>
[DEBUG]2021-05-12 16:08:05,795: try connect Jiaju-AGV 172.16.217.211:19205
[INFO]2021-05-12 16:08:05,813: Jiaju-AGV connected 172.16.217.211 19205
[INFO]2021-05-12 16:08:05,814: create lock <lock name:agv.Jiaju-AGV.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C569B8>>
[DEBUG]2021-05-12 16:08:05,815: try connect Jiaju-AGV 172.16.217.211:19206
[INFO]2021-05-12 16:08:05,831: Jiaju-AGV connected 172.16.217.211 19206
[INFO]2021-05-12 16:08:05,832: create lock <lock name:agv.Jiaju-AGV.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C569E0>>
[DEBUG]2021-05-12 16:08:05,833: try connect Jiaju-AGV 172.16.217.211:19207
[INFO]2021-05-12 16:08:05,848: Jiaju-AGV connected 172.16.217.211 19207
[INFO]2021-05-12 16:08:05,848: create lock <lock name:agv.Jiaju-AGV.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C56A08>>
[DEBUG]2021-05-12 16:08:05,849: try connect Jiaju-AGV 172.16.217.211:19208
[INFO]2021-05-12 16:08:05,866: Jiaju-AGV connected 172.16.217.211 19208
[INFO]2021-05-12 16:08:05,866: create lock <lock name:agv.Jiaju-AGV.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000158D9C56A30>>
[DEBUG]2021-05-12 16:08:05,868: try connect Jiaju-AGV 172.16.217.211:19210
[INFO]2021-05-12 16:08:05,883: Jiaju-AGV connected 172.16.217.211 19210
[INFO]2021-05-12 16:08:05,909: Jiaju-AGV current map comba-ZXC-F3
[INFO]2021-05-12 16:08:05,958: Jiaju-AGV is online
[DEBUG]2021-05-12 16:08:10,432: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-12 16:08:10,436: akmTask init client agvApi
[DEBUG]2021-05-12 16:08:10,437: used 5ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[INFO]2021-05-12 16:08:10,440: task recover: add task *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waiting]
[INFO]2021-05-12 16:08:10,441: task recover: add task *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waiting]
[DEBUG]2021-05-12 16:08:13,504: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-12 16:08:13,537: used 33ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[INFO]2021-05-12 16:08:13,624: task[609b84d173dabd21b0330e74]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 12, 16, 8, 13, 608040), 'updateTime': datetime.datetime(2021, 5, 12, 16, 8, 13, 608040), 'status': 'running'}
[INFO]2021-05-12 16:08:13,694: task: start *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waiting]
[INFO]2021-05-12 16:08:13,736: task[609b84d173dabd21b0330e74] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 12, 16, 8, 13, 724753)}
[DEBUG]2021-05-12 16:08:13,771: *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waitForAgv] waiting -> waitForAgv
[INFO]2021-05-12 16:08:14,717: *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waiting] loop with *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waitForAgv]
[WARN]2021-05-12 16:08:14,735: timer_thread[tid:6856] <locked _thread.RLock object owner=6856 count=1 at 0x00000158DB0813F0> ,hold 9306 ms
[INFO]2021-05-12 16:08:14,842: name=timer_thread, pid=13256, tid=6856
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-12 16:08:15,348: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=609b84d173dabd21b0330e74&timeout=10 addr: 127.0.0.1
[INFO]2021-05-12 16:08:15,378: [('comba-ZXC-F3.AP12', 'Wuliao-AGV'), ('comba-ZXC-F3.LM20', 'Jiaju-AGV')]
[ERROR]2021-05-12 16:08:15,455: connect 3F-ChaChe-AGV failed timed out
[DEBUG]2021-05-12 16:08:15,496: try connect 3F-ChaChe-AGV 172.16.217.121:19204
[INFO]2021-05-12 16:08:16,891: apply Wuliao-AGV ,taskId: 609b84d173dabd21b0330e74 ,loc comba-ZXC-F3.AP22 ,autoLock False , used 1513 ms
[INFO]2021-05-12 16:08:16,917: Wuliao-AGV
[INFO]2021-05-12 16:08:16,941: Wuliao-AGV
[INFO]2021-05-12 16:08:16,947: *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waiting] loop with *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waitForAgv]
[DEBUG]2021-05-12 16:08:17,000: used 1652ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=609b84d173dabd21b0330e74&timeout=10
[INFO]2021-05-12 16:08:17,084: comba-ZXC-F3.AP22 comba-ZXC-F3.AP18
[INFO]2021-05-12 16:08:17,108: Wuliao-AGV
[INFO]2021-05-12 16:08:17,138: 判断类型
[DEBUG]2021-05-12 16:08:17,277: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude=Wuliao-AGV&loc=AP22&mapId=comba-ZXC-F3&taskId=609b84d173dabd21b0330e74&timeout=10 addr: 127.0.0.1
[INFO]2021-05-12 16:08:17,329: [('comba-ZXC-F3.LM20', 'Jiaju-AGV')]
[DEBUG]2021-05-12 16:08:17,387: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-12 16:08:18,059: apply Jiaju-AGV ,taskId: 609b84d173dabd21b0330e74 ,loc comba-ZXC-F3.AP22 ,autoLock False , used 730 ms
[INFO]2021-05-12 16:08:18,076: Jiaju-AGV
[INFO]2021-05-12 16:08:18,123: Jiaju-AGV
[DEBUG]2021-05-12 16:08:18,153: used 709ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude=Wuliao-AGV&loc=AP22&mapId=comba-ZXC-F3&taskId=609b84d173dabd21b0330e74&timeout=10
[INFO]2021-05-12 16:08:18,219: comba-ZXC-F3.AP22 comba-ZXC-F3.AP18
[INFO]2021-05-12 16:08:18,231: Jiaju-AGV
[INFO]2021-05-12 16:08:18,248: 判断类型
[DEBUG]2021-05-12 16:08:18,359: GET: http://127.0.0.1:8999/api/agv/lock?agv=Jiaju-AGV&appName=akmTask&taskId=609b84d173dabd21b0330e74 addr: 127.0.0.1
[DEBUG]2021-05-12 16:08:18,383: lock:  Jiaju-AGV taskId 609b84d173dabd21b0330e74 app akmTask
[WARN]2021-05-12 16:08:19,417: Jiaju-AGV clear task finish, cur= comba-ZXC-F3.LM20 task_status= 4
[DEBUG]2021-05-12 16:08:19,441: used 1082ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/lock?agv=Jiaju-AGV&appName=akmTask&taskId=609b84d173dabd21b0330e74
[INFO]2021-05-12 16:08:19,507: Jiaju-AGV
[INFO]2021-05-12 16:08:19,531: *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [waitForAgv] apply Jiaju-AGV
[INFO]2021-05-12 16:08:19,567: task[609b84d173dabd21b0330e74] update info: {'agvId': 'Jiaju-AGV', 'failMsg': '成功分配小车Jiaju-AGV', 'updateTime': datetime.datetime(2021, 5, 12, 16, 8, 19, 549063)}
[WARN]2021-05-12 16:08:19,596: scada.609b84d173dabd21b0330e74[tid:8972] <locked _thread.RLock object owner=8972 count=1 at 0x00000158DB2B7580> ,hold 4318 ms
[INFO]2021-05-12 16:08:19,704: name=scada.609b84d173dabd21b0330e74, pid=13256, tid=8972
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 920, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-12 16:08:19,756: *task[609b84d173dabd21b0330e74][Jiaju-AGV] AP22(LM17) -> AP18(LM17) [initAGV] waitForAgv -> initAGV
[INFO]2021-05-12 16:08:20,164: task[609b84d173dabd21b0330e74] update info: {'failMsg': '前往三楼夹具点A工位点', 'updateTime': datetime.datetime(2021, 5, 12, 16, 8, 20, 152437)}
[DEBUG]2021-05-12 16:08:20,194: *task[609b84d173dabd21b0330e74][Jiaju-AGV] AP22(LM17) -> AP18(LM17) [startMoveAGV] initAGV -> startMoveAGV
[INFO]2021-05-12 16:08:20,586: ---------------------------------------------------准备移动movejackup----------------------------------------------------
[INFO]2021-05-12 16:08:20,613: movejackup
[DEBUG]2021-05-12 16:08:20,663: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=Jiaju-AGV&agvId=Jiaju-AGV&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=609b84d173dabd21b0330e74_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-05-12 16:08:20,685: Begin: Jiaju-AGV move from comba-ZXC-F3.LM20 to comba-ZXC-F3.AP22 by paths: [('comba-ZXC-F3', ['LM20', 'LM21', 'LM17', 'AP18', 'AP22'], 5.570529281646836)] task: 609b84d173dabd21b0330e74_2 timeout 86400 used 21 ms
[DEBUG]2021-05-12 16:08:20,686: used 23ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=Jiaju-AGV&agvId=Jiaju-AGV&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=609b84d173dabd21b0330e74_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-05-12 16:08:20,688: ---------------------------------------------------状态转换成loadPlayload----------------------------------------------------
[DEBUG]2021-05-12 16:08:20,692: *task[609b84d173dabd21b0330e74][Jiaju-AGV] AP22(LM17) -> AP18(LM17) [loadPlayload] startMoveAGV -> loadPlayload
[DEBUG]2021-05-12 16:08:21,608: agvInfo: Jiaju-AGV comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM21 ,taskId 609b84d173dabd21b0330e74_2
[ERROR]2021-05-12 16:08:25,577: connect 3F-ChaChe-AGV failed timed out
[INFO]2021-05-12 16:08:25,580: 3F-ChaChe-AGV checkLink failed 172.16.217.121 19204
[WARN]2021-05-12 16:08:25,583: agvThread.3F-ChaChe-AGV[tid:18988] <lock name:agv.3F-ChaChe-AGV.lock_status,<locked _thread.RLock object owner=18988 count=1 at 0x00000158DE13AD78>> ,hold 20134 ms
[INFO]2021-05-12 16:08:25,587: name=agvThread.3F-ChaChe-AGV, pid=13256, tid=18988
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-12 16:08:27,594: try connect 3F-ChaChe-AGV 172.16.217.121:19204
[DEBUG]2021-05-12 16:08:27,781: Jiaju-AGV turn to wait check cur LM20 next LM17 0.810 False
[DEBUG]2021-05-12 16:08:28,312: agvInfo: Jiaju-AGV comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM17 ,taskId 609b84d173dabd21b0330e74_2
[DEBUG]2021-05-12 16:08:29,017: Jiaju-AGV turn to wait check cur LM20 next AP18 0.655 False
[DEBUG]2021-05-12 16:08:29,387: Jiaju-AGV set loc comba-ZXC-F3.LM21 ,old LM20 (9.12,6.18)
[DEBUG]2021-05-12 16:08:29,529: agvInfo: Jiaju-AGV comba-ZXC-F3.LM21 move to comba-ZXC-F3.AP18 ,taskId 609b84d173dabd21b0330e74_2
[CRITICAL]2021-05-12 16:08:32,445: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=13256, ppid=18196, tid=6856
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-12 16:08:33,449: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-12 16:08:37,188: Jiaju-AGV set loc comba-ZXC-F3.LM17 ,old LM21 (9.19,5.85)
[DEBUG]2021-05-12 16:08:37,248: Jiaju-AGV choise next pos cur LM17 next AP22 pre AP18 1.978 False
[DEBUG]2021-05-12 16:08:37,249: Jiaju-AGV turn to wait check cur LM17 next AP22 1.978 False
[ERROR]2021-05-12 16:08:37,596: connect 3F-ChaChe-AGV failed timed out
[INFO]2021-05-12 16:08:37,597: 3F-ChaChe-AGV checkLink failed 172.16.217.121 19204
[WARN]2021-05-12 16:08:37,598: agvThread.3F-ChaChe-AGV[tid:18988] <lock name:agv.3F-ChaChe-AGV.lock_status,<locked _thread.RLock object owner=18988 count=1 at 0x00000158DE13AD78>> ,hold 10004 ms
[INFO]2021-05-12 16:08:37,599: name=agvThread.3F-ChaChe-AGV, pid=13256, tid=18988
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-12 16:08:37,755: agvInfo: Jiaju-AGV comba-ZXC-F3.LM17 move jackup to comba-ZXC-F3.AP22 ,taskId 609b84d173dabd21b0330e74_2
[INFO]2021-05-12 16:08:37,757: if中的gotargetanddowork
[INFO]2021-05-12 16:08:37,757: 1
[INFO]2021-05-12 16:08:37,758: {'id': 'AP22', 'operation': 'ForkLoad', 'recognize': False, 'use_pgv': False}
[CRITICAL]2021-05-12 16:08:38,463: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=1356
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-12 16:08:38,465: worker 4[tid:1356] <locked _thread.RLock object owner=1356 count=1 at 0x00000158DB081800> ,hold 21021 ms
[INFO]2021-05-12 16:08:38,467: name=worker 4, pid=13256, tid=1356
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-12 16:08:38,474: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=1356
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-12 16:08:38,480: invoke <function urlReadDOList at 0x00000158D9BE2AE8> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=1356
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-12 16:08:39,601: try connect 3F-ChaChe-AGV 172.16.217.121:19204
[DEBUG]2021-05-12 16:08:47,865: Jiaju-AGV set loc comba-ZXC-F3.AP18 ,old LM17 (7.87,5.73)
[ERROR]2021-05-12 16:08:48,413: raise alarm obj=Jiaju-AGV, typeId=55501, desc=AGV异常, id=609b8d109dff6ea52d266b82
[CRITICAL]2021-05-12 16:08:48,466: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=13256, ppid=18196, tid=6856
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[WARN]2021-05-12 16:08:48,484: Jiaju-AGV clear task,taskId= 609b84d173dabd21b0330e74_2 map= comba-ZXC-F3 paths= LM20,LM21,LM17,AP18,AP22 task_status= 5
[INFO]2021-05-12 16:08:49,470: init IO success
[DEBUG]2021-05-12 16:08:49,471: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[WARN]2021-05-12 16:08:49,485: Jiaju-AGV clear task finish, cur= comba-ZXC-F3.AP18 task_status= 5
[WARN]2021-05-12 16:08:50,490: Jiaju-AGV clear task finish, cur= comba-ZXC-F3.AP18 task_status= 5
[CRITICAL]2021-05-12 16:08:50,498: agv thread cause a error: Jiaju-AGV执行move AP22失败,taskId:609b84d173dabd21b0330e74_2
pid=13256, ppid=18196, tid=17604

[ERROR]2021-05-12 16:08:50,505: Jiaju-AGV failed to arrived comba-ZXC-F3.AP22 ,task: 609b84d173dabd21b0330e74_2 error Jiaju-AGV执行move AP22失败,taskId:609b84d173dabd21b0330e74_2
[ERROR]2021-05-12 16:08:50,622: connect 3F-ChaChe-AGV failed timed out
[INFO]2021-05-12 16:08:50,627: 3F-ChaChe-AGV checkLink failed 172.16.217.121 19204
[WARN]2021-05-12 16:08:50,632: agvThread.3F-ChaChe-AGV[tid:18988] <lock name:agv.3F-ChaChe-AGV.lock_status,<locked _thread.RLock object owner=18988 count=1 at 0x00000158DE13AD78>> ,hold 11031 ms
[INFO]2021-05-12 16:08:50,639: name=agvThread.3F-ChaChe-AGV, pid=13256, tid=18988
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-12 16:08:50,915: task: move finish callback *task[609b84d173dabd21b0330e74][Jiaju-AGV] AP22(LM17) -> AP18(LM17) [loadPlayload]
[WARN]2021-05-12 16:08:50,917: task[609b84d173dabd21b0330e74]:  error {'failMsg': 'Jiaju-AGV执行move AP22失败,taskId:609b84d173dabd21b0330e74_2', 'endTime': datetime.datetime(2021, 5, 12, 16, 8, 50, 916523), 'status': 'error'}
[INFO]2021-05-12 16:08:50,918: *task[609b84d173dabd21b0330e74][Jiaju-AGV] AP22(LM17) -> AP18(LM17) [loadPlayload] Jiaju-AGV release task, release agv True True False
[DEBUG]2021-05-12 16:08:50,922: GET: http://127.0.0.1:8999/api/agv/isLocked?agv=Jiaju-AGV&appName=akmTask&taskId=609b84d173dabd21b0330e74 addr: 127.0.0.1
[DEBUG]2021-05-12 16:08:50,923: used 1ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/isLocked?agv=Jiaju-AGV&appName=akmTask&taskId=609b84d173dabd21b0330e74
[DEBUG]2021-05-12 16:08:50,928: GET: http://127.0.0.1:8999/api/agv/release?agv=Jiaju-AGV&appName=akmTask&force=False&taskId=609b84d173dabd21b0330e74 addr: 127.0.0.1
[DEBUG]2021-05-12 16:08:50,930: unlock: Jiaju-AGV taskId 609b84d173dabd21b0330e74 app akmTask force False
[DEBUG]2021-05-12 16:08:50,931: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/release?agv=Jiaju-AGV&appName=akmTask&force=False&taskId=609b84d173dabd21b0330e74
[INFO]2021-05-12 16:08:50,933: *task[609b84d173dabd21b0330e74][Jiaju-AGV] AP22(LM17) -> AP18(LM17) [loadPlayload] let Jiaju-AGV gohome
[DEBUG]2021-05-12 16:08:50,943: GET: http://127.0.0.1:8999/api/agv/goHome?agv=Jiaju-AGV&appName=akmTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-05-12 16:08:50,944: Jiaju-AGV gohome home_1 force False taskId home_1 : Jiaju-AGV.AP18 -> comba-ZXC-F3.LM20
[INFO]2021-05-12 16:08:50,954: Begin: Jiaju-AGV move from comba-ZXC-F3.AP18 to comba-ZXC-F3.LM20 by paths: [('comba-ZXC-F3', ['AP18', 'AP22', 'LM19', 'LM20'], 2.1293487257932187)] task: home_1 timeout 10800 used 8 ms
[DEBUG]2021-05-12 16:08:50,956: used 12ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/goHome?agv=Jiaju-AGV&appName=akmTask&force=False&timeout=10800
[INFO]2021-05-12 16:08:50,958: task: stop *task[609b84d173dabd21b0330e74][-] AP22(LM17) -> AP18(LM17) [loadPlayload]
[DEBUG]2021-05-12 16:08:51,799: agvInfo: Jiaju-AGV comba-ZXC-F3.AP18 move to comba-ZXC-F3.AP22 ,taskId home_1
[DEBUG]2021-05-12 16:08:52,646: try connect 3F-ChaChe-AGV 172.16.217.121:19204
[WARN]2021-05-12 16:08:53,345: clear alarm obj=Jiaju-AGV, typeId=55501, id=609b8d109dff6ea52d266b82
[DEBUG]2021-05-12 16:08:53,374: Jiaju-AGV choise next pos cur AP18 next LM19 pre AP22 1.526 False
[CRITICAL]2021-05-12 16:08:59,498: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=16556
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-12 16:09:02,721: connect 3F-ChaChe-AGV failed timed out
[CRITICAL]2021-05-12 16:09:04,541: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=13256, ppid=18196, tid=6856
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-12 16:09:06,754: Jiaju-AGV turn to wait check cur AP18 next LM19 1.526 False
[WARN]2021-05-12 16:09:06,852: worker 5[tid:16556] <locked _thread.RLock object owner=16556 count=1 at 0x00000158DB081710> ,hold 33389 ms
[INFO]2021-05-12 16:09:06,899: 3F-ChaChe-AGV checkLink failed 172.16.217.121 19204
[WARN]2021-05-12 16:09:07,051: agvThread.3F-ChaChe-AGV[tid:18988] <lock name:agv.3F-ChaChe-AGV.lock_status,<locked _thread.RLock object owner=18988 count=1 at 0x00000158DE13AD78>> ,hold 14405 ms
[INFO]2021-05-12 16:09:07,109: name=worker 5, pid=13256, tid=16556
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-12 16:09:07,122: name=agvThread.3F-ChaChe-AGV, pid=13256, tid=18988
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 185, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-12 16:09:07,212: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=16556
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-12 16:09:07,321: invoke <function urlReadDOList at 0x00000158D9BE2AE8> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=16556
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-12 16:09:07,439: Jiaju-AGV set loc comba-ZXC-F3.AP22 ,old AP18 (7.21,5.77)
[DEBUG]2021-05-12 16:09:07,746: agvInfo: Jiaju-AGV comba-ZXC-F3.AP22 move to comba-ZXC-F3.LM19 ,taskId home_1
[INFO]2021-05-12 16:09:07,978: remoteio is alarm: ['upStation01', 'downStation01']
[WARN]2021-05-12 16:09:08,109: clear alarm obj=upStation01, typeId=39998, id=609b83939dff6ea52d262877
[WARN]2021-05-12 16:09:08,228: clear alarm obj=downStation01, typeId=39998, id=609b83939dff6ea52d262879
[WARN]2021-05-12 16:09:08,394: clear alarm obj=3F-ChaChe-AGV, typeId=49999, id=609b84419dff6ea52d262b8b
[DEBUG]2021-05-12 16:09:09,213: try connect 3F-ChaChe-AGV 172.16.217.121:19204
[INFO]2021-05-12 16:09:09,550: task[609b839673dabd21b0330e71]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 12, 16, 9, 9, 544361), 'updateTime': datetime.datetime(2021, 5, 12, 16, 9, 9, 544361), 'status': 'running'}
[INFO]2021-05-12 16:09:09,615: task: start *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waiting]
[INFO]2021-05-12 16:09:09,684: task[609b839673dabd21b0330e71] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 12, 16, 9, 9, 678999)}
[DEBUG]2021-05-12 16:09:09,731: *task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waitForAgv] waiting -> waitForAgv
[WARN]2021-05-12 16:09:10,494: worker 9[tid:13664] <locked _thread.RLock object owner=13664 count=1 at 0x00000158DB081800> ,hold 21011 ms
[INFO]2021-05-12 16:09:10,675: name=worker 9, pid=13256, tid=13664
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-12 16:09:10,739: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=13664
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-12 16:09:10,963: Jiaju-AGV turn to wait check cur AP22 next LM20 0.805 False
[DEBUG]2021-05-12 16:09:10,974: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=609b839673dabd21b0330e71&timeout=10 addr: 127.0.0.1
[CRITICAL]2021-05-12 16:09:10,980: invoke <function urlReadDOList at 0x00000158D9BE2AE8> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=13256, ppid=18196, tid=13664
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-12 16:09:11,045: [('comba-ZXC-F3.AP12', 'Wuliao-AGV'), ('comba-ZXC-F3.LM20', 'Jiaju-AGV')]
[INFO]2021-05-12 16:09:11,763: remoteio is alarm: []
[INFO]2021-05-12 16:09:11,792: apply Wuliao-AGV ,taskId: 609b839673dabd21b0330e71 ,loc comba-ZXC-F3.AP22 ,autoLock False , used 747 ms
[DEBUG]2021-05-12 16:09:12,738: Jiaju-AGV set loc comba-ZXC-F3.LM19 ,old AP22 (6.28,5.79)
[ERROR]2021-05-12 16:09:19,312: connect 3F-ChaChe-AGV failed timed out
[WARN]2021-05-12 16:09:55,992: [*task[609b839673dabd21b0330e71][-] AP22(LM17) -> AP18(LM17) [waitForAgv]] apply agv failed: ('http get', 'http://127.0.0.1:8999/api/agv/apply', {'loc': 'AP22', 'exclude': '', 'autoLock': False, 'mapId': 'comba-ZXC-F3', 'taskId': '609b839673dabd21b0330e71', 'timeout': 10, 'appName': 'akmTask'}, 'error:', 'timed out')
[ERROR]2021-05-12 16:10:11,544: try get lock failed! lock=<lock name:mapMgr.lock,<locked _thread.RLock object owner=1356 count=1 at 0x00000158D8DEC198>> name=agvThread2.Jiaju-AGV tid=17604
[ERROR]2021-05-12 16:10:20,458: try get lock failed! lock=<lock name:mapMgr.lock,<locked _thread.RLock object owner=1356 count=1 at 0x00000158D8DEC198>> name=agv.hasDeadlock tid=6232
