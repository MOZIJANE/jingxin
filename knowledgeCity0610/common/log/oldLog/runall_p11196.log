[INFO]2021-05-08 14:57:35,439: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-08 14:57:35,439: find module agvCtrl.main_agv
[INFO]2021-05-08 14:57:35,440: find module agvDevice.main_agvDevice
[INFO]2021-05-08 14:57:35,440: find module alarm.main_alarm
[INFO]2021-05-08 14:57:35,440: find module auth.main_auth
[INFO]2021-05-08 14:57:35,441: find module autoCtrl.main_akmCtrl
[INFO]2021-05-08 14:57:35,441: find module door.main_door
[INFO]2021-05-08 14:57:35,441: find module elevator.main_elevator
[INFO]2021-05-08 14:57:35,441: find module feed.main_feed
[INFO]2021-05-08 14:57:35,442: find module remoteio.main_remoteio
[INFO]2021-05-08 14:57:35,442: import agvCtrl.main_agv
[INFO]2021-05-08 14:57:35,676: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748FCD67B0>>
[INFO]2021-05-08 14:57:35,678: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748FCD6918>>
[INFO]2021-05-08 14:57:35,726: create lock <lock name:timer.lock_2699654506760,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748FF1E440>>
[ERROR]2021-05-08 14:57:35,733: mqtt is disabled
[INFO]2021-05-08 14:57:35,733: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-08 14:57:35,734: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-08 14:57:38,753: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-08 14:57:38,782: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000274900E8B48>>
[INFO]2021-05-08 14:57:38,783: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000274900E8788>>
[INFO]2021-05-08 14:57:38,784: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000274900E8300>>
[INFO]2021-05-08 14:57:38,792: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027490222760>>
[INFO]2021-05-08 14:57:38,939: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748E4AC198>>
[INFO]2021-05-08 14:57:39,164: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000274902DDE40>>
[INFO]2021-05-08 14:57:39,167: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027490325F30>>
[INFO]2021-05-08 14:57:39,217: charge policy 0 , fix time
[INFO]2021-05-08 14:57:39,242: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002749039B1C0>>
[INFO]2021-05-08 14:57:39,665: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-08 14:57:39,742: elevator thread start
[INFO]2021-05-08 14:57:39,757: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 100 ms
[INFO]2021-05-08 14:57:39,765: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-08 14:57:39,911: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 153 ms
[INFO]2021-05-08 14:57:39,920: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-08 14:57:39,998: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 86 ms
[INFO]2021-05-08 14:57:40,005: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-08 14:57:40,052: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 53 ms
[INFO]2021-05-08 14:57:40,060: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-08 14:57:40,094: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 41 ms
[INFO]2021-05-08 14:57:40,096: import agvDevice.main_agvDevice
[INFO]2021-05-08 14:57:40,097: import alarm.main_alarm
[INFO]2021-05-08 14:57:40,098: import auth.main_auth
[INFO]2021-05-08 14:57:40,104: import autoCtrl.main_akmCtrl
[INFO]2021-05-08 14:57:40,113: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000274907B5080>>
[INFO]2021-05-08 14:57:40,120: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027490783620>>
[INFO]2021-05-08 14:57:40,140: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027490783058>>
[INFO]2021-05-08 14:57:40,144: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027490F4B148>>
[INFO]2021-05-08 14:57:40,659: import door.main_door
[INFO]2021-05-08 14:57:40,661: import elevator.main_elevator
[INFO]2021-05-08 14:57:40,661: import feed.main_feed
[INFO]2021-05-08 14:57:40,668: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491C6D508>>
[INFO]2021-05-08 14:57:40,700: import remoteio.main_remoteio
[SUCC]2021-05-08 14:57:40,714: utility start, pid=11196, ppid=2040
[DEBUG]2021-05-08 14:57:40,715: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-08 14:57:40,715: start timer
[DEBUG]2021-05-08 14:57:40,717: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-08 14:57:40,723: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-08 14:57:40,724: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1D5A8>>
[DEBUG]2021-05-08 14:57:40,726: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-08 14:57:40,728: AGV01 start agvList run thread
[INFO]2021-05-08 14:57:40,729: AGV01 start agvList run2 thread
[INFO]2021-05-08 14:57:40,729: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1D990>>
[DEBUG]2021-05-08 14:57:40,730: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:57:40,732: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1D918>>
[DEBUG]2021-05-08 14:57:40,733: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-08 14:57:40,734: AGV03 start agvList run thread
[INFO]2021-05-08 14:57:40,734: AGV03 start agvList run2 thread
[INFO]2021-05-08 14:57:40,734: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1DB98>>
[INFO]2021-05-08 14:57:40,735: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1DBE8>>
[DEBUG]2021-05-08 14:57:40,738: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:57:40,740: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-08 14:57:40,740: AGV04 start agvList run thread
[INFO]2021-05-08 14:57:40,740: AGV04 start agvList run2 thread
[INFO]2021-05-08 14:57:40,741: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1DE18>>
[INFO]2021-05-08 14:57:40,741: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1DE68>>
[DEBUG]2021-05-08 14:57:40,742: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-08 14:57:40,743: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-05-08 14:57:40,744: AGV02 start agvList run thread
[INFO]2021-05-08 14:57:40,744: AGV02 start agvList run2 thread
[WARN]2021-05-08 14:57:40,744: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 11196
[INFO]2021-05-08 14:57:40,744: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1D418>>
[INFO]2021-05-08 14:57:40,745: add_ignore: taskStatus
[DEBUG]2021-05-08 14:57:40,745: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 14:57:40,767: AGV04 connected 172.16.217.211 19204
[INFO]2021-05-08 14:57:40,768: create lock <lock name:agv.AGV04.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027491D1DFD0>>
[DEBUG]2021-05-08 14:57:40,769: try connect AGV04 172.16.217.211:19205
[INFO]2021-05-08 14:57:40,788: AGV04 connected 172.16.217.211 19205
[INFO]2021-05-08 14:57:40,790: create lock <lock name:agv.AGV04.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748F2CBAA8>>
[DEBUG]2021-05-08 14:57:40,790: try connect AGV04 172.16.217.211:19206
[INFO]2021-05-08 14:57:40,796: AGV04 connected 172.16.217.211 19206
[INFO]2021-05-08 14:57:40,797: create lock <lock name:agv.AGV04.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748F2CBA58>>
[DEBUG]2021-05-08 14:57:40,797: try connect AGV04 172.16.217.211:19207
[INFO]2021-05-08 14:57:40,805: AGV04 connected 172.16.217.211 19207
[INFO]2021-05-08 14:57:40,806: create lock <lock name:agv.AGV04.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748F2CBB70>>
[DEBUG]2021-05-08 14:57:40,808: try connect AGV04 172.16.217.211:19208
[INFO]2021-05-08 14:57:40,812: AGV04 connected 172.16.217.211 19208
[INFO]2021-05-08 14:57:40,813: create lock <lock name:agv.AGV04.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000002748F2CBAF8>>
[DEBUG]2021-05-08 14:57:40,813: try connect AGV04 172.16.217.211:19210
[INFO]2021-05-08 14:57:40,820: AGV04 connected 172.16.217.211 19210
[INFO]2021-05-08 14:57:40,869: AGV04 current map comba-ZXC-F3
[INFO]2021-05-08 14:57:40,929: AGV04 is online
[DEBUG]2021-05-08 14:57:45,738: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-08 14:57:45,755: akmTask init client agvApi
[DEBUG]2021-05-08 14:57:45,760: used 22ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[DEBUG]2021-05-08 14:57:48,796: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-08 14:57:48,837: used 41ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-08 14:57:48,909: timer_thread[tid:11544] <locked _thread.RLock object owner=11544 count=1 at 0x00000274907835D0> ,hold 8192 ms
[INFO]2021-05-08 14:57:48,975: name=timer_thread, pid=11196, tid=11544
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:57:50,064: AGV04 low battery charge,batteryLevel= 0.352 start charge level= 0.400
[WARN]2021-05-08 14:57:50,094: AGV04 battery 0.352 check failed: no_idle_9.353
[DEBUG]2021-05-08 14:57:50,413: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:57:50,735: connect AGV01 failed timed out
[ERROR]2021-05-08 14:57:50,741: connect AGV03 failed timed out
[ERROR]2021-05-08 14:57:50,753: connect AGV02 failed timed out
[DEBUG]2021-05-08 14:57:50,789: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:57:50,819: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:57:50,849: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:57:57,801: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[DEBUG]2021-05-08 14:57:57,813: GET: http://172.16.217.178:8999/api/manual/tasklist addr: 172.16.217.105
[DEBUG]2021-05-08 14:57:57,824: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[INFO]2021-05-08 14:57:57,836: getseat
[DEBUG]2021-05-08 14:57:57,842: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[INFO]2021-05-08 14:57:57,866: gettasklist
[INFO]2021-05-08 14:57:57,896: getseat
[INFO]2021-05-08 14:57:57,993: getseat
[DEBUG]2021-05-08 14:57:58,059: used 217ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/manual/seat
[DEBUG]2021-05-08 14:57:58,319: GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F addr: 172.16.217.105
[DEBUG]2021-05-08 14:57:58,348: used 29ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F
[ERROR]2021-05-08 14:58:00,898: connect AGV01 failed timed out
[ERROR]2021-05-08 14:58:00,958: connect AGV03 failed timed out
[INFO]2021-05-08 14:58:00,958: AGV01 checkLink failed 172.16.217.209 19204
[ERROR]2021-05-08 14:58:00,988: connect AGV02 failed timed out
[INFO]2021-05-08 14:58:01,000: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:58:01,036: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 20306 ms
[INFO]2021-05-08 14:58:01,108: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 14:58:01,126: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 20388 ms
[INFO]2021-05-08 14:58:01,191: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:58:01,203: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 20458 ms
[INFO]2021-05-08 14:58:01,299: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:01,377: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:58:03,291: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:58:03,367: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:58:03,443: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:58:05,211: GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C addr: 172.16.217.105
[INFO]2021-05-08 14:58:05,246: Scada send a task to the server from 三楼夹具点A to 三楼夹具点C payloadId: None
[INFO]2021-05-08 14:58:05,295: create task[6096367d73dabd2bbc9b67af]: type= scadaTask , 从三楼夹具点A运送货架到三楼夹具点C {'source': '三楼夹具点A', 'target': '三楼夹具点C', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼夹具点A运送货架到三楼夹具点C', 'createTime': datetime.datetime(2021, 5, 8, 14, 58, 5, 276897), 'updateTime': datetime.datetime(2021, 5, 8, 14, 58, 5, 276897), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('6096367d73dabd2bbc9b67af')}
[INFO]2021-05-08 14:58:05,337: 三楼夹具点C 三楼夹具点A
[INFO]2021-05-08 14:58:05,445: task[6096367d73dabd2bbc9b67af][-] AP22(LM17) -> AP25(LM24) [waiting] is inside False
[INFO]2021-05-08 14:58:05,469: task cmd: got a task from scada task[6096367d73dabd2bbc9b67af][-] AP22(LM17) -> AP25(LM24) [waiting]
[DEBUG]2021-05-08 14:58:05,493: used 282ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C
[CRITICAL]2021-05-08 14:58:05,706: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-08 14:58:06,747: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[CRITICAL]2021-05-08 14:58:11,618: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=536
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 14:58:11,690: worker 2[tid:536] <locked _thread.RLock object owner=536 count=1 at 0x000002749075D850> ,hold 21211 ms
[INFO]2021-05-08 14:58:12,066: name=worker 2, pid=11196, tid=536
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:58:12,146: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=536
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:58:12,244: invoke <function urlReadDOList at 0x000002748F28FD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=536
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 14:58:13,376: connect AGV01 failed timed out
[INFO]2021-05-08 14:58:13,412: AGV01 checkLink failed 172.16.217.209 19204
[ERROR]2021-05-08 14:58:13,436: connect AGV03 failed timed out
[WARN]2021-05-08 14:58:13,441: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10150 ms
[ERROR]2021-05-08 14:58:13,489: connect AGV02 failed timed out
[INFO]2021-05-08 14:58:13,489: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 14:58:13,573: AGV02 checkLink failed 172.16.217.213 19204
[INFO]2021-05-08 14:58:13,579: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:58:13,612: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10245 ms
[WARN]2021-05-08 14:58:13,654: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10211 ms
[INFO]2021-05-08 14:58:13,869: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:13,916: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:58:15,710: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:58:15,954: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:58:16,033: try connect AGV03 172.16.217.121:19204
[CRITICAL]2021-05-08 14:58:21,836: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:58:22,869: init IO success
[DEBUG]2021-05-08 14:58:22,959: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:58:25,792: connect AGV01 failed timed out
[INFO]2021-05-08 14:58:25,846: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:58:25,894: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10184 ms
[INFO]2021-05-08 14:58:25,957: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:58:26,017: connect AGV02 failed timed out
[INFO]2021-05-08 14:58:26,048: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 14:58:26,067: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10113 ms
[ERROR]2021-05-08 14:58:26,093: connect AGV03 failed timed out
[INFO]2021-05-08 14:58:26,135: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:26,147: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:58:26,238: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10205 ms
[INFO]2021-05-08 14:58:26,318: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:58:27,983: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:58:28,217: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:58:28,360: try connect AGV03 172.16.217.121:19204
[CRITICAL]2021-05-08 14:58:32,563: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=10140
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 14:58:32,593: worker 3[tid:10140] <locked _thread.RLock object owner=10140 count=1 at 0x000002749075DA58> ,hold 25793 ms
[INFO]2021-05-08 14:58:32,707: name=worker 3, pid=11196, tid=10140
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:58:32,782: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=10140
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:58:32,916: invoke <function urlReadDOList at 0x000002748F28FD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=10140
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 14:58:38,086: connect AGV01 failed timed out
[CRITICAL]2021-05-08 14:58:38,092: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:58:38,103: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:58:38,138: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10155 ms
[INFO]2021-05-08 14:58:38,220: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:58:38,282: connect AGV02 failed timed out
[INFO]2021-05-08 14:58:38,324: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 14:58:38,366: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10149 ms
[ERROR]2021-05-08 14:58:38,420: connect AGV03 failed timed out
[INFO]2021-05-08 14:58:38,449: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:38,455: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:58:38,527: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10167 ms
[INFO]2021-05-08 14:58:38,599: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:58:39,180: clear alarm obj=upStation01, typeId=39998, id=609631bc697d98928ef139b0
[WARN]2021-05-08 14:58:39,258: clear alarm obj=downStation01, typeId=39998, id=609631bc697d98928ef139b2
[WARN]2021-05-08 14:58:39,360: clear alarm obj=AGV01, typeId=49999, id=60963268697d98928ef13b60
[WARN]2021-05-08 14:58:39,465: clear alarm obj=AGV03, typeId=49999, id=60963268697d98928ef13b63
[WARN]2021-05-08 14:58:39,547: clear alarm obj=AGV02, typeId=49999, id=60963268697d98928ef13b65
[DEBUG]2021-05-08 14:58:40,265: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:58:40,500: try connect AGV02 172.16.217.213:19204
[WARN]2021-05-08 14:58:40,653: AGV04 low battery charge,batteryLevel= 0.352 start charge level= 0.400
[DEBUG]2021-05-08 14:58:40,659: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 14:58:40,677: AGV04 battery 0.352 check success
[WARN]2021-05-08 14:58:40,863: AGV04 Can't find charge point at comba-ZXC-F3 battery: 0.352
[INFO]2021-05-08 14:58:40,893: task[6096367d73dabd2bbc9b67af]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 8, 14, 58, 40, 887389), 'updateTime': datetime.datetime(2021, 5, 8, 14, 58, 40, 887389), 'status': 'running'}
[INFO]2021-05-08 14:58:40,934: task: start task[6096367d73dabd2bbc9b67af][-] AP22(LM17) -> AP25(LM24) [waiting]
[INFO]2021-05-08 14:58:40,987: this is handle taskStep=============>waiting
[INFO]2021-05-08 14:58:41,029: task[6096367d73dabd2bbc9b67af] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 8, 14, 58, 41, 23025)}
[DEBUG]2021-05-08 14:58:41,058: task[6096367d73dabd2bbc9b67af][-] AP22(LM17) -> AP25(LM24) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-05-08 14:58:41,939: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 14:58:42,274: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-08 14:58:42,406: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=6096367d73dabd2bbc9b67af&timeout=10 addr: 127.0.0.1
[INFO]2021-05-08 14:58:42,436: agvControl中的_apply进去
[INFO]2021-05-08 14:58:42,460: [('comba-ZXC-F3.LM20', 'AGV04')]
[INFO]2021-05-08 14:58:43,141: apply AGV04 ,taskId: 6096367d73dabd2bbc9b67af ,loc comba-ZXC-F3.AP22 ,autoLock False , used 681 ms
[INFO]2021-05-08 14:58:43,159: AGV04
[INFO]2021-05-08 14:58:43,195: 5555555555555555555555555
[INFO]2021-05-08 14:58:43,237: 6666666666666666666666666
[INFO]2021-05-08 14:58:43,271: AGV04
[DEBUG]2021-05-08 14:58:43,301: used 895ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=6096367d73dabd2bbc9b67af&timeout=10
[INFO]2021-05-08 14:58:43,379: comba-ZXC-F3.AP22 comba-ZXC-F3.AP25
[INFO]2021-05-08 14:58:43,421: AGV04
[INFO]2021-05-08 14:58:43,457: 判断类型
[INFO]2021-05-08 14:58:43,486: 1111111111111111111111
[DEBUG]2021-05-08 14:58:43,589: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV04&appName=akmTask&taskId=6096367d73dabd2bbc9b67af addr: 127.0.0.1
[DEBUG]2021-05-08 14:58:43,635: lock:  AGV04 taskId 6096367d73dabd2bbc9b67af app akmTask
[WARN]2021-05-08 14:58:44,091: worker 7[tid:12660] <locked _thread.RLock object owner=12660 count=1 at 0x000002749075D850> ,hold 21048 ms
[INFO]2021-05-08 14:58:44,172: name=worker 7, pid=11196, tid=12660
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:58:44,277: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=12660
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:58:44,388: invoke <function urlReadDOList at 0x000002748F28FD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=12660
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 14:58:44,675: AGV04 clear task finish, cur= comba-ZXC-F3.LM20 task_status= 4
[INFO]2021-05-08 14:58:44,741: 22222222222222222222222
[INFO]2021-05-08 14:58:44,782: AGV04
[INFO]2021-05-08 14:58:44,818: task[6096367d73dabd2bbc9b67af][-] AP22(LM17) -> AP25(LM24) [waitForAgv] apply AGV04
[INFO]2021-05-08 14:58:44,866: task[6096367d73dabd2bbc9b67af] update info: {'agvId': 'AGV04', 'failMsg': '成功分配小车AGV04', 'updateTime': datetime.datetime(2021, 5, 8, 14, 58, 44, 842781)}
[DEBUG]2021-05-08 14:58:44,908: task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [initAGV] waitForAgv -> initAGV
[INFO]2021-05-08 14:58:45,291: this is handle taskStep=============>initAGV
[INFO]2021-05-08 14:58:45,369: task[6096367d73dabd2bbc9b67af] update info: {'failMsg': '前往三楼夹具点A工位点', 'updateTime': datetime.datetime(2021, 5, 8, 14, 58, 45, 351416)}
[DEBUG]2021-05-08 14:58:45,411: task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [startMoveAGV] initAGV -> startMoveAGV
[INFO]2021-05-08 14:58:45,789: this is handle taskStep=============>startMoveAGV
[DEBUG]2021-05-08 14:58:45,816: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6096367d73dabd2bbc9b67af_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-05-08 14:58:45,824: Begin: AGV04 move from comba-ZXC-F3.LM20 to comba-ZXC-F3.AP22 by paths: [('comba-ZXC-F3', ['LM20', 'LM21', 'LM17', 'AP18', 'AP22'], 5.46020559361961)] task: 6096367d73dabd2bbc9b67af_2 timeout 86400 used 6 ms
[DEBUG]2021-05-08 14:58:45,825: used 9ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6096367d73dabd2bbc9b67af_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[DEBUG]2021-05-08 14:58:45,827: task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload] startMoveAGV -> loadPlayload
[INFO]2021-05-08 14:58:46,130: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:58:46,355: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM21 ,taskId 6096367d73dabd2bbc9b67af_2
[INFO]2021-05-08 14:58:46,432: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:46,738: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:47,044: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:47,347: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:47,649: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:47,953: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:48,256: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:48,560: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:48,866: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:49,169: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:49,476: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:49,781: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:50,084: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:58:50,313: connect AGV01 failed timed out
[INFO]2021-05-08 14:58:50,315: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:58:50,315: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10050 ms
[INFO]2021-05-08 14:58:50,316: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:50,386: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:58:50,560: connect AGV02 failed timed out
[INFO]2021-05-08 14:58:50,561: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 14:58:50,562: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10062 ms
[INFO]2021-05-08 14:58:50,563: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:50,689: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:58:50,779: connect AGV03 failed timed out
[INFO]2021-05-08 14:58:50,780: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:58:50,781: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10122 ms
[INFO]2021-05-08 14:58:50,782: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:58:50,996: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:51,298: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:51,601: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:51,910: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:52,225: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:58:52,300: AGV04 turn to wait check cur LM20 next LM17 0.972 False
[DEBUG]2021-05-08 14:58:52,318: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:58:52,528: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:58:52,566: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:58:52,785: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:58:52,812: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM17 ,taskId 6096367d73dabd2bbc9b67af_2
[INFO]2021-05-08 14:58:52,831: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:53,134: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:53,438: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:58:53,523: AGV04 turn to wait check cur LM20 next AP18 0.677 False
[DEBUG]2021-05-08 14:58:53,619: AGV04 set loc comba-ZXC-F3.LM21 ,old LM20 (9.06,6.17)
[INFO]2021-05-08 14:58:53,741: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:58:54,029: agvInfo: AGV04 comba-ZXC-F3.LM21 move to comba-ZXC-F3.AP18 ,taskId 6096367d73dabd2bbc9b67af_2
[INFO]2021-05-08 14:58:54,050: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:54,352: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:54,656: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:54,958: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:55,265: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:55,569: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:55,871: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:56,178: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:56,486: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:56,793: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 14:58:57,027: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:58:57,098: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:57,401: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:57,703: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:58,009: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:58,032: remoteio is alarm: []
[INFO]2021-05-08 14:58:58,312: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:58,616: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:58,920: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:58:59,044: AGV04 low battery charge,batteryLevel= 0.352 start charge level= 0.400
[WARN]2021-05-08 14:58:59,046: AGV04 battery 0.352 check failed: isLocked
[DEBUG]2021-05-08 14:58:59,047: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 14:58:59,227: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:59,531: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:58:59,833: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:00,135: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:00,442: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:00,746: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:01,049: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:01,353: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:01,656: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:01,938: AGV04 set loc comba-ZXC-F3.LM17 ,old LM21 (9.19,5.81)
[INFO]2021-05-08 14:59:01,958: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:02,256: AGV04 choise next pos cur LM17 next AP22 pre AP18 1.918 False
[DEBUG]2021-05-08 14:59:02,257: AGV04 turn to wait check cur LM17 next AP22 1.918 False
[INFO]2021-05-08 14:59:02,261: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:59:02,319: connect AGV01 failed timed out
[INFO]2021-05-08 14:59:02,320: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:59:02,321: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10003 ms
[INFO]2021-05-08 14:59:02,327: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:59:02,562: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:59:02,571: connect AGV02 failed timed out
[INFO]2021-05-08 14:59:02,573: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 14:59:02,576: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10010 ms
[INFO]2021-05-08 14:59:02,580: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:59:02,764: agvInfo: AGV04 comba-ZXC-F3.LM17 move jackup to comba-ZXC-F3.AP22 ,taskId 6096367d73dabd2bbc9b67af_2
[INFO]2021-05-08 14:59:02,765: --------------------跳转到driver下的seerAgv下的agcCtrl.py中的goTargetAndDoWork函数中-----------------10---------
[INFO]2021-05-08 14:59:02,769: 1
[INFO]2021-05-08 14:59:02,770: {'id': 'AP22', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': False}
[INFO]2021-05-08 14:59:02,770: --------------------------准备进去driver中的seerAgv.py下的task函数-----------------（11）--------------
[ERROR]2021-05-08 14:59:02,786: connect AGV03 failed timed out
[INFO]2021-05-08 14:59:02,787: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:59:02,788: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10003 ms
[INFO]2021-05-08 14:59:02,789: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:59:02,871: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:03,181: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:03,488: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:03,792: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:04,094: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:04,329: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:59:04,397: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:04,583: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 14:59:04,701: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:04,791: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 14:59:05,004: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:59:05,261: worker 5[tid:884] <locked _thread.RLock object owner=884 count=1 at 0x000002749075D850> ,hold 23219 ms
[INFO]2021-05-08 14:59:05,263: name=worker 5, pid=11196, tid=884
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:59:05,271: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=884
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:59:05,277: invoke <function urlReadDOList at 0x000002748F28FD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=884
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 14:59:05,308: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:05,611: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:05,916: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:06,224: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:06,531: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:06,838: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:07,140: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:07,446: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:07,753: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:08,063: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:08,366: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:08,674: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:08,979: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:09,286: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:09,589: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:09,897: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:10,211: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:10,515: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:10,818: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:11,120: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:11,423: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:11,728: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:12,031: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:12,335: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:12,595: AGV04 set loc comba-ZXC-F3.AP18 ,old LM17 (7.74,5.74)
[INFO]2021-05-08 14:59:12,638: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:12,941: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:13,248: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:13,551: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:13,858: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 14:59:14,073: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:59:14,161: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:59:14,330: connect AGV01 failed timed out
[INFO]2021-05-08 14:59:14,331: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:59:14,332: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10003 ms
[INFO]2021-05-08 14:59:14,333: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:59:14,466: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:59:14,585: connect AGV02 failed timed out
[INFO]2021-05-08 14:59:14,589: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 14:59:14,592: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10009 ms
[INFO]2021-05-08 14:59:14,596: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:59:14,773: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:59:14,793: connect AGV03 failed timed out
[DEBUG]2021-05-08 14:59:14,795: AGV04 set loc comba-ZXC-F3.AP22 ,old AP18 (7.34,5.75)
[INFO]2021-05-08 14:59:14,797: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:59:14,798: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10007 ms
[INFO]2021-05-08 14:59:14,799: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:59:15,009: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 14:59:15,076: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:15,088: remoteio is alarm: []
[INFO]2021-05-08 14:59:15,384: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:59:15,512: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 14:59:15,687: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:15,994: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:59:16,017: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[WARN]2021-05-08 14:59:16,097: AGV04 low battery charge,batteryLevel= 0.352 start charge level= 0.400
[WARN]2021-05-08 14:59:16,098: AGV04 battery 0.352 check failed: isLocked
[DEBUG]2021-05-08 14:59:16,099: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 14:59:16,297: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:16,335: try connect AGV01 172.16.217.209:19204
[WARN]2021-05-08 14:59:16,520: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 14:59:16,604: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:59:16,604: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:59:16,802: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 14:59:16,907: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:17,215: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:17,522: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:17,825: this is handle taskStep=============>loadPlayload
[SUCC]2021-05-08 14:59:18,023: Finish:  AGV04 arrived comba-ZXC-F3.AP22 ,task: 6096367d73dabd2bbc9b67af_2
[INFO]2021-05-08 14:59:18,130: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:59:18,279: task: move finish callback task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload]
[INFO]2021-05-08 14:59:18,280: task[6096367d73dabd2bbc9b67af] update info: {'failMsg': 'AGV二层出料', 'updateTime': datetime.datetime(2021, 5, 8, 14, 59, 18, 279106)}
[INFO]2021-05-08 14:59:18,432: this is handle taskStep=============>loadPlayload_readqr
[DEBUG]2021-05-08 14:59:18,433: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 14:59:18,445: GET: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-05-08 14:59:18,446: AGV04 rollerRobotUnLoad unitId: 2
[DEBUG]2021-05-08 14:59:18,496: used 51ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 14:59:18,500: [return] use 67 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2
[CRITICAL]2021-05-08 14:59:18,508: taskFunc2:task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [checkTwoLayerGoing] cause a error: not all arguments converted during string formatting
pid=11196, ppid=2040, tid=11916
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 916, in _taskFunc
    elif not self.handle():
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 673, in handle
    taskMgr.update(self.taskId, failMsg="二层滚筒出料" % self.target)
TypeError: not all arguments converted during string formatting

[WARN]2021-05-08 14:59:18,513: task[6096367d73dabd2bbc9b67af]:  error {'failMsg': 'not all arguments converted during string formatting', 'endTime': datetime.datetime(2021, 5, 8, 14, 59, 18, 512494), 'status': 'error'}
[INFO]2021-05-08 14:59:18,514: task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [checkTwoLayerGoing] AGV04 release task, release agv False False False
[INFO]2021-05-08 14:59:18,514: task: stop task[6096367d73dabd2bbc9b67af][AGV04] AP22(LM17) -> AP25(LM24) [checkTwoLayerGoing]
[WARN]2021-05-08 14:59:26,281: worker 3[tid:10140] <locked _thread.RLock object owner=10140 count=1 at 0x000002749075D850> ,hold 27222 ms
[ERROR]2021-05-08 14:59:26,341: connect AGV01 failed timed out
[INFO]2021-05-08 14:59:26,383: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-05-08 14:59:26,413: name=worker 3, pid=11196, tid=10140
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:59:26,443: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10108 ms
[CRITICAL]2021-05-08 14:59:26,542: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=10140
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 14:59:26,590: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:59:26,611: connect AGV02 failed timed out
[CRITICAL]2021-05-08 14:59:26,647: invoke <function urlReadDOList at 0x000002748F28FD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=10140
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 14:59:26,683: AGV02 checkLink failed 172.16.217.213 19204
[ERROR]2021-05-08 14:59:26,803: connect AGV03 failed timed out
[WARN]2021-05-08 14:59:26,815: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10211 ms
[INFO]2021-05-08 14:59:26,893: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:59:26,976: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10174 ms
[INFO]2021-05-08 14:59:26,982: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:59:27,138: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:59:28,652: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:59:29,123: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:59:29,182: try connect AGV03 172.16.217.121:19204
[CRITICAL]2021-05-08 14:59:31,164: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:59:32,237: remoteio is alarm: []
[WARN]2021-05-08 14:59:33,326: AGV04 low battery charge,batteryLevel= 0.352 start charge level= 0.400
[WARN]2021-05-08 14:59:33,360: AGV04 battery 0.352 check failed: isLocked
[DEBUG]2021-05-08 14:59:33,388: task: delete task 6096367d73dabd2bbc9b67af
[DEBUG]2021-05-08 14:59:33,410: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:59:38,709: connect AGV01 failed timed out
[INFO]2021-05-08 14:59:38,769: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:59:38,811: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10159 ms
[INFO]2021-05-08 14:59:38,876: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:59:39,205: connect AGV02 failed timed out
[ERROR]2021-05-08 14:59:39,241: connect AGV03 failed timed out
[INFO]2021-05-08 14:59:39,265: AGV02 checkLink failed 172.16.217.213 19204
[INFO]2021-05-08 14:59:39,313: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:59:39,337: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10214 ms
[WARN]2021-05-08 14:59:39,391: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10209 ms
[INFO]2021-05-08 14:59:39,469: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:59:39,511: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:59:40,919: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:59:41,508: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:59:41,550: try connect AGV03 172.16.217.121:19204
[WARN]2021-05-08 14:59:47,545: worker 1[tid:4300] <locked _thread.RLock object owner=4300 count=1 at 0x000002749075D850> ,hold 31433 ms
[INFO]2021-05-08 14:59:47,659: name=worker 1, pid=11196, tid=4300
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:59:47,746: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=4300
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:59:47,898: invoke <function urlReadDOList at 0x000002748F28FD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=11196, ppid=2040, tid=4300
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:59:48,521: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=11196, ppid=2040, tid=11544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:59:49,610: remoteio is alarm: []
[ERROR]2021-05-08 14:59:49,652: raise alarm obj=upStation01, typeId=39998, desc=远程控制IO离线异常, id=609636e5697d98928ef13e6f
[ERROR]2021-05-08 14:59:49,699: raise alarm obj=downStation01, typeId=39998, desc=远程控制IO离线异常, id=609636e5697d98928ef13e71
[WARN]2021-05-08 14:59:50,793: AGV04 low battery charge,batteryLevel= 0.352 start charge level= 0.400
[WARN]2021-05-08 14:59:50,823: AGV04 battery 0.352 check failed: isLocked
[DEBUG]2021-05-08 14:59:50,847: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:59:50,967: connect AGV01 failed timed out
[INFO]2021-05-08 14:59:51,015: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:59:51,039: agvThread.AGV01[tid:7632] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000027491D1D990>> ,hold 10120 ms
[INFO]2021-05-08 14:59:51,117: name=agvThread.AGV01, pid=11196, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:59:51,570: connect AGV02 failed timed out
[INFO]2021-05-08 14:59:51,636: AGV02 checkLink failed 172.16.217.213 19204
[ERROR]2021-05-08 14:59:51,679: connect AGV03 failed timed out
[WARN]2021-05-08 14:59:51,685: agvThread.AGV02[tid:12644] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=12644 count=1 at 0x0000027491D1D418>> ,hold 10177 ms
[INFO]2021-05-08 14:59:51,721: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 14:59:51,783: name=agvThread.AGV02, pid=11196, tid=12644
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:59:51,797: agvThread.AGV03[tid:10832] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=10832 count=1 at 0x0000027491D1DBE8>> ,hold 10247 ms
[INFO]2021-05-08 14:59:51,950: name=agvThread.AGV03, pid=11196, tid=10832
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:59:53,158: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:59:53,862: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 14:59:54,022: try connect AGV03 172.16.217.121:19204
