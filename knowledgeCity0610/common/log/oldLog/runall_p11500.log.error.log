[CRITICAL]2021-05-11 11:01:25,692: agvApi send task, agvId=AGV01 cause a error: [WinError 10054] 远程主机强迫关闭了一个现有的连接。
pid=11500, ppid=2640, tid=15176
Traceback (most recent call last):
  File "..\driver\seerAgv\agvApi.py", line 202, in task
    ret = _handle(agvId, API_PORT_TASK, type, data)
  File "..\driver\seerAgv\agvApi.py", line 251, in _handle
    result = _request(agvId, port, typeId, data)
  File "..\driver\seerAgv\agvApi.py", line 288, in _request
    result = sendCmd(agvId, buf, ip, port, type)
  File "..\driver\seerAgv\agvApi.py", line 296, in sendCmd
    _send(agvId,ip, port, buf.buf)
  File "..\driver\seerAgv\agvApi.py", line 380, in _send
    return tcpSocketLong.send(agvId,ip, port, buf)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\tcpSocketLong.py", line 136, in send
    raise e
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\tcpSocketLong.py", line 131, in send
    c.send(sendData)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\tcpSocketLong.py", line 82, in send
    self._socket.send(sendData)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

[CRITICAL]2021-05-11 11:02:01,400: task [AGV01] [6099f37073dabd2cec40b237] rollerFrontLoad failed cause a error: 'ret_code'
pid=11500, ppid=2640, tid=16396
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 1612, in rollerFrontLoad
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[CRITICAL]2021-05-11 11:06:34,378: task [AGV01] [6099f4ab73dabd2cec40b23b] rollerFrontLoad failed cause a error: 'ret_code'
pid=11500, ppid=2640, tid=17760
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 1612, in rollerFrontLoad
    if ret["ret_code"] == 0:
KeyError: 'ret_code'

[CRITICAL]2021-05-11 11:06:52,932: agvApi send task, agvId=AGV01 cause a error: [WinError 10054] 远程主机强迫关闭了一个现有的连接。
pid=11500, ppid=2640, tid=15176
Traceback (most recent call last):
  File "..\driver\seerAgv\agvApi.py", line 202, in task
    ret = _handle(agvId, API_PORT_TASK, type, data)
  File "..\driver\seerAgv\agvApi.py", line 251, in _handle
    result = _request(agvId, port, typeId, data)
  File "..\driver\seerAgv\agvApi.py", line 288, in _request
    result = sendCmd(agvId, buf, ip, port, type)
  File "..\driver\seerAgv\agvApi.py", line 296, in sendCmd
    _send(agvId,ip, port, buf.buf)
  File "..\driver\seerAgv\agvApi.py", line 380, in _send
    return tcpSocketLong.send(agvId,ip, port, buf)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\tcpSocketLong.py", line 136, in send
    raise e
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\tcpSocketLong.py", line 131, in send
    c.send(sendData)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\tcpSocketLong.py", line 82, in send
    self._socket.send(sendData)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

[CRITICAL]2021-05-11 11:06:53,504: readDIList error cause a error: Expecting value: line 1 column 1 (char 0)
pid=11500, ppid=2640, tid=15520
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 79, in _monitorDevices
    s2 = ioApi.readDOList(devices[d]["io2"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 17, in http_get
    result = json.load(r)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\json_codec.py", line 229, in load
    r = json.loads(text)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\json\__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

[CRITICAL]2021-05-11 11:11:53,836: invoke <function urlGoHome at 0x000001EE03F91620> cause a error: 小车任务未结束2，调用goHome失败,agvId=AGV02
pid=11500, ppid=2640, tid=17140
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\main_agv.py", line 99, in urlGoHome
    agvControl.goHome(agvId=agvId,force=force,timeout=timeout)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvControl.py", line 1318, in goHome
    raise Exception("小车任务未结束2，调用goHome失败,agvId="+agv.agvId)
Exception: 小车任务未结束2，调用goHome失败,agvId=AGV02

[CRITICAL]2021-05-11 11:11:53,846: task[6099f39873dabd2cec40b238][AGV02] AP142(LM120) -> AP101(LM145) [loadPlayload]task release cause a error: Exception: 小车任务未结束2，调用goHome失败,agvId=AGV02
pid=11500, ppid=2640, tid=16652
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 959, in _release
    agvApi.goHome(self.agvId, force=False, timeout=60 * 60 * 3)
  File "..\agvCtrl\agvApi.py", line 134, in goHome
    _http_get(url + '/api/agv/goHome', param)
  File "..\agvCtrl\agvApi.py", line 64, in _http_get
    raise Exception(result["errormsg"])
Exception: Exception: 小车任务未结束2，调用goHome失败,agvId=AGV02

