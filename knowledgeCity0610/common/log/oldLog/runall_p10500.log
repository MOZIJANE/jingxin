[INFO]2021-05-11 13:00:03,821: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-11 13:00:03,822: find module agvCtrl.main_agv
[INFO]2021-05-11 13:00:03,822: find module agvDevice.main_agvDevice
[INFO]2021-05-11 13:00:03,822: find module alarm.main_alarm
[INFO]2021-05-11 13:00:03,822: find module auth.main_auth
[INFO]2021-05-11 13:00:03,823: find module autoCtrl.main_akmCtrl
[INFO]2021-05-11 13:00:03,823: find module door.main_door
[INFO]2021-05-11 13:00:03,823: find module elevator.main_elevator
[INFO]2021-05-11 13:00:03,824: find module feed.main_feed
[INFO]2021-05-11 13:00:03,830: find module remoteio.main_remoteio
[INFO]2021-05-11 13:00:03,831: import agvCtrl.main_agv
[INFO]2021-05-11 13:00:04,075: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB1267B0>>
[INFO]2021-05-11 13:00:04,077: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB126918>>
[INFO]2021-05-11 13:00:04,129: create lock <lock name:timer.lock_1691600005552,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB36F440>>
[ERROR]2021-05-11 13:00:04,138: mqtt is disabled
[INFO]2021-05-11 13:00:04,138: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-11 13:00:04,139: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-11 13:00:07,160: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-11 13:00:07,190: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB538B48>>
[INFO]2021-05-11 13:00:07,190: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB538788>>
[INFO]2021-05-11 13:00:07,194: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB538300>>
[INFO]2021-05-11 13:00:07,203: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB641760>>
[INFO]2021-05-11 13:00:07,380: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189D98FC198>>
[INFO]2021-05-11 13:00:07,622: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB6FDE40>>
[INFO]2021-05-11 13:00:07,625: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB736F58>>
[INFO]2021-05-11 13:00:07,672: charge policy 0 , fix time
[INFO]2021-05-11 13:00:07,700: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DB7E01C0>>
[INFO]2021-05-11 13:00:08,171: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-11 13:00:08,253: elevator thread start
[INFO]2021-05-11 13:00:08,268: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 104 ms
[INFO]2021-05-11 13:00:08,277: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-11 13:00:08,427: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 158 ms
[INFO]2021-05-11 13:00:08,436: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-11 13:00:08,523: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 95 ms
[INFO]2021-05-11 13:00:08,531: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-11 13:00:08,584: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 60 ms
[INFO]2021-05-11 13:00:08,594: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-11 13:00:08,629: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 44 ms
[INFO]2021-05-11 13:00:08,633: import agvDevice.main_agvDevice
[INFO]2021-05-11 13:00:08,634: import alarm.main_alarm
[INFO]2021-05-11 13:00:08,634: import auth.main_auth
[INFO]2021-05-11 13:00:08,644: import autoCtrl.main_akmCtrl
[INFO]2021-05-11 13:00:08,653: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DBBFB300>>
[INFO]2021-05-11 13:00:08,663: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DBBC96C0>>
[INFO]2021-05-11 13:00:08,688: 一楼仓库上料B 一楼仓库上料A
[INFO]2021-05-11 13:00:08,694: load task: *task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv]
[INFO]2021-05-11 13:00:08,695: 一楼仓库上料B 一楼仓库上料A
[INFO]2021-05-11 13:00:08,708: load task: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup]
[INFO]2021-05-11 13:00:08,711: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DBBC9198>>
[INFO]2021-05-11 13:00:08,713: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DBC9B170>>
[INFO]2021-05-11 13:00:09,291: import door.main_door
[INFO]2021-05-11 13:00:09,294: import elevator.main_elevator
[INFO]2021-05-11 13:00:09,295: import feed.main_feed
[INFO]2021-05-11 13:00:09,302: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DC6428C8>>
[INFO]2021-05-11 13:00:09,342: import remoteio.main_remoteio
[SUCC]2021-05-11 13:00:09,361: utility start, pid=10500, ppid=15656
[DEBUG]2021-05-11 13:00:09,362: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-11 13:00:09,363: start timer
[DEBUG]2021-05-11 13:00:09,364: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-11 13:00:09,375: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-11 13:00:09,376: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5E8F0>>
[DEBUG]2021-05-11 13:00:09,378: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-11 13:00:09,379: AGV01 start agvList run thread
[INFO]2021-05-11 13:00:09,379: AGV01 start agvList run2 thread
[INFO]2021-05-11 13:00:09,381: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5ECB0>>
[INFO]2021-05-11 13:00:09,382: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5EC10>>
[DEBUG]2021-05-11 13:00:09,383: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-11 13:00:09,386: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-11 13:00:09,387: AGV03 start agvList run thread
[INFO]2021-05-11 13:00:09,389: AGV03 start agvList run2 thread
[INFO]2021-05-11 13:00:09,391: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5EEE0>>
[INFO]2021-05-11 13:00:09,393: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5EF80>>
[INFO]2021-05-11 13:00:09,394: AGV01 connected 172.16.217.209 19204
[DEBUG]2021-05-11 13:00:09,396: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-11 13:00:09,397: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-11 13:00:09,397: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5ED00>>
[INFO]2021-05-11 13:00:09,398: AGV04 start agvList run thread
[DEBUG]2021-05-11 13:00:09,398: try connect AGV01 172.16.217.209:19205
[INFO]2021-05-11 13:00:09,398: AGV04 start agvList run2 thread
[INFO]2021-05-11 13:00:09,398: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA72E1C0>>
[INFO]2021-05-11 13:00:09,399: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA72E238>>
[DEBUG]2021-05-11 13:00:09,402: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-11 13:00:09,403: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-05-11 13:00:09,405: AGV02 start agvList run thread
[INFO]2021-05-11 13:00:09,405: AGV02 start agvList run2 thread
[WARN]2021-05-11 13:00:09,405: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 10500
[INFO]2021-05-11 13:00:09,406: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5E8A0>>
[INFO]2021-05-11 13:00:09,407: add_ignore: taskStatus
[DEBUG]2021-05-11 13:00:09,408: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-11 13:00:09,414: AGV01 connected 172.16.217.209 19205
[INFO]2021-05-11 13:00:09,415: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA72E1E8>>
[DEBUG]2021-05-11 13:00:09,416: try connect AGV01 172.16.217.209:19206
[INFO]2021-05-11 13:00:09,423: AGV02 connected 172.16.217.213 19204
[INFO]2021-05-11 13:00:09,424: create lock <lock name:agv.AGV02.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DCC5E9B8>>
[DEBUG]2021-05-11 13:00:09,425: try connect AGV02 172.16.217.213:19205
[INFO]2021-05-11 13:00:09,430: AGV01 connected 172.16.217.209 19206
[INFO]2021-05-11 13:00:09,431: AGV02 connected 172.16.217.213 19205
[INFO]2021-05-11 13:00:09,433: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA756030>>
[INFO]2021-05-11 13:00:09,434: create lock <lock name:agv.AGV02.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA7560F8>>
[DEBUG]2021-05-11 13:00:09,434: try connect AGV01 172.16.217.209:19207
[DEBUG]2021-05-11 13:00:09,435: try connect AGV02 172.16.217.213:19206
[INFO]2021-05-11 13:00:09,452: AGV01 connected 172.16.217.209 19207
[INFO]2021-05-11 13:00:09,453: AGV02 connected 172.16.217.213 19206
[INFO]2021-05-11 13:00:09,454: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA756058>>
[INFO]2021-05-11 13:00:09,455: create lock <lock name:agv.AGV02.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA756080>>
[DEBUG]2021-05-11 13:00:09,455: try connect AGV01 172.16.217.209:19208
[DEBUG]2021-05-11 13:00:09,456: try connect AGV02 172.16.217.213:19207
[INFO]2021-05-11 13:00:09,469: AGV01 connected 172.16.217.209 19208
[INFO]2021-05-11 13:00:09,470: AGV02 connected 172.16.217.213 19207
[INFO]2021-05-11 13:00:09,472: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA756120>>
[INFO]2021-05-11 13:00:09,473: create lock <lock name:agv.AGV02.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA7561C0>>
[DEBUG]2021-05-11 13:00:09,474: try connect AGV01 172.16.217.209:19210
[DEBUG]2021-05-11 13:00:09,474: try connect AGV02 172.16.217.213:19208
[INFO]2021-05-11 13:00:09,490: AGV02 connected 172.16.217.213 19208
[INFO]2021-05-11 13:00:09,492: create lock <lock name:agv.AGV02.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000189DA756148>>
[DEBUG]2021-05-11 13:00:09,493: try connect AGV02 172.16.217.213:19210
[INFO]2021-05-11 13:00:09,496: AGV01 connected 172.16.217.209 19210
[INFO]2021-05-11 13:00:09,502: AGV02 connected 172.16.217.213 19210
[INFO]2021-05-11 13:00:09,520: AGV01 current map comba-ZXC-F3
[INFO]2021-05-11 13:00:09,522: AGV02 current map comba-ZSC-F1-F3
[INFO]2021-05-11 13:00:09,555: AGV02 is online
[ERROR]2021-05-11 13:00:09,561: raise alarm obj=AGV02, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7224
[INFO]2021-05-11 13:00:09,618: AGV01 is online
[DEBUG]2021-05-11 13:00:14,382: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-11 13:00:14,384: akmTask init client agvApi
[DEBUG]2021-05-11 13:00:14,386: used 4ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[INFO]2021-05-11 13:00:14,389: task: start *task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv]
[INFO]2021-05-11 13:00:14,390: task: start *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup]
[INFO]2021-05-11 13:00:14,390: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-11 13:00:14,419: GET: http://127.0.0.1:8999/api/agv/isAvailable?agv=AGV02&appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:14,464: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP142&mapId=comba-ZSC-F1-F3&taskId=609a0d5573dabd440805b0ef&timeout=10 addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:14,464: used 0ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/isAvailable?agv=AGV02&appName=akmTask
[INFO]2021-05-11 13:00:14,527: agvControl中的_apply进去
[INFO]2021-05-11 13:00:14,586: [('comba-ZSC-F1-F3.LM121', 'AGV02')]
[DEBUG]2021-05-11 13:00:14,682: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV02&appName=akmTask&taskId=609a022473dabd455cf7253e addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:14,705: lock:  AGV02 taskId 609a022473dabd455cf7253e app akmTask
[INFO]2021-05-11 13:00:15,608: apply AGV02 ,taskId: 609a0d5573dabd440805b0ef ,loc comba-ZSC-F1-F3.AP142 ,autoLock False , used 1022 ms
[INFO]2021-05-11 13:00:15,619: AGV02
[INFO]2021-05-11 13:00:15,643: 5555555555555555555555555
[INFO]2021-05-11 13:00:15,689: 6666666666666666666666666
[INFO]2021-05-11 13:00:15,726: AGV02
[WARN]2021-05-11 13:00:15,743: AGV02 clear task finish, cur= comba-ZSC-F1-F3.LM121 task_status= 4
[DEBUG]2021-05-11 13:00:15,743: used 1061ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP142&mapId=comba-ZSC-F1-F3&taskId=609a0d5573dabd440805b0ef&timeout=10
[INFO]2021-05-11 13:00:15,789: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] recover lock AGV02
[INFO]2021-05-11 13:00:15,829: comba-ZSC-F1-F3.AP142 comba-ZSC-F1-F3.AP143
[INFO]2021-05-11 13:00:15,863: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:15,910: AGV02
[INFO]2021-05-11 13:00:15,960: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:16,013: 判断类型
[INFO]2021-05-11 13:00:16,043: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[INFO]2021-05-11 13:00:16,072: 1111111111111111111111
[DEBUG]2021-05-11 13:00:16,132: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:16,201: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV02&appName=akmTask&taskId=609a0d5573dabd440805b0ef addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:16,278: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:16,337: invoke <function urlLock at 0x00000189DBA2EE18> cause a error: ('AGV02上锁失败,taskId:', '609a0d5573dabd440805b0ef, occupy task:609a022473dabd455cf7253e')
pid=10500, ppid=15656, tid=15212
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\main_agv.py", line 75, in urlLock
    agvControl.lock(agvId=agvId,taskId=webutility.get_param('taskId'),appName=webutility.get_param('appName'),force=force)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvControl.py", line 1153, in lock
    agv.lock(taskId,appName,force)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\agvList.py", line 486, in lock
    raise Exception(self.agvId + "上锁失败"+",taskId:",taskId + ", occupy task:"+str(self.lockTaskId))
Exception: ('AGV02上锁失败,taskId:', '609a0d5573dabd440805b0ef, occupy task:609a022473dabd455cf7253e')

[CRITICAL]2021-05-11 13:00:16,359: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=15184
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:16,403: used 125ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV02&appName=akmTask&taskId=609a0d5573dabd440805b0ef
[DEBUG]2021-05-11 13:00:16,530: [return] use 398 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[WARN]2021-05-11 13:00:16,594: [*task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv]] apply agv failed: Exception: ('AGV02上锁失败,taskId:', '609a0d5573dabd440805b0ef, occupy task:609a022473dabd455cf7253e')
[CRITICAL]2021-05-11 13:00:16,760: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[INFO]2021-05-11 13:00:16,845: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[DEBUG]2021-05-11 13:00:17,463: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:17,493: used 30ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-11 13:00:17,551: timer_thread[tid:17432] <locked _thread.RLock object owner=17432 count=1 at 0x00000189DBBC9698> ,hold 8183 ms
[INFO]2021-05-11 13:00:17,666: name=timer_thread, pid=10500, tid=17432
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-11 13:00:18,890: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:18,925: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:18,987: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[DEBUG]2021-05-11 13:00:19,040: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:19,138: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:19,179: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:19,265: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=17340
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:19,312: used 82ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:19,349: [return] use 211 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:19,355: [return] use 315 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:19,391: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[ERROR]2021-05-11 13:00:19,397: connect AGV03 failed timed out
[ERROR]2021-05-11 13:00:19,408: connect AGV04 failed timed out
[CRITICAL]2021-05-11 13:00:19,441: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:19,512: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-11 13:00:19,569: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-11 13:00:19,681: [return] use 290 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:19,686: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[INFO]2021-05-11 13:00:19,827: init IO success
[DEBUG]2021-05-11 13:00:19,893: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:20,056: [return] use 163 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:20,085: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 13:00:20,274: [return] use 189 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:20,321: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 0, 0, 0, 0]
[INFO]2021-05-11 13:00:21,402: remoteio is alarm: []
[WARN]2021-05-11 13:00:21,652: scada.609a0d5573dabd440805b0ef[tid:16856] <locked _thread.RLock object owner=16856 count=1 at 0x00000189DBC42F80> ,hold 7262 ms
[INFO]2021-05-11 13:00:21,740: name=scada.609a0d5573dabd440805b0ef, pid=10500, tid=16856
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 921, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-11 13:00:21,762: *task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv] waitForAgv error
[INFO]2021-05-11 13:00:21,883: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:21,930: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:21,970: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[DEBUG]2021-05-11 13:00:22,035: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:22,145: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:22,190: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=17824
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:22,247: used 102ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:22,369: [return] use 334 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[CRITICAL]2021-05-11 13:00:22,481: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:22,499: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 13:00:22,549: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[DEBUG]2021-05-11 13:00:22,768: [return] use 269 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:22,804: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 13:00:22,996: [return] use 192 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:23,038: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 0, 0, 0, 0]
[INFO]2021-05-11 13:00:23,783: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-11 13:00:23,866: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP142&mapId=comba-ZSC-F1-F3&taskId=609a0d5573dabd440805b0ef&timeout=10 addr: 127.0.0.1
[INFO]2021-05-11 13:00:23,900: agvControl中的_apply进去
[INFO]2021-05-11 13:00:23,964: []
[ERROR]2021-05-11 13:00:24,039: apply agv failed!  AGV02[locked[609a022473dabd455cf7253e]] taskId 609a0d5573dabd440805b0ef loc comba-ZSC-F1-F3.AP142
[CRITICAL]2021-05-11 13:00:24,094: apply agv failed, count=0 cause a error: comba-ZSC-F1-F3.AP142找不到可用的小车
pid=10500, ppid=15656, tid=15212

[INFO]2021-05-11 13:00:24,141: agvControl中的_apply进去
[INFO]2021-05-11 13:00:24,170: []
[ERROR]2021-05-11 13:00:24,192: apply agv failed!  AGV02[locked[609a022473dabd455cf7253e]] taskId 609a0d5573dabd440805b0ef loc comba-ZSC-F1-F3.AP142
[CRITICAL]2021-05-11 13:00:24,218: apply agv failed, count=1 cause a error: comba-ZSC-F1-F3.AP142找不到可用的小车
pid=10500, ppid=15656, tid=15212

[INFO]2021-05-11 13:00:24,280: agvControl中的_apply进去
[INFO]2021-05-11 13:00:24,315: []
[ERROR]2021-05-11 13:00:24,354: apply agv failed!  AGV02[locked[609a022473dabd455cf7253e]] taskId 609a0d5573dabd440805b0ef loc comba-ZSC-F1-F3.AP142
[CRITICAL]2021-05-11 13:00:24,386: apply agv failed, count=2 cause a error: comba-ZSC-F1-F3.AP142找不到可用的小车
pid=10500, ppid=15656, tid=15212

[INFO]2021-05-11 13:00:24,438: agvControl中的_apply进去
[INFO]2021-05-11 13:00:24,562: []
[ERROR]2021-05-11 13:00:24,597: apply agv failed!  AGV02[locked[609a022473dabd455cf7253e]] taskId 609a0d5573dabd440805b0ef loc comba-ZSC-F1-F3.AP142
[CRITICAL]2021-05-11 13:00:24,625: apply agv failed, count=3 cause a error: comba-ZSC-F1-F3.AP142找不到可用的小车
pid=10500, ppid=15656, tid=15212

[INFO]2021-05-11 13:00:24,660: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:24,665: agvControl中的_apply进去
[INFO]2021-05-11 13:00:24,701: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:24,736: []
[INFO]2021-05-11 13:00:24,760: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[ERROR]2021-05-11 13:00:24,799: apply agv failed!  AGV02[locked[609a022473dabd455cf7253e]] taskId 609a0d5573dabd440805b0ef loc comba-ZSC-F1-F3.AP142
[DEBUG]2021-05-11 13:00:24,876: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[CRITICAL]2021-05-11 13:00:24,907: apply agv failed, count=4 cause a error: comba-ZSC-F1-F3.AP142找不到可用的小车
pid=10500, ppid=15656, tid=15212

[DEBUG]2021-05-11 13:00:25,029: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:25,038: apply failed, count=1 cause a error: ('apply agv failed3!', 'taskId', '609a0d5573dabd440805b0ef', 'loc', 'AP142')
pid=10500, ppid=15656, tid=15212

[CRITICAL]2021-05-11 13:00:25,088: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=16164
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:25,167: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:25,283: used 254ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:25,488: [return] use 612 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[CRITICAL]2021-05-11 13:00:25,550: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:25,556: [return] use 389 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 13:00:25,591: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[DEBUG]2021-05-11 13:00:25,621: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 13:00:25,777: [return] use 156 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:25,794: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 0, 0, 0, 0]
[INFO]2021-05-11 13:00:27,666: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:27,690: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:27,712: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[DEBUG]2021-05-11 13:00:27,741: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:27,825: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:27,842: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[CRITICAL]2021-05-11 13:00:27,870: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=17668
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:27,931: used 106ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:27,989: [return] use 248 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:27,994: [return] use 152 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[CRITICAL]2021-05-11 13:00:28,039: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:28,068: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:28,120: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[ERROR]2021-05-11 13:00:28,207: apply agv timeout
[DEBUG]2021-05-11 13:00:28,275: used 51ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP142&mapId=comba-ZSC-F1-F3&taskId=609a0d5573dabd440805b0ef&timeout=10
[DEBUG]2021-05-11 13:00:28,341: [return] use 273 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[WARN]2021-05-11 13:00:28,341: [*task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv]] apply agv failed:
[INFO]2021-05-11 13:00:28,369: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 0, 0, 0, 0]
[ERROR]2021-05-11 13:00:29,768: connect AGV03 failed timed out
[INFO]2021-05-11 13:00:29,810: AGV03 checkLink failed 172.16.217.121 19204
[ERROR]2021-05-11 13:00:29,839: connect AGV04 failed timed out
[WARN]2021-05-11 13:00:29,862: agvThread.AGV03[tid:5044] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=5044 count=1 at 0x00000189DCC5EF80>> ,hold 20466 ms
[INFO]2021-05-11 13:00:29,886: AGV04 checkLink failed 172.16.217.211 19204
[WARN]2021-05-11 13:00:29,965: agvThread.AGV04[tid:16788] <lock name:agv.AGV04.lock_status,<locked _thread.RLock object owner=16788 count=1 at 0x00000189DA72E238>> ,hold 20564 ms
[INFO]2021-05-11 13:00:30,011: name=agvThread.AGV03, pid=10500, tid=5044
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-11 13:00:30,040: name=agvThread.AGV04, pid=10500, tid=16788
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-11 13:00:30,213: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:30,242: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:30,292: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[DEBUG]2021-05-11 13:00:30,328: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:30,436: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:30,530: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=17824
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:30,555: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-11 13:00:30,561: used 125ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:30,610: [return] use 282 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[CRITICAL]2021-05-11 13:00:30,709: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:30,716: [return] use 161 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 13:00:30,753: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[DEBUG]2021-05-11 13:00:30,801: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-11 13:00:31,101: [return] use 300 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:31,118: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 0, 0, 0, 0]
[DEBUG]2021-05-11 13:00:32,047: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-11 13:00:32,084: try connect AGV04 172.16.217.211:19204
[INFO]2021-05-11 13:00:32,226: remoteio is alarm: []
[INFO]2021-05-11 13:00:32,822: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:32,862: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:32,920: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[DEBUG]2021-05-11 13:00:32,949: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:33,009: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:33,050: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=16164
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[DEBUG]2021-05-11 13:00:33,104: used 95ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:33,198: [return] use 249 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:33,260: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[CRITICAL]2021-05-11 13:00:33,266: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[INFO]2021-05-11 13:00:33,370: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] loadPlayload_jackup error
[WARN]2021-05-11 13:00:33,434: scada.609a0d5573dabd440805b0ef[tid:16856] <locked _thread.RLock object owner=16856 count=1 at 0x00000189DBC42F80> ,hold 9651 ms
[DEBUG]2021-05-11 13:00:33,439: [return] use 179 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-11 13:00:33,510: name=scada.609a0d5573dabd440805b0ef, pid=10500, tid=16856
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 921, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-11 13:00:33,528: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:33,599: *task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv] waitForAgv error
[DEBUG]2021-05-11 13:00:33,754: [return] use 226 ms,http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-11 13:00:33,781: AAS产线 upStation01 [0, 0, 0, 0, 1, 0, 0, 0] downStation01 [1, 0, 0, 0, 0, 0, 0, 0]
[INFO]2021-05-11 13:00:35,388: this is handle taskStep=============>loadPlayload_jackup
[INFO]2021-05-11 13:00:35,424: 运行jackup__________________________________________________________________________________________
[INFO]2021-05-11 13:00:35,458: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] _jackUp
[DEBUG]2021-05-11 13:00:35,476: send http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:35,586: GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-05-11 13:00:35,649: invoke <function urlJackup at 0x00000189DB7756A8> cause a error: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=17668
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvDevice\main_agvDevice.py", line 59, in urlJackup
    return jackMgr.jackUpOld(agvId=agvId, timeout=timeout, loc=loc)
TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[INFO]2021-05-11 13:00:35,672: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-11 13:00:35,677: used 91ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[DEBUG]2021-05-11 13:00:35,770: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP142&mapId=comba-ZSC-F1-F3&taskId=609a0d5573dabd440805b0ef&timeout=10 addr: 127.0.0.1
[DEBUG]2021-05-11 13:00:35,782: [return] use 306 ms,http_get: http://127.0.0.1:8999/api/agv/jackup?agv=AGV02&loc=None&timeoutSec=90
[INFO]2021-05-11 13:00:35,839: agvControl中的_apply进去
[DEBUG]2021-05-11 13:00:35,904: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[CRITICAL]2021-05-11 13:00:35,930: *task[609a022473dabd455cf7253e][AGV02] AP142(LM120) -> AP143(LM118) [loadPlayload_jackup] jackup cause a error: TypeError: jackUpOld() got an unexpected keyword argument 'loc'
pid=10500, ppid=15656, tid=14688
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 872, in _jackUp
    jackApi.jackUp(self.agvId, timeoutSec=90)
  File "..\agvDevice\jackApi.py", line 44, in jackUp
    return _jack('/api/agv/jackup', agvId,timeoutSec,loc)
  File "..\agvDevice\jackApi.py", line 73, in _jack
    return http_get(url + apiurl, param,timeout=timeoutSec+2)
  File "..\agvDevice\jackApi.py", line 18, in http_get
    raise Exception(result["errormsg"])
Exception: TypeError: jackUpOld() got an unexpected keyword argument 'loc'

[INFO]2021-05-11 13:00:35,960: []
[ERROR]2021-05-11 13:00:42,122: connect AGV03 failed timed out
[ERROR]2021-05-11 13:00:42,146: connect AGV04 failed timed out
[CRITICAL]2021-05-11 13:00:51,186: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=10500, ppid=15656, tid=17432
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[WARN]2021-05-11 13:01:20,736: [*task[609a0d5573dabd440805b0ef][-] AP142(LM120) -> AP143(LM118) [waitForAgv]] apply agv failed: ('http get', 'http://127.0.0.1:8999/api/agv/apply', {'loc': 'AP142', 'exclude': '', 'autoLock': False, 'mapId': 'comba-ZSC-F1-F3', 'taskId': '609a0d5573dabd440805b0ef', 'timeout': 10, 'appName': 'akmTask'}, 'error:', 'timed out')
[ERROR]2021-05-11 13:01:44,417: try get lock failed! lock=<lock name:mapMgr.lock,<locked _thread.RLock object owner=17920 count=1 at 0x00000189D98FC198>> name=agv.hasDeadlock tid=17972
