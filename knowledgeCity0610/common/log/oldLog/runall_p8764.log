[INFO]2021-05-08 14:03:31,601: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-08 14:03:31,602: find module agvCtrl.main_agv
[INFO]2021-05-08 14:03:31,602: find module agvDevice.main_agvDevice
[INFO]2021-05-08 14:03:31,602: find module alarm.main_alarm
[INFO]2021-05-08 14:03:31,602: find module auth.main_auth
[INFO]2021-05-08 14:03:31,603: find module autoCtrl.main_akmCtrl
[INFO]2021-05-08 14:03:31,603: find module door.main_door
[INFO]2021-05-08 14:03:31,603: find module elevator.main_elevator
[INFO]2021-05-08 14:03:31,604: find module feed.main_feed
[INFO]2021-05-08 14:03:31,604: find module remoteio.main_remoteio
[INFO]2021-05-08 14:03:31,604: import agvCtrl.main_agv
[INFO]2021-05-08 14:03:31,830: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1552A67B0>>
[INFO]2021-05-08 14:03:31,832: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1552A6918>>
[INFO]2021-05-08 14:03:31,878: create lock <lock name:timer.lock_1929871626480,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1554EE440>>
[ERROR]2021-05-08 14:03:31,885: mqtt is disabled
[INFO]2021-05-08 14:03:31,885: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-08 14:03:31,886: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-08 14:03:34,904: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-08 14:03:34,947: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1556B8B48>>
[INFO]2021-05-08 14:03:34,948: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1556B8788>>
[INFO]2021-05-08 14:03:34,950: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1556B8300>>
[INFO]2021-05-08 14:03:34,957: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1557C2760>>
[INFO]2021-05-08 14:03:35,106: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C153A7C198>>
[INFO]2021-05-08 14:03:35,318: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C15587DE40>>
[INFO]2021-05-08 14:03:35,320: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1558E5F30>>
[INFO]2021-05-08 14:03:35,369: charge policy 0 , fix time
[INFO]2021-05-08 14:03:35,393: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C15595C1C0>>
[INFO]2021-05-08 14:03:35,812: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-08 14:03:35,887: elevator thread start
[INFO]2021-05-08 14:03:35,902: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 97 ms
[INFO]2021-05-08 14:03:35,910: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-08 14:03:36,055: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 152 ms
[INFO]2021-05-08 14:03:36,063: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-08 14:03:36,138: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 82 ms
[INFO]2021-05-08 14:03:36,145: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-08 14:03:36,192: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 53 ms
[INFO]2021-05-08 14:03:36,198: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-08 14:03:36,231: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 38 ms
[INFO]2021-05-08 14:03:36,234: import agvDevice.main_agvDevice
[INFO]2021-05-08 14:03:36,235: import alarm.main_alarm
[INFO]2021-05-08 14:03:36,236: import auth.main_auth
[INFO]2021-05-08 14:03:36,242: import autoCtrl.main_akmCtrl
[INFO]2021-05-08 14:03:36,271: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C156122D28>>
[INFO]2021-05-08 14:03:36,281: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C155DAD968>>
[INFO]2021-05-08 14:03:36,746: 三楼上料点 三楼下料点
[ERROR]2021-05-08 14:03:36,755: load task: can't find task *task[608bc0d373dabd40d4d5df97][AGV03] AP668(LM115) -> AP666(LM101) [dropPayloadMove]
[INFO]2021-05-08 14:03:36,759: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C155D6AC38>>
[INFO]2021-05-08 14:03:36,761: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C155DC2FA8>>
[INFO]2021-05-08 14:03:36,814: import door.main_door
[INFO]2021-05-08 14:03:36,817: import elevator.main_elevator
[INFO]2021-05-08 14:03:36,817: import feed.main_feed
[INFO]2021-05-08 14:03:36,828: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C156D2E210>>
[INFO]2021-05-08 14:03:36,863: import remoteio.main_remoteio
[SUCC]2021-05-08 14:03:36,894: utility start, pid=8764, ppid=12768
[DEBUG]2021-05-08 14:03:36,894: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-08 14:03:36,895: start timer
[DEBUG]2021-05-08 14:03:36,896: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-08 14:03:36,905: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-08 14:03:36,906: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548543C8>>
[DEBUG]2021-05-08 14:03:36,908: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-08 14:03:36,909: AGV01 start agvList run thread
[INFO]2021-05-08 14:03:36,909: AGV01 start agvList run2 thread
[INFO]2021-05-08 14:03:36,909: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548548F0>>
[DEBUG]2021-05-08 14:03:36,911: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:03:36,912: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854878>>
[DEBUG]2021-05-08 14:03:36,914: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-08 14:03:36,916: AGV03 start agvList run thread
[INFO]2021-05-08 14:03:36,916: AGV03 start agvList run2 thread
[INFO]2021-05-08 14:03:36,917: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854AF8>>
[INFO]2021-05-08 14:03:36,917: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854B48>>
[DEBUG]2021-05-08 14:03:36,919: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:03:36,920: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-08 14:03:36,920: AGV04 start agvList run thread
[INFO]2021-05-08 14:03:36,921: AGV04 start agvList run2 thread
[INFO]2021-05-08 14:03:36,921: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854D78>>
[INFO]2021-05-08 14:03:36,921: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854DC8>>
[DEBUG]2021-05-08 14:03:36,922: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-08 14:03:36,924: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-05-08 14:03:36,924: AGV02 start agvList run thread
[INFO]2021-05-08 14:03:36,924: AGV02 start agvList run2 thread
[WARN]2021-05-08 14:03:36,925: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 8764
[INFO]2021-05-08 14:03:36,925: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854350>>
[INFO]2021-05-08 14:03:36,926: add_ignore: taskStatus
[DEBUG]2021-05-08 14:03:36,926: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 14:03:36,932: AGV02 connected 172.16.217.213 19204
[INFO]2021-05-08 14:03:36,934: create lock <lock name:agv.AGV02.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854508>>
[DEBUG]2021-05-08 14:03:36,935: try connect AGV02 172.16.217.213:19205
[INFO]2021-05-08 14:03:36,940: AGV02 connected 172.16.217.213 19205
[INFO]2021-05-08 14:03:36,940: create lock <lock name:agv.AGV02.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1940>>
[DEBUG]2021-05-08 14:03:36,941: try connect AGV02 172.16.217.213:19206
[INFO]2021-05-08 14:03:36,943: AGV04 connected 172.16.217.211 19204
[INFO]2021-05-08 14:03:36,943: create lock <lock name:agv.AGV04.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C154854F80>>
[DEBUG]2021-05-08 14:03:36,944: try connect AGV04 172.16.217.211:19205
[INFO]2021-05-08 14:03:36,952: AGV04 connected 172.16.217.211 19205
[INFO]2021-05-08 14:03:36,952: AGV02 connected 172.16.217.213 19206
[INFO]2021-05-08 14:03:36,953: create lock <lock name:agv.AGV04.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1C38>>
[INFO]2021-05-08 14:03:36,953: create lock <lock name:agv.AGV02.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1CB0>>
[DEBUG]2021-05-08 14:03:36,954: try connect AGV04 172.16.217.211:19206
[DEBUG]2021-05-08 14:03:36,954: try connect AGV02 172.16.217.213:19207
[INFO]2021-05-08 14:03:36,959: AGV04 connected 172.16.217.211 19206
[INFO]2021-05-08 14:03:36,964: AGV02 connected 172.16.217.213 19207
[INFO]2021-05-08 14:03:36,965: create lock <lock name:agv.AGV04.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1C60>>
[INFO]2021-05-08 14:03:36,966: create lock <lock name:agv.AGV02.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1D28>>
[DEBUG]2021-05-08 14:03:36,966: try connect AGV04 172.16.217.211:19207
[DEBUG]2021-05-08 14:03:36,967: try connect AGV02 172.16.217.213:19208
[INFO]2021-05-08 14:03:36,977: AGV02 connected 172.16.217.213 19208
[INFO]2021-05-08 14:03:36,981: AGV04 connected 172.16.217.211 19207
[INFO]2021-05-08 14:03:36,981: create lock <lock name:agv.AGV02.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1D00>>
[INFO]2021-05-08 14:03:36,982: create lock <lock name:agv.AGV04.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1CD8>>
[DEBUG]2021-05-08 14:03:36,982: try connect AGV02 172.16.217.213:19210
[DEBUG]2021-05-08 14:03:36,983: try connect AGV04 172.16.217.211:19208
[INFO]2021-05-08 14:03:36,988: AGV04 connected 172.16.217.211 19208
[INFO]2021-05-08 14:03:36,988: create lock <lock name:agv.AGV04.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001C1548B1E18>>
[DEBUG]2021-05-08 14:03:36,989: try connect AGV04 172.16.217.211:19210
[INFO]2021-05-08 14:03:36,991: AGV02 connected 172.16.217.213 19210
[INFO]2021-05-08 14:03:36,993: AGV04 connected 172.16.217.211 19210
[INFO]2021-05-08 14:03:37,025: AGV02 current map comba-ZSC-F1-F3
[INFO]2021-05-08 14:03:37,025: AGV04 current map comba-ZXC-F3
[INFO]2021-05-08 14:03:37,055: AGV02 is online
[INFO]2021-05-08 14:03:37,095: AGV04 is online
[DEBUG]2021-05-08 14:03:41,911: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-08 14:03:41,913: akmTask init client agvApi
[DEBUG]2021-05-08 14:03:41,914: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[ERROR]2021-05-08 14:03:44,797: raise alarm obj=AGV02, typeId=54231, desc=AGV异常, id=609629c0697d98928ef12d2a
[DEBUG]2021-05-08 14:03:44,999: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-08 14:03:45,041: used 42ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-08 14:03:45,125: timer_thread[tid:8712] <locked _thread.RLock object owner=8712 count=1 at 0x000001C155DAD8F0> ,hold 8227 ms
[INFO]2021-05-08 14:03:45,265: name=timer_thread, pid=8764, tid=8712
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:03:46,432: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[WARN]2021-05-08 14:03:46,492: AGV04 battery 0.392 check failed: no_idle_9.571
[ERROR]2021-05-08 14:03:46,588: raise alarm obj=AGV02, typeId=52200, desc=AGV异常, id=609629c2697d98928ef12d35
[DEBUG]2021-05-08 14:03:46,803: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:03:46,923: connect AGV03 failed timed out
[ERROR]2021-05-08 14:03:46,947: connect AGV01 failed timed out
[DEBUG]2021-05-08 14:03:46,971: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:03:46,989: try connect AGV01 172.16.217.209:19204
[ERROR]2021-05-08 14:03:57,033: connect AGV03 failed timed out
[ERROR]2021-05-08 14:03:57,079: connect AGV01 failed timed out
[INFO]2021-05-08 14:03:57,085: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 14:03:57,127: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:03:57,133: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 20214 ms
[WARN]2021-05-08 14:03:57,163: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 20252 ms
[INFO]2021-05-08 14:03:57,217: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:03:57,277: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:03:59,305: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:03:59,341: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:03:59,573: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[INFO]2021-05-08 14:03:59,609: getseat
[DEBUG]2021-05-08 14:03:59,686: used 113ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/manual/seat
[DEBUG]2021-05-08 14:04:00,204: GET: http://172.16.217.178:8999/api/manual/tasklist addr: 172.16.217.105
[DEBUG]2021-05-08 14:04:00,216: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[DEBUG]2021-05-08 14:04:00,282: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[INFO]2021-05-08 14:04:00,294: gettasklist
[INFO]2021-05-08 14:04:00,346: getseat
[INFO]2021-05-08 14:04:00,370: getseat
[DEBUG]2021-05-08 14:04:00,721: GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F addr: 172.16.217.105
[DEBUG]2021-05-08 14:04:00,739: used 18ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F
[CRITICAL]2021-05-08 14:04:02,309: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-08 14:04:03,348: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[CRITICAL]2021-05-08 14:04:08,292: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=11804
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 14:04:08,369: worker 2[tid:11804] <locked _thread.RLock object owner=11804 count=1 at 0x000001C155D6A350> ,hold 21446 ms
[INFO]2021-05-08 14:04:09,109: name=worker 2, pid=8764, tid=11804
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:04:09,218: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=11804
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:04:09,353: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=11804
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 14:04:09,448: connect AGV03 failed timed out
[ERROR]2021-05-08 14:04:09,466: connect AGV01 failed timed out
[INFO]2021-05-08 14:04:09,513: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 14:04:09,531: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:04:09,567: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10262 ms
[WARN]2021-05-08 14:04:09,597: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10256 ms
[INFO]2021-05-08 14:04:09,678: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:04:09,699: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:04:11,719: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:04:11,747: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 14:04:16,884: GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C addr: 172.16.217.105
[INFO]2021-05-08 14:04:16,920: Scada send a task to the server from 三楼夹具点A to 三楼夹具点C payloadId: None
[INFO]2021-05-08 14:04:16,961: create task[609629e073dabd223c25806d]: type= scadaTask , 从三楼夹具点A运送货架到三楼夹具点C {'source': '三楼夹具点A', 'target': '三楼夹具点C', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼夹具点A运送货架到三楼夹具点C', 'createTime': datetime.datetime(2021, 5, 8, 14, 4, 16, 944621), 'updateTime': datetime.datetime(2021, 5, 8, 14, 4, 16, 944621), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('609629e073dabd223c25806d')}
[INFO]2021-05-08 14:04:16,979: 三楼夹具点C 三楼夹具点A
[INFO]2021-05-08 14:04:17,087: task[609629e073dabd223c25806d][-] AP22(LM17) -> AP25(LM24) [waiting] is inside False
[INFO]2021-05-08 14:04:17,129: task cmd: got a task from scada task[609629e073dabd223c25806d][-] AP22(LM17) -> AP25(LM24) [waiting]
[DEBUG]2021-05-08 14:04:17,199: used 315ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C
[CRITICAL]2021-05-08 14:04:18,507: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:04:19,569: init IO success
[DEBUG]2021-05-08 14:04:19,581: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:04:21,783: connect AGV03 failed timed out
[INFO]2021-05-08 14:04:21,807: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:04:21,825: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10106 ms
[ERROR]2021-05-08 14:04:21,878: connect AGV01 failed timed out
[INFO]2021-05-08 14:04:21,926: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-05-08 14:04:21,950: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:04:21,980: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10233 ms
[INFO]2021-05-08 14:04:22,176: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:04:23,166: clear alarm obj=AGV02, typeId=54231, id=609629c0697d98928ef12d2a
[WARN]2021-05-08 14:04:23,293: clear alarm obj=AGV02, typeId=52200, id=609629c2697d98928ef12d35
[DEBUG]2021-05-08 14:04:24,057: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:04:24,216: try connect AGV01 172.16.217.209:19204
[CRITICAL]2021-05-08 14:04:29,037: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=1440
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 14:04:29,066: worker 0[tid:1440] <locked _thread.RLock object owner=1440 count=1 at 0x000001C155D6A5D0> ,hold 25575 ms
[INFO]2021-05-08 14:04:29,179: name=worker 0, pid=8764, tid=1440
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:04:29,260: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=1440
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:04:29,334: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=1440
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 14:04:34,101: connect AGV03 failed timed out
[INFO]2021-05-08 14:04:34,184: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:04:34,238: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10181 ms
[INFO]2021-05-08 14:04:34,316: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:04:34,316: connect AGV01 failed timed out
[INFO]2021-05-08 14:04:34,382: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:04:34,400: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10184 ms
[INFO]2021-05-08 14:04:34,448: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:04:34,785: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[WARN]2021-05-08 14:04:35,955: clear alarm obj=upStation01, typeId=39998, id=60928d09eda186078b8886b9
[WARN]2021-05-08 14:04:36,147: clear alarm obj=downStation01, typeId=39998, id=60928d09eda186078b8886bb
[DEBUG]2021-05-08 14:04:36,350: try connect AGV03 172.16.217.121:19204
[WARN]2021-05-08 14:04:36,355: clear alarm obj=AGV01, typeId=49999, id=60928e1aeda186078b888869
[DEBUG]2021-05-08 14:04:36,488: try connect AGV01 172.16.217.209:19204
[WARN]2021-05-08 14:04:36,552: clear alarm obj=AGV03, typeId=49999, id=608bc468e63d8bd28baeffab
[WARN]2021-05-08 14:04:37,771: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[INFO]2021-05-08 14:04:37,807: AGV04 battery 0.392 check success
[WARN]2021-05-08 14:04:37,999: AGV04 Can't find charge point at comba-ZXC-F3 battery: 0.392
[INFO]2021-05-08 14:04:38,089: task[609629e073dabd223c25806d]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 8, 14, 4, 38, 17049), 'updateTime': datetime.datetime(2021, 5, 8, 14, 4, 38, 17049), 'status': 'running'}
[INFO]2021-05-08 14:04:38,102: task: start task[609629e073dabd223c25806d][-] AP22(LM17) -> AP25(LM24) [waiting]
[INFO]2021-05-08 14:04:38,124: this is handle taskStep=============>waiting
[INFO]2021-05-08 14:04:38,177: task[609629e073dabd223c25806d] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 8, 14, 4, 38, 136698)}
[DEBUG]2021-05-08 14:04:38,194: task[609629e073dabd223c25806d][-] AP22(LM17) -> AP25(LM24) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-05-08 14:04:39,108: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 14:04:39,443: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-08 14:04:39,515: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=609629e073dabd223c25806d&timeout=10 addr: 127.0.0.1
[INFO]2021-05-08 14:04:39,544: agvControl中的_apply进去
[INFO]2021-05-08 14:04:39,573: [('comba-ZXC-F3.LM20', 'AGV04')]
[INFO]2021-05-08 14:04:40,716: apply AGV04 ,taskId: 609629e073dabd223c25806d ,loc comba-ZXC-F3.AP22 ,autoLock False , used 1143 ms
[INFO]2021-05-08 14:04:40,754: AGV04
[INFO]2021-05-08 14:04:40,773: 5555555555555555555555555
[INFO]2021-05-08 14:04:40,790: 6666666666666666666666666
[WARN]2021-05-08 14:04:40,802: worker 4[tid:13028] <locked _thread.RLock object owner=13028 count=1 at 0x000001C155D6A350> ,hold 21012 ms
[INFO]2021-05-08 14:04:40,832: AGV04
[DEBUG]2021-05-08 14:04:40,916: used 1401ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=609629e073dabd223c25806d&timeout=10
[INFO]2021-05-08 14:04:40,981: comba-ZXC-F3.AP22 comba-ZXC-F3.AP25
[INFO]2021-05-08 14:04:40,987: name=worker 4, pid=8764, tid=13028
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:04:41,005: AGV04
[INFO]2021-05-08 14:04:41,084: 判断类型
[CRITICAL]2021-05-08 14:04:41,119: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=13028
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 14:04:41,119: 1111111111111111111111
[CRITICAL]2021-05-08 14:04:41,348: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=13028
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-08 14:04:41,365: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV04&appName=akmTask&taskId=609629e073dabd223c25806d addr: 127.0.0.1
[DEBUG]2021-05-08 14:04:41,430: lock:  AGV04 taskId 609629e073dabd223c25806d app akmTask
[WARN]2021-05-08 14:04:42,458: AGV04 clear task finish, cur= comba-ZXC-F3.LM20 task_status= 4
[INFO]2021-05-08 14:04:42,516: 22222222222222222222222
[INFO]2021-05-08 14:04:42,546: AGV04
[INFO]2021-05-08 14:04:42,564: task[609629e073dabd223c25806d][-] AP22(LM17) -> AP25(LM24) [waitForAgv] apply AGV04
[INFO]2021-05-08 14:04:42,642: task[609629e073dabd223c25806d] update info: {'agvId': 'AGV04', 'failMsg': '成功分配小车AGV04', 'updateTime': datetime.datetime(2021, 5, 8, 14, 4, 42, 594757)}
[WARN]2021-05-08 14:04:42,684: scada.609629e073dabd223c25806d[tid:9368] <locked _thread.RLock object owner=9368 count=1 at 0x000001C15BE4C120> ,hold 3241 ms
[INFO]2021-05-08 14:04:42,889: name=scada.609629e073dabd223c25806d, pid=8764, tid=9368
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 916, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:04:42,942: task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [initAGV] waitForAgv -> initAGV
[INFO]2021-05-08 14:04:43,374: this is handle taskStep=============>initAGV
[INFO]2021-05-08 14:04:43,416: task[609629e073dabd223c25806d] update info: {'failMsg': '前往三楼夹具点A工位点', 'updateTime': datetime.datetime(2021, 5, 8, 14, 4, 43, 404584)}
[DEBUG]2021-05-08 14:04:43,446: task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [startMoveAGV] initAGV -> startMoveAGV
[INFO]2021-05-08 14:04:43,810: this is handle taskStep=============>startMoveAGV
[DEBUG]2021-05-08 14:04:43,843: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=609629e073dabd223c25806d_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-05-08 14:04:43,857: Begin: AGV04 move from comba-ZXC-F3.LM20 to comba-ZXC-F3.AP22 by paths: [('comba-ZXC-F3', ['LM20', 'LM21', 'LM17', 'AP18', 'AP22'], 5.46020559361961)] task: 609629e073dabd223c25806d_2 timeout 86400 used 9 ms
[DEBUG]2021-05-08 14:04:43,865: task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload] startMoveAGV -> loadPlayload
[INFO]2021-05-08 14:04:44,169: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:44,475: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:44,695: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM21 ,taskId 609629e073dabd223c25806d_2
[INFO]2021-05-08 14:04:44,778: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:45,085: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:45,388: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:45,702: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:46,010: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:46,312: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:04:46,452: connect AGV03 failed timed out
[INFO]2021-05-08 14:04:46,453: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:04:46,454: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10103 ms
[INFO]2021-05-08 14:04:46,455: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:04:46,622: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:04:46,672: connect AGV01 failed timed out
[INFO]2021-05-08 14:04:46,675: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:04:46,677: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10189 ms
[INFO]2021-05-08 14:04:46,681: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:04:46,926: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:47,232: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:47,538: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:47,840: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:48,146: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:48,449: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:48,457: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:04:48,699: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:04:48,753: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:49,055: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:49,358: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:49,667: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:49,917: AGV04 turn to wait check cur LM20 next LM17 0.870 False
[INFO]2021-05-08 14:04:49,974: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:50,290: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:50,425: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM17 ,taskId 609629e073dabd223c25806d_2
[INFO]2021-05-08 14:04:50,592: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:50,895: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:51,134: AGV04 turn to wait check cur LM20 next AP18 0.728 False
[INFO]2021-05-08 14:04:51,201: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:51,295: AGV04 set loc comba-ZXC-F3.LM21 ,old LM20 (9.03,6.17)
[INFO]2021-05-08 14:04:51,508: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:51,647: agvInfo: AGV04 comba-ZXC-F3.LM21 move to comba-ZXC-F3.AP18 ,taskId 609629e073dabd223c25806d_2
[INFO]2021-05-08 14:04:51,815: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:52,124: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:52,429: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:52,732: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:53,039: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:53,343: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:53,650: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:53,954: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 14:04:54,223: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:04:54,259: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:54,568: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:54,871: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:55,183: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:55,239: remoteio is alarm: []
[INFO]2021-05-08 14:04:55,490: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:55,796: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:56,102: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:04:56,255: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[WARN]2021-05-08 14:04:56,259: AGV04 battery 0.392 check failed: isLocked
[DEBUG]2021-05-08 14:04:56,261: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 14:04:56,405: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:56,713: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:57,017: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:57,320: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:57,627: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:57,934: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:58,237: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:04:58,459: connect AGV03 failed timed out
[INFO]2021-05-08 14:04:58,463: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:04:58,466: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10009 ms
[INFO]2021-05-08 14:04:58,470: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:04:58,541: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:04:58,705: connect AGV01 failed timed out
[INFO]2021-05-08 14:04:58,707: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:04:58,709: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10010 ms
[INFO]2021-05-08 14:04:58,713: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:04:58,768: AGV04 set loc comba-ZXC-F3.LM17 ,old LM21 (9.12,5.82)
[INFO]2021-05-08 14:04:58,848: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:58,888: AGV04 choise next pos cur LM17 next AP22 pre AP18 1.918 False
[DEBUG]2021-05-08 14:04:58,897: AGV04 turn to wait check cur LM17 next AP22 1.918 False
[INFO]2021-05-08 14:04:59,156: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:04:59,423: agvInfo: AGV04 comba-ZXC-F3.LM17 move jackup to comba-ZXC-F3.AP22 ,taskId 609629e073dabd223c25806d_2
[INFO]2021-05-08 14:04:59,425: --------------------跳转到driver下的seerAgv下的agcCtrl.py中的goTargetAndDoWork函数中-----------------10---------
[INFO]2021-05-08 14:04:59,426: 1
[INFO]2021-05-08 14:04:59,427: {'id': 'AP22', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': False}
[INFO]2021-05-08 14:04:59,428: --------------------------准备进去driver中的seerAgv.py下的task函数-----------------（11）--------------
[INFO]2021-05-08 14:04:59,458: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:04:59,761: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:00,067: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:00,371: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:05:00,475: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 14:05:00,676: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:05:00,720: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:05:00,979: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:01,286: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:01,592: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:01,895: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:05:02,051: worker 2[tid:11804] <locked _thread.RLock object owner=11804 count=1 at 0x000001C155D6A350> ,hold 22824 ms
[INFO]2021-05-08 14:05:02,053: name=worker 2, pid=8764, tid=11804
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:05:02,060: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=11804
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:05:02,067: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=11804
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 14:05:02,198: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:02,501: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:02,807: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:03,109: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:03,417: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:03,723: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:04,026: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:04,328: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:04,631: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:04,938: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:05,245: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:05,550: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:05,862: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:06,167: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:06,469: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:06,773: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:07,076: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:07,383: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:07,690: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:07,998: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:08,302: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:05:08,363: AGV04 set loc comba-ZXC-F3.AP18 ,old LM17 (7.94,5.73)
[INFO]2021-05-08 14:05:08,605: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:08,911: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:09,218: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:09,521: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:09,828: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:10,138: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:10,441: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 14:05:10,478: connect AGV03 failed timed out
[INFO]2021-05-08 14:05:10,481: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:05:10,484: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10009 ms
[INFO]2021-05-08 14:05:10,488: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:05:10,561: AGV04 set loc comba-ZXC-F3.AP22 ,old AP18 (7.38,5.76)
[ERROR]2021-05-08 14:05:10,721: connect AGV01 failed timed out
[INFO]2021-05-08 14:05:10,725: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:05:10,728: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10008 ms
[INFO]2021-05-08 14:05:10,732: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 14:05:10,744: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:05:10,880: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 14:05:11,046: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 14:05:11,279: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:05:11,353: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:05:11,386: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 14:05:11,660: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:05:11,891: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 14:05:11,968: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:12,274: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:12,287: remoteio is alarm: []
[WARN]2021-05-08 14:05:12,392: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[DEBUG]2021-05-08 14:05:12,494: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 14:05:12,577: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 14:05:12,734: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 14:05:12,881: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:13,188: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 14:05:13,291: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[WARN]2021-05-08 14:05:13,292: AGV04 battery 0.392 check failed: isLocked
[DEBUG]2021-05-08 14:05:13,293: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 14:05:13,496: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:13,805: this is handle taskStep=============>loadPlayload
[SUCC]2021-05-08 14:05:13,899: Finish:  AGV04 arrived comba-ZXC-F3.AP22 ,task: 609629e073dabd223c25806d_2
[INFO]2021-05-08 14:05:14,110: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 14:05:14,324: task: move finish callback task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload]
[INFO]2021-05-08 14:05:14,326: task[609629e073dabd223c25806d] update info: {'failMsg': 'AGV二层出料', 'updateTime': datetime.datetime(2021, 5, 8, 14, 5, 14, 325542)}
[INFO]2021-05-08 14:05:14,413: this is handle taskStep=============>loadPlayload_readqr
[CRITICAL]2021-05-08 14:05:14,424: taskFunc2:task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload_readqr] cause a error: 'scadaTask' object has no attribute 'rollerFrontUnLoad'
pid=8764, ppid=12768, tid=9368
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 916, in _taskFunc
    elif not self.handle():
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 664, in handle
    if not self.rollerFrontUnLoad(2): #这样写死了小车首先让二层滚筒出料
AttributeError: 'scadaTask' object has no attribute 'rollerFrontUnLoad'

[WARN]2021-05-08 14:05:14,428: task[609629e073dabd223c25806d]:  error {'failMsg': "'scadaTask' object has no attribute 'rollerFrontUnLoad'", 'endTime': datetime.datetime(2021, 5, 8, 14, 5, 14, 428265), 'status': 'error'}
[INFO]2021-05-08 14:05:14,429: task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload_readqr] AGV04 release task, release agv False False False
[INFO]2021-05-08 14:05:14,430: task: stop task[609629e073dabd223c25806d][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload_readqr]
[ERROR]2021-05-08 14:05:22,498: connect AGV03 failed timed out
[INFO]2021-05-08 14:05:22,539: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:05:22,563: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10069 ms
[INFO]2021-05-08 14:05:22,634: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:05:22,735: connect AGV01 failed timed out
[INFO]2021-05-08 14:05:22,777: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:05:22,807: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10073 ms
[INFO]2021-05-08 14:05:22,895: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:05:23,098: worker 8[tid:13192] <locked _thread.RLock object owner=13192 count=1 at 0x000001C155D6A350> ,hold 26820 ms
[INFO]2021-05-08 14:05:23,222: name=worker 8, pid=8764, tid=13192
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:05:23,290: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=13192
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:05:23,395: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=13192
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-08 14:05:24,672: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:05:24,942: try connect AGV01 172.16.217.209:19204
[CRITICAL]2021-05-08 14:05:28,368: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:05:29,499: remoteio is alarm: []
[WARN]2021-05-08 14:05:30,616: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[WARN]2021-05-08 14:05:30,658: AGV04 battery 0.392 check failed: isLocked
[DEBUG]2021-05-08 14:05:30,700: task: delete task 609629e073dabd223c25806d
[DEBUG]2021-05-08 14:05:30,752: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 14:05:34,784: connect AGV03 failed timed out
[INFO]2021-05-08 14:05:34,808: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:05:34,856: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10184 ms
[INFO]2021-05-08 14:05:34,975: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:05:35,039: connect AGV01 failed timed out
[INFO]2021-05-08 14:05:35,134: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:05:35,181: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10239 ms
[INFO]2021-05-08 14:05:35,264: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:05:37,100: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:05:37,318: try connect AGV01 172.16.217.209:19204
[WARN]2021-05-08 14:05:44,490: worker 3[tid:12120] <locked _thread.RLock object owner=12120 count=1 at 0x000001C155D6A350> ,hold 31184 ms
[INFO]2021-05-08 14:05:44,622: name=worker 3, pid=8764, tid=12120
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:05:44,754: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=12120
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:05:44,864: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=12120
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 14:05:45,942: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[ERROR]2021-05-08 14:05:46,834: raise alarm obj=AGV02, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.6103, id=60962a3a697d98928ef12f4b
[INFO]2021-05-08 14:05:47,126: remoteio is alarm: []
[ERROR]2021-05-08 14:05:47,174: connect AGV03 failed timed out
[ERROR]2021-05-08 14:05:47,180: raise alarm obj=upStation01, typeId=39998, desc=远程控制IO离线异常, id=60962a3b697d98928ef12f50
[INFO]2021-05-08 14:05:47,246: AGV03 checkLink failed 172.16.217.121 19204
[ERROR]2021-05-08 14:05:47,300: raise alarm obj=downStation01, typeId=39998, desc=远程控制IO离线异常, id=60962a3b697d98928ef12f52
[WARN]2021-05-08 14:05:47,318: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10218 ms
[ERROR]2021-05-08 14:05:47,382: connect AGV01 failed timed out
[INFO]2021-05-08 14:05:47,412: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-05-08 14:05:47,418: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:05:47,435: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10117 ms
[INFO]2021-05-08 14:05:47,572: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 14:05:48,424: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[WARN]2021-05-08 14:05:48,446: AGV04 battery 0.392 check failed: isLocked
[DEBUG]2021-05-08 14:05:48,473: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-08 14:05:49,483: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:05:49,654: try connect AGV01 172.16.217.209:19204
[ERROR]2021-05-08 14:05:59,560: connect AGV03 failed timed out
[INFO]2021-05-08 14:05:59,619: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 14:05:59,631: agvThread.AGV03[tid:4916] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=4916 count=1 at 0x000001C154854B48>> ,hold 10148 ms
[INFO]2021-05-08 14:05:59,697: name=agvThread.AGV03, pid=8764, tid=4916
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 14:05:59,732: connect AGV01 failed timed out
[INFO]2021-05-08 14:05:59,762: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 14:05:59,797: agvThread.AGV01[tid:11108] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11108 count=1 at 0x000001C1548548F0>> ,hold 10143 ms
[INFO]2021-05-08 14:05:59,857: name=agvThread.AGV01, pid=8764, tid=11108
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 14:06:01,726: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 14:06:01,932: try connect AGV01 172.16.217.209:19204
[CRITICAL]2021-05-08 14:06:03,665: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=8764, ppid=12768, tid=8712
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 14:06:04,759: remoteio is alarm: ['upStation01', 'downStation01']
[WARN]2021-05-08 14:06:05,715: worker 0[tid:1440] <locked _thread.RLock object owner=1440 count=1 at 0x000001C155D6A350> ,hold 34868 ms
[INFO]2021-05-08 14:06:05,820: name=worker 0, pid=8764, tid=1440
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 14:06:05,883: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=1440
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 14:06:05,931: AGV04 low battery charge,batteryLevel= 0.392 start charge level= 0.400
[WARN]2021-05-08 14:06:06,052: AGV04 battery 0.392 check failed: isLocked
[CRITICAL]2021-05-08 14:06:06,082: invoke <function urlReadDOList at 0x000001C154875620> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=8764, ppid=12768, tid=1440
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 14:06:07,245: remoteio is alarm: ['upStation01', 'downStation01']
