[INFO]2021-05-08 16:01:49,954: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-08 16:01:49,955: find module agvCtrl.main_agv
[INFO]2021-05-08 16:01:49,955: find module agvDevice.main_agvDevice
[INFO]2021-05-08 16:01:49,956: find module alarm.main_alarm
[INFO]2021-05-08 16:01:49,956: find module auth.main_auth
[INFO]2021-05-08 16:01:49,956: find module autoCtrl.main_akmCtrl
[INFO]2021-05-08 16:01:49,957: find module door.main_door
[INFO]2021-05-08 16:01:49,958: find module elevator.main_elevator
[INFO]2021-05-08 16:01:49,958: find module feed.main_feed
[INFO]2021-05-08 16:01:49,959: find module remoteio.main_remoteio
[INFO]2021-05-08 16:01:49,959: import agvCtrl.main_agv
[INFO]2021-05-08 16:01:50,203: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE9B467B0>>
[INFO]2021-05-08 16:01:50,205: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE9B46918>>
[INFO]2021-05-08 16:01:50,265: create lock <lock name:timer.lock_2593788635568,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE9D8F440>>
[ERROR]2021-05-08 16:01:50,272: mqtt is disabled
[INFO]2021-05-08 16:01:50,273: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-08 16:01:50,274: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-08 16:01:53,297: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-08 16:01:53,349: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE9F58B48>>
[INFO]2021-05-08 16:01:53,351: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE9F58788>>
[INFO]2021-05-08 16:01:53,352: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE9F58300>>
[INFO]2021-05-08 16:01:53,360: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA0A2760>>
[INFO]2021-05-08 16:01:53,514: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE831C198>>
[INFO]2021-05-08 16:01:53,722: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA15DE40>>
[INFO]2021-05-08 16:01:53,725: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA1A5F30>>
[INFO]2021-05-08 16:01:53,774: charge policy 0 , fix time
[INFO]2021-05-08 16:01:53,800: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA21C1C0>>
[INFO]2021-05-08 16:01:54,229: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-08 16:01:54,307: elevator thread start
[INFO]2021-05-08 16:01:54,323: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 101 ms
[INFO]2021-05-08 16:01:54,331: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-08 16:01:54,475: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 151 ms
[INFO]2021-05-08 16:01:54,483: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-08 16:01:54,560: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 84 ms
[INFO]2021-05-08 16:01:54,568: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-08 16:01:54,616: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 55 ms
[INFO]2021-05-08 16:01:54,625: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-08 16:01:54,659: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 41 ms
[INFO]2021-05-08 16:01:54,662: import agvDevice.main_agvDevice
[INFO]2021-05-08 16:01:54,663: import alarm.main_alarm
[INFO]2021-05-08 16:01:54,664: import auth.main_auth
[INFO]2021-05-08 16:01:54,671: import autoCtrl.main_akmCtrl
[INFO]2021-05-08 16:01:54,691: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA931EB8>>
[INFO]2021-05-08 16:01:54,700: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA606AF8>>
[INFO]2021-05-08 16:01:54,720: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA606198>>
[INFO]2021-05-08 16:01:54,726: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEA6BA148>>
[INFO]2021-05-08 16:01:55,270: import door.main_door
[INFO]2021-05-08 16:01:55,272: import elevator.main_elevator
[INFO]2021-05-08 16:01:55,273: import feed.main_feed
[INFO]2021-05-08 16:01:55,279: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB8C0530>>
[INFO]2021-05-08 16:01:55,312: import remoteio.main_remoteio
[SUCC]2021-05-08 16:01:55,327: utility start, pid=9536, ppid=12332
[DEBUG]2021-05-08 16:01:55,328: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-08 16:01:55,328: start timer
[DEBUG]2021-05-08 16:01:55,329: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-08 16:01:55,337: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-08 16:01:55,338: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62D490>>
[DEBUG]2021-05-08 16:01:55,340: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-08 16:01:55,341: AGV01 start agvList run thread
[INFO]2021-05-08 16:01:55,341: AGV01 start agvList run2 thread
[INFO]2021-05-08 16:01:55,342: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62DA30>>
[DEBUG]2021-05-08 16:01:55,343: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 16:01:55,344: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62D968>>
[DEBUG]2021-05-08 16:01:55,346: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-08 16:01:55,347: AGV03 start agvList run thread
[INFO]2021-05-08 16:01:55,347: AGV03 start agvList run2 thread
[INFO]2021-05-08 16:01:55,347: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62DBE8>>
[INFO]2021-05-08 16:01:55,347: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62DC38>>
[DEBUG]2021-05-08 16:01:55,351: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 16:01:55,352: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-08 16:01:55,353: AGV04 start agvList run thread
[INFO]2021-05-08 16:01:55,353: AGV04 start agvList run2 thread
[INFO]2021-05-08 16:01:55,353: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62DE68>>
[INFO]2021-05-08 16:01:55,353: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62DEB8>>
[DEBUG]2021-05-08 16:01:55,354: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-08 16:01:55,356: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-05-08 16:01:55,356: AGV02 start agvList run thread
[INFO]2021-05-08 16:01:55,356: AGV02 start agvList run2 thread
[WARN]2021-05-08 16:01:55,357: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 9536
[INFO]2021-05-08 16:01:55,357: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BEB62D440>>
[INFO]2021-05-08 16:01:55,359: add_ignore: taskStatus
[DEBUG]2021-05-08 16:01:55,360: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 16:01:55,371: AGV04 connected 172.16.217.211 19204
[INFO]2021-05-08 16:01:55,372: create lock <lock name:agv.AGV04.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE913D080>>
[DEBUG]2021-05-08 16:01:55,372: try connect AGV04 172.16.217.211:19205
[INFO]2021-05-08 16:01:55,389: AGV04 connected 172.16.217.211 19205
[INFO]2021-05-08 16:01:55,390: create lock <lock name:agv.AGV04.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE913DAA8>>
[DEBUG]2021-05-08 16:01:55,391: try connect AGV04 172.16.217.211:19206
[INFO]2021-05-08 16:01:55,402: AGV04 connected 172.16.217.211 19206
[INFO]2021-05-08 16:01:55,403: create lock <lock name:agv.AGV04.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE913DB48>>
[DEBUG]2021-05-08 16:01:55,404: try connect AGV04 172.16.217.211:19207
[INFO]2021-05-08 16:01:55,420: AGV04 connected 172.16.217.211 19207
[INFO]2021-05-08 16:01:55,421: create lock <lock name:agv.AGV04.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE913DB70>>
[DEBUG]2021-05-08 16:01:55,421: try connect AGV04 172.16.217.211:19208
[INFO]2021-05-08 16:01:55,437: AGV04 connected 172.16.217.211 19208
[INFO]2021-05-08 16:01:55,437: create lock <lock name:agv.AGV04.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025BE913DBC0>>
[DEBUG]2021-05-08 16:01:55,438: try connect AGV04 172.16.217.211:19210
[INFO]2021-05-08 16:01:55,462: AGV04 connected 172.16.217.211 19210
[INFO]2021-05-08 16:01:55,484: AGV04 current map comba-ZXC-F3
[INFO]2021-05-08 16:01:55,578: AGV04 is online
[WARN]2021-05-08 16:01:55,601: clear alarm obj=AGV04, typeId=54004, id=6096439e697d98928ef14380
[WARN]2021-05-08 16:01:55,607: clear alarm obj=AGV04, typeId=54013, id=6096439e697d98928ef14382
[ERROR]2021-05-08 16:01:55,609: raise alarm obj=AGV04, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.5613, id=60964573697d98928ef14422
[WARN]2021-05-08 16:01:55,615: clear alarm obj=AGV04, typeId=4002, id=6096439e697d98928ef14386
[DEBUG]2021-05-08 16:02:00,346: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-08 16:02:00,347: akmTask init client agvApi
[DEBUG]2021-05-08 16:02:00,349: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[DEBUG]2021-05-08 16:02:03,343: GET: http://127.0.0.1:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C addr: 127.0.0.1
[DEBUG]2021-05-08 16:02:03,459: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-08 16:02:03,500: used 41ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-08 16:02:03,603: timer_thread[tid:13452] <locked _thread.RLock object owner=13452 count=1 at 0x0000025BEA606698> ,hold 8272 ms
[INFO]2021-05-08 16:02:03,690: name=timer_thread, pid=9536, tid=13452
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 16:02:03,719: Scada send a task to the server from 三楼夹具点A to 三楼夹具点C payloadId: None
[INFO]2021-05-08 16:02:03,747: create task[6096457b73dabd254079b85a]: type= scadaTask , 从三楼夹具点A运送货架到三楼夹具点C {'source': '三楼夹具点A', 'target': '三楼夹具点C', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼夹具点A运送货架到三楼夹具点C', 'createTime': datetime.datetime(2021, 5, 8, 16, 2, 3, 741146), 'updateTime': datetime.datetime(2021, 5, 8, 16, 2, 3, 741146), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('6096457b73dabd254079b85a')}
[INFO]2021-05-08 16:02:03,788: 三楼夹具点C 三楼夹具点A
[INFO]2021-05-08 16:02:03,874: task[6096457b73dabd254079b85a][-] AP22(LM17) -> AP25(LM24) [waiting] is inside False
[INFO]2021-05-08 16:02:03,916: task cmd: got a task from scada task[6096457b73dabd254079b85a][-] AP22(LM17) -> AP25(LM24) [waiting]
[WARN]2021-05-08 16:02:04,845: AGV04 low battery charge,batteryLevel= 0.292 start charge level= 0.400
[WARN]2021-05-08 16:02:04,875: AGV04 battery 0.292 check failed: no_idle_9.521
[INFO]2021-05-08 16:02:04,957: task[6096457b73dabd254079b85a]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 8, 16, 2, 4, 941155), 'updateTime': datetime.datetime(2021, 5, 8, 16, 2, 4, 941155), 'status': 'running'}
[INFO]2021-05-08 16:02:05,010: task: start task[6096457b73dabd254079b85a][-] AP22(LM17) -> AP25(LM24) [waiting]
[INFO]2021-05-08 16:02:05,027: this is handle taskStep=============>waiting
[INFO]2021-05-08 16:02:05,050: task[6096457b73dabd254079b85a] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 8, 16, 2, 5, 45619)}
[DEBUG]2021-05-08 16:02:05,074: task[6096457b73dabd254079b85a][-] AP22(LM17) -> AP25(LM24) [waitForAgv] waiting -> waitForAgv
[ERROR]2021-05-08 16:02:05,348: connect AGV01 failed timed out
[ERROR]2021-05-08 16:02:05,360: connect AGV03 failed timed out
[ERROR]2021-05-08 16:02:05,366: connect AGV02 failed timed out
[DEBUG]2021-05-08 16:02:05,429: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 16:02:05,470: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 16:02:05,488: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 16:02:06,312: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 16:02:06,354: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-08 16:02:06,480: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=6096457b73dabd254079b85a&timeout=10 addr: 127.0.0.1
[INFO]2021-05-08 16:02:06,498: agvControl中的_apply进去
[INFO]2021-05-08 16:02:06,529: [('comba-ZXC-F3.LM20', 'AGV04')]
[INFO]2021-05-08 16:02:07,581: apply AGV04 ,taskId: 6096457b73dabd254079b85a ,loc comba-ZXC-F3.AP22 ,autoLock False , used 1052 ms
[INFO]2021-05-08 16:02:07,623: AGV04
[INFO]2021-05-08 16:02:07,676: 5555555555555555555555555
[INFO]2021-05-08 16:02:07,699: 6666666666666666666666666
[INFO]2021-05-08 16:02:07,807: AGV04
[DEBUG]2021-05-08 16:02:07,824: used 1344ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=6096457b73dabd254079b85a&timeout=10
[INFO]2021-05-08 16:02:07,906: comba-ZXC-F3.AP22 comba-ZXC-F3.AP25
[INFO]2021-05-08 16:02:07,929: AGV04
[INFO]2021-05-08 16:02:07,972: 判断类型
[INFO]2021-05-08 16:02:07,990: 1111111111111111111111
[DEBUG]2021-05-08 16:02:08,130: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV04&appName=akmTask&taskId=6096457b73dabd254079b85a addr: 127.0.0.1
[DEBUG]2021-05-08 16:02:08,165: lock:  AGV04 taskId 6096457b73dabd254079b85a app akmTask
[WARN]2021-05-08 16:02:09,189: AGV04 clear task finish, cur= comba-ZXC-F3.LM20 task_status= 4
[DEBUG]2021-05-08 16:02:09,225: used 1095ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV04&appName=akmTask&taskId=6096457b73dabd254079b85a
[INFO]2021-05-08 16:02:09,288: 22222222222222222222222
[INFO]2021-05-08 16:02:09,329: AGV04
[INFO]2021-05-08 16:02:09,353: task[6096457b73dabd254079b85a][-] AP22(LM17) -> AP25(LM24) [waitForAgv] apply AGV04
[INFO]2021-05-08 16:02:09,412: task[6096457b73dabd254079b85a] update info: {'agvId': 'AGV04', 'failMsg': '成功分配小车AGV04', 'updateTime': datetime.datetime(2021, 5, 8, 16, 2, 9, 392996)}
[WARN]2021-05-08 16:02:09,429: scada.6096457b73dabd254079b85a[tid:9060] <locked _thread.RLock object owner=9060 count=1 at 0x0000025BEDF64210> ,hold 3075 ms
[INFO]2021-05-08 16:02:09,605: name=scada.6096457b73dabd254079b85a, pid=9536, tid=9060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 916, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 16:02:09,704: task[6096457b73dabd254079b85a][AGV04] AP22(LM17) -> AP25(LM24) [initAGV] waitForAgv -> initAGV
[INFO]2021-05-08 16:02:10,074: this is handle taskStep=============>initAGV
[INFO]2021-05-08 16:02:10,142: task[6096457b73dabd254079b85a] update info: {'failMsg': '前往三楼夹具点A工位点', 'updateTime': datetime.datetime(2021, 5, 8, 16, 2, 10, 131987)}
[DEBUG]2021-05-08 16:02:10,174: task[6096457b73dabd254079b85a][AGV04] AP22(LM17) -> AP25(LM24) [startMoveAGV] initAGV -> startMoveAGV
[INFO]2021-05-08 16:02:10,566: this is handle taskStep=============>startMoveAGV
[DEBUG]2021-05-08 16:02:10,628: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6096457b73dabd254079b85a_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-05-08 16:02:10,658: Begin: AGV04 move from comba-ZXC-F3.LM20 to comba-ZXC-F3.AP22 by paths: [('comba-ZXC-F3', ['LM20', 'LM21', 'LM17', 'AP18', 'AP22'], 5.569704036667539)] task: 6096457b73dabd254079b85a_2 timeout 86400 used 23 ms
[DEBUG]2021-05-08 16:02:10,661: used 33ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6096457b73dabd254079b85a_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[DEBUG]2021-05-08 16:02:10,664: task[6096457b73dabd254079b85a][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload] startMoveAGV -> loadPlayload
[INFO]2021-05-08 16:02:10,967: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:11,269: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:11,516: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM21 ,taskId 6096457b73dabd254079b85a_2
[INFO]2021-05-08 16:02:11,575: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:11,877: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:12,183: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:12,488: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:12,792: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:13,095: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:13,400: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:13,702: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:14,008: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:14,311: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:14,614: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:14,916: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:15,218: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:15,524: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:15,566: connect AGV01 failed timed out
[INFO]2021-05-08 16:02:15,567: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 16:02:15,568: agvThread.AGV01[tid:8908] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=8908 count=1 at 0x0000025BEB62DA30>> ,hold 20225 ms
[INFO]2021-05-08 16:02:15,569: name=agvThread.AGV01, pid=9536, tid=8908
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:15,648: connect AGV03 failed timed out
[INFO]2021-05-08 16:02:15,652: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 16:02:15,654: agvThread.AGV03[tid:9776] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=9776 count=1 at 0x0000025BEB62DC38>> ,hold 20303 ms
[INFO]2021-05-08 16:02:15,658: name=agvThread.AGV03, pid=9536, tid=9776
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:15,659: connect AGV02 failed timed out
[INFO]2021-05-08 16:02:15,667: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 16:02:15,669: agvThread.AGV02[tid:7632] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000025BEB62D440>> ,hold 20309 ms
[INFO]2021-05-08 16:02:15,673: name=agvThread.AGV02, pid=9536, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 16:02:15,827: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:16,130: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:16,437: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:16,740: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:17,042: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:17,344: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:17,571: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 16:02:17,647: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:17,666: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 16:02:17,678: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 16:02:17,950: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:18,252: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:18,561: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:18,870: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:19,173: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:19,476: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:19,782: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:20,085: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:20,388: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:20,690: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:20,999: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:21,146: raise alarm obj=AGV04, typeId=54231, desc=AGV异常, id=6096458d697d98928ef14446
[INFO]2021-05-08 16:02:21,303: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 16:02:21,405: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=9536, ppid=12332, tid=13452
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 16:02:21,606: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:21,913: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:22,217: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:22,260: raise alarm obj=AGV04, typeId=52200, desc=AGV异常, id=6096458e697d98928ef14448
[DEBUG]2021-05-08 16:02:22,410: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[INFO]2021-05-08 16:02:22,521: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:22,824: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:23,133: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:23,440: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:23,743: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:24,050: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:24,353: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:24,556: raise alarm obj=AGV04, typeId=54004, desc=AGV异常, id=60964590697d98928ef1444b
[ERROR]2021-05-08 16:02:24,572: raise alarm obj=AGV04, typeId=4002, desc=急停按钮处于激活状态, id=60964590697d98928ef1444d
[INFO]2021-05-08 16:02:24,656: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:24,958: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:25,143: raise alarm obj=AGV04, typeId=54013, desc=AGV异常, id=60964591697d98928ef1444f
[ERROR]2021-05-08 16:02:25,161: raise alarm obj=AGV04, typeId=54025, desc=AGV异常
[INFO]2021-05-08 16:02:25,263: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:25,569: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:25,874: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:26,181: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:26,488: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:26,790: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:27,098: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:27,405: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 16:02:27,480: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=140
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 16:02:27,482: worker 4[tid:140] <locked _thread.RLock object owner=140 count=1 at 0x0000025BEA5E07B0> ,hold 21047 ms
[INFO]2021-05-08 16:02:27,484: name=worker 4, pid=9536, tid=140
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 16:02:27,489: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=140
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 16:02:27,498: invoke <function urlReadDOList at 0x0000025BE90FED08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=140
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 16:02:27,572: connect AGV01 failed timed out
[INFO]2021-05-08 16:02:27,573: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 16:02:27,574: agvThread.AGV01[tid:8908] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=8908 count=1 at 0x0000025BEB62DA30>> ,hold 10003 ms
[INFO]2021-05-08 16:02:27,575: name=agvThread.AGV01, pid=9536, tid=8908
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:27,668: connect AGV03 failed timed out
[INFO]2021-05-08 16:02:27,668: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 16:02:27,669: agvThread.AGV03[tid:9776] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=9776 count=1 at 0x0000025BEB62DC38>> ,hold 10003 ms
[INFO]2021-05-08 16:02:27,671: name=agvThread.AGV03, pid=9536, tid=9776
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:27,681: connect AGV02 failed timed out
[INFO]2021-05-08 16:02:27,681: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 16:02:27,682: agvThread.AGV02[tid:7632] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000025BEB62D440>> ,hold 10004 ms
[INFO]2021-05-08 16:02:27,683: name=agvThread.AGV02, pid=9536, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 16:02:27,709: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:28,012: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:28,317: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:28,629: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:28,931: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:29,238: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:29,540: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:29,577: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 16:02:29,673: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 16:02:29,685: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 16:02:29,844: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:30,147: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:30,454: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:30,757: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:31,059: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:31,365: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:31,672: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:31,976: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:32,283: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:32,586: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:32,889: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:33,191: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:33,497: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:33,804: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:34,111: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:34,419: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:34,722: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:35,028: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:35,331: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:35,638: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:35,945: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:36,249: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:36,492: raise alarm obj=AGV04, typeId=54014, desc=AGV异常, id=6096459c697d98928ef14454
[INFO]2021-05-08 16:02:36,556: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:36,873: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:37,180: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 16:02:37,431: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=9536, ppid=12332, tid=13452
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 16:02:37,482: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:37,786: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:38,093: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:38,395: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:38,438: init IO success
[DEBUG]2021-05-08 16:02:38,439: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 16:02:38,702: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:39,009: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:39,312: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:39,580: connect AGV01 failed timed out
[INFO]2021-05-08 16:02:39,582: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 16:02:39,584: agvThread.AGV01[tid:8908] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=8908 count=1 at 0x0000025BEB62DA30>> ,hold 10007 ms
[INFO]2021-05-08 16:02:39,588: name=agvThread.AGV01, pid=9536, tid=8908
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 16:02:39,618: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:39,674: connect AGV03 failed timed out
[INFO]2021-05-08 16:02:39,674: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 16:02:39,675: agvThread.AGV03[tid:9776] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=9776 count=1 at 0x0000025BEB62DC38>> ,hold 10002 ms
[INFO]2021-05-08 16:02:39,677: name=agvThread.AGV03, pid=9536, tid=9776
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:39,686: connect AGV02 failed timed out
[INFO]2021-05-08 16:02:39,687: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 16:02:39,688: agvThread.AGV02[tid:7632] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000025BEB62D440>> ,hold 10003 ms
[INFO]2021-05-08 16:02:39,689: name=agvThread.AGV02, pid=9536, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 16:02:39,921: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:40,231: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:40,533: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:40,837: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:41,144: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:41,448: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:41,589: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 16:02:41,679: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 16:02:41,691: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 16:02:41,755: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:42,057: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:42,360: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:42,662: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:42,965: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 16:02:43,007: clear alarm obj=AGV04, typeId=54014, id=6096459c697d98928ef14454
[INFO]2021-05-08 16:02:43,272: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:43,575: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:43,881: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:44,188: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:44,491: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:44,794: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:45,101: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 16:02:45,120: clear alarm obj=AGV04, typeId=54025, id=6096439e697d98928ef14384
[WARN]2021-05-08 16:02:45,126: clear alarm obj=AGV04, typeId=54231, id=6096458d697d98928ef14446
[WARN]2021-05-08 16:02:45,129: clear alarm obj=AGV04, typeId=52200, id=6096458e697d98928ef14448
[WARN]2021-05-08 16:02:45,132: clear alarm obj=AGV04, typeId=54004, id=60964590697d98928ef1444b
[WARN]2021-05-08 16:02:45,135: clear alarm obj=AGV04, typeId=54013, id=60964591697d98928ef1444f
[WARN]2021-05-08 16:02:45,143: clear alarm obj=AGV04, typeId=4002, id=60964590697d98928ef1444d
[INFO]2021-05-08 16:02:45,417: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:45,720: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:46,023: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:46,326: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:46,631: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:46,933: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:47,239: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:47,542: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:47,849: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:48,151: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:48,159: raise alarm obj=AGV04, typeId=54004, desc=AGV异常, id=609645a8697d98928ef14496
[ERROR]2021-05-08 16:02:48,172: raise alarm obj=AGV04, typeId=4002, desc=急停按钮处于激活状态, id=609645a8697d98928ef1449b
[INFO]2021-05-08 16:02:48,461: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 16:02:48,500: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=7576
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 16:02:48,505: worker 8[tid:7576] <locked _thread.RLock object owner=7576 count=1 at 0x0000025BEA5E0BE8> ,hold 26079 ms
[INFO]2021-05-08 16:02:48,508: name=worker 8, pid=9536, tid=7576
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 16:02:48,521: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=7576
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 16:02:48,531: invoke <function urlReadDOList at 0x0000025BE90FED08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=7576
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 16:02:48,738: raise alarm obj=AGV04, typeId=54013, desc=AGV异常, id=609645a8697d98928ef1449d
[ERROR]2021-05-08 16:02:48,740: raise alarm obj=AGV04, typeId=54025, desc=AGV异常, id=609645a8697d98928ef1449f
[INFO]2021-05-08 16:02:48,764: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:49,067: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:49,375: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:49,682: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:49,989: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:50,296: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:50,599: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:50,901: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:51,205: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:51,512: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 16:02:51,592: connect AGV01 failed timed out
[INFO]2021-05-08 16:02:51,592: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 16:02:51,593: agvThread.AGV01[tid:8908] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=8908 count=1 at 0x0000025BEB62DA30>> ,hold 10004 ms
[INFO]2021-05-08 16:02:51,594: name=agvThread.AGV01, pid=9536, tid=8908
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:51,682: connect AGV03 failed timed out
[INFO]2021-05-08 16:02:51,684: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 16:02:51,685: agvThread.AGV03[tid:9776] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=9776 count=1 at 0x0000025BEB62DC38>> ,hold 10006 ms
[INFO]2021-05-08 16:02:51,686: name=agvThread.AGV03, pid=9536, tid=9776
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 16:02:51,694: connect AGV02 failed timed out
[INFO]2021-05-08 16:02:51,695: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 16:02:51,696: agvThread.AGV02[tid:7632] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=7632 count=1 at 0x0000025BEB62D440>> ,hold 10005 ms
[INFO]2021-05-08 16:02:51,697: name=agvThread.AGV02, pid=9536, tid=7632
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 16:02:51,819: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:52,121: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:52,430: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:52,734: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:53,036: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:53,340: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 16:02:53,445: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=9536, ppid=12332, tid=13452
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-08 16:02:53,598: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 16:02:53,646: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:53,689: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 16:02:53,699: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 16:02:53,953: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:54,256: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:54,451: remoteio is alarm: ['upStation01', 'downStation01']
[WARN]2021-05-08 16:02:54,456: clear alarm obj=upStation01, typeId=39998, id=609643a3697d98928ef1438d
[WARN]2021-05-08 16:02:54,459: clear alarm obj=downStation01, typeId=39998, id=609643a3697d98928ef1438f
[INFO]2021-05-08 16:02:54,558: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:54,874: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:55,179: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 16:02:55,475: AGV04 low battery charge,batteryLevel= 0.292 start charge level= 0.400
[WARN]2021-05-08 16:02:55,479: AGV04 battery 0.292 check failed: emergency
[INFO]2021-05-08 16:02:55,486: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:55,797: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:56,099: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:56,402: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:56,584: remoteio is alarm: []
[INFO]2021-05-08 16:02:56,712: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:57,019: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:57,322: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 16:02:57,586: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 16:02:57,629: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:57,933: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:58,236: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:58,538: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:58,841: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:02:59,148: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 16:02:59,443: worker 0[tid:528] <locked _thread.RLock object owner=528 count=1 at 0x0000025BEA5E07B0> ,hold 21001 ms
[INFO]2021-05-08 16:02:59,445: name=worker 0, pid=9536, tid=528
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 16:02:59,453: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=528
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 16:02:59,456: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 16:02:59,460: invoke <function urlReadDOList at 0x0000025BE90FED08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=9536, ppid=12332, tid=528
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 16:02:59,762: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:00,065: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:00,367: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:00,670: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:00,973: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:01,277: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:01,583: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:01,887: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:02,194: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:02,500: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 16:03:02,803: this is handle taskStep=============>loadPlayload
