[INFO]2021-05-08 15:32:27,304: log files at C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\log
[INFO]2021-05-08 15:32:27,304: find module agvCtrl.main_agv
[INFO]2021-05-08 15:32:27,305: find module agvDevice.main_agvDevice
[INFO]2021-05-08 15:32:27,305: find module alarm.main_alarm
[INFO]2021-05-08 15:32:27,306: find module auth.main_auth
[INFO]2021-05-08 15:32:27,306: find module autoCtrl.main_akmCtrl
[INFO]2021-05-08 15:32:27,306: find module door.main_door
[INFO]2021-05-08 15:32:27,306: find module elevator.main_elevator
[INFO]2021-05-08 15:32:27,307: find module feed.main_feed
[INFO]2021-05-08 15:32:27,312: find module remoteio.main_remoteio
[INFO]2021-05-08 15:32:27,313: import agvCtrl.main_agv
[INFO]2021-05-08 15:32:27,549: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF4567B0>>
[INFO]2021-05-08 15:32:27,551: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF456918>>
[INFO]2021-05-08 15:32:27,599: create lock <lock name:timer.lock_2365980322336,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF69F440>>
[ERROR]2021-05-08 15:32:27,606: mqtt is disabled
[INFO]2021-05-08 15:32:27,607: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-08 15:32:27,607: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-08 15:32:30,625: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-08 15:32:30,668: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF868B48>>
[INFO]2021-05-08 15:32:30,669: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF868788>>
[INFO]2021-05-08 15:32:30,670: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF868300>>
[INFO]2021-05-08 15:32:30,678: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DF972760>>
[INFO]2021-05-08 15:32:30,824: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DDC1C198>>
[INFO]2021-05-08 15:32:31,037: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DFA3EE40>>
[INFO]2021-05-08 15:32:31,040: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DFA86F30>>
[INFO]2021-05-08 15:32:31,089: charge policy 0 , fix time
[INFO]2021-05-08 15:32:31,114: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DFAFD1C0>>
[INFO]2021-05-08 15:32:31,540: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap
[DEBUG]2021-05-08 15:32:31,619: elevator thread start
[INFO]2021-05-08 15:32:31,633: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-3F_0419.smap ,used 100 ms
[INFO]2021-05-08 15:32:31,641: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap
[INFO]2021-05-08 15:32:31,783: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZSC-F1-F3.smap ,used 149 ms
[INFO]2021-05-08 15:32:31,791: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap
[INFO]2021-05-08 15:32:31,864: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-3F.smap ,used 80 ms
[INFO]2021-05-08 15:32:31,872: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap
[INFO]2021-05-08 15:32:33,054: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\comba-ZXC-F3.smap ,used 1188 ms
[INFO]2021-05-08 15:32:33,062: start load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap
[INFO]2021-05-08 15:32:33,094: load map C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl\projects\knowledgeCity\office.smap ,used 39 ms
[INFO]2021-05-08 15:32:33,098: import agvDevice.main_agvDevice
[INFO]2021-05-08 15:32:33,099: import alarm.main_alarm
[INFO]2021-05-08 15:32:33,100: import auth.main_auth
[INFO]2021-05-08 15:32:33,106: import autoCtrl.main_akmCtrl
[INFO]2021-05-08 15:32:33,115: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DFF61E40>>
[INFO]2021-05-08 15:32:33,121: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DFF61058>>
[INFO]2021-05-08 15:32:33,140: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226DFF24B98>>
[INFO]2021-05-08 15:32:33,142: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0213AA8>>
[INFO]2021-05-08 15:32:33,671: import door.main_door
[INFO]2021-05-08 15:32:33,673: import elevator.main_elevator
[INFO]2021-05-08 15:32:33,674: import feed.main_feed
[INFO]2021-05-08 15:32:33,680: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E05240F8>>
[INFO]2021-05-08 15:32:33,711: import remoteio.main_remoteio
[SUCC]2021-05-08 15:32:33,726: utility start, pid=6924, ppid=12108
[DEBUG]2021-05-08 15:32:33,727: create aliveObj upStation01 远程控制IO离线异常 timeout 120
[DEBUG]2021-05-08 15:32:33,727: start timer
[DEBUG]2021-05-08 15:32:33,728: create aliveObj downStation01 远程控制IO离线异常 timeout 120
[INFO]2021-05-08 15:32:33,736: load agv file: C:\Users\comba\Desktop\知识城地牛\knowledgeCity\agvCtrl/projects/knowledgeCity/agv.cfg
[INFO]2021-05-08 15:32:33,737: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E05BEEB8>>
[DEBUG]2021-05-08 15:32:33,739: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-05-08 15:32:33,740: AGV01 start agvList run thread
[INFO]2021-05-08 15:32:33,740: AGV01 start agvList run2 thread
[INFO]2021-05-08 15:32:33,741: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0671120>>
[DEBUG]2021-05-08 15:32:33,742: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:32:33,743: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0671080>>
[DEBUG]2021-05-08 15:32:33,745: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-05-08 15:32:33,746: AGV03 start agvList run thread
[INFO]2021-05-08 15:32:33,746: AGV03 start agvList run2 thread
[INFO]2021-05-08 15:32:33,746: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E06713A0>>
[INFO]2021-05-08 15:32:33,747: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E06713F0>>
[DEBUG]2021-05-08 15:32:33,749: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:32:33,751: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-05-08 15:32:33,751: AGV04 start agvList run thread
[INFO]2021-05-08 15:32:33,752: AGV04 start agvList run2 thread
[INFO]2021-05-08 15:32:33,752: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0671620>>
[INFO]2021-05-08 15:32:33,752: create lock <lock name:agv.AGV04.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0671670>>
[DEBUG]2021-05-08 15:32:33,753: try connect AGV04 172.16.217.211:19204
[DEBUG]2021-05-08 15:32:33,755: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-05-08 15:32:33,756: AGV02 start agvList run thread
[INFO]2021-05-08 15:32:33,756: AGV02 start agvList run2 thread
[WARN]2021-05-08 15:32:33,756: Local server start! version 3.7.0, path C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common, pid 6924
[INFO]2021-05-08 15:32:33,756: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E05BEDF0>>
[INFO]2021-05-08 15:32:33,757: add_ignore: taskStatus
[DEBUG]2021-05-08 15:32:33,758: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 15:32:33,786: AGV04 connected 172.16.217.211 19204
[INFO]2021-05-08 15:32:33,790: create lock <lock name:agv.AGV04.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0671828>>
[DEBUG]2021-05-08 15:32:33,790: try connect AGV04 172.16.217.211:19205
[INFO]2021-05-08 15:32:33,805: AGV04 connected 172.16.217.211 19205
[INFO]2021-05-08 15:32:33,809: create lock <lock name:agv.AGV04.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0690490>>
[DEBUG]2021-05-08 15:32:33,809: try connect AGV04 172.16.217.211:19206
[INFO]2021-05-08 15:32:33,814: AGV04 connected 172.16.217.211 19206
[INFO]2021-05-08 15:32:33,815: create lock <lock name:agv.AGV04.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E06904E0>>
[DEBUG]2021-05-08 15:32:33,815: try connect AGV04 172.16.217.211:19207
[INFO]2021-05-08 15:32:33,831: AGV04 connected 172.16.217.211 19207
[INFO]2021-05-08 15:32:33,831: create lock <lock name:agv.AGV04.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0690530>>
[DEBUG]2021-05-08 15:32:33,833: try connect AGV04 172.16.217.211:19208
[INFO]2021-05-08 15:32:33,848: AGV04 connected 172.16.217.211 19208
[INFO]2021-05-08 15:32:33,848: create lock <lock name:agv.AGV04.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x00000226E0690508>>
[DEBUG]2021-05-08 15:32:33,849: try connect AGV04 172.16.217.211:19210
[INFO]2021-05-08 15:32:33,859: AGV04 connected 172.16.217.211 19210
[INFO]2021-05-08 15:32:33,881: AGV04 current map comba-ZXC-F3
[INFO]2021-05-08 15:32:33,923: AGV04 is online
[WARN]2021-05-08 15:32:33,930: clear alarm obj=AGV04, typeId=54231, id=60963ccc697d98928ef13f90
[WARN]2021-05-08 15:32:33,934: clear alarm obj=AGV04, typeId=52200, id=60963cce697d98928ef13f93
[DEBUG]2021-05-08 15:32:38,745: GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-05-08 15:32:38,748: akmTask init client agvApi
[DEBUG]2021-05-08 15:32:38,750: used 5ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/init?appName=akmTask
[DEBUG]2021-05-08 15:32:41,809: GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask addr: 127.0.0.1
[DEBUG]2021-05-08 15:32:41,827: used 18ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/startCharge?appName=akmTask
[WARN]2021-05-08 15:32:41,921: timer_thread[tid:3544] <locked _thread.RLock object owner=3544 count=1 at 0x00000226DFF61030> ,hold 8191 ms
[INFO]2021-05-08 15:32:42,005: name=timer_thread, pid=6924, tid=3544
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:32:43,176: AGV04 low battery charge,batteryLevel= 0.324 start charge level= 0.400
[WARN]2021-05-08 15:32:43,193: AGV04 battery 0.324 check failed: no_idle_9.44
[DEBUG]2021-05-08 15:32:43,483: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 15:32:43,753: connect AGV03 failed timed out
[ERROR]2021-05-08 15:32:43,755: connect AGV01 failed timed out
[DEBUG]2021-05-08 15:32:43,778: try connect AGV03 172.16.217.121:19204
[ERROR]2021-05-08 15:32:43,784: connect AGV02 failed timed out
[DEBUG]2021-05-08 15:32:43,820: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:32:43,909: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-05-08 15:32:46,228: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[DEBUG]2021-05-08 15:32:46,251: GET: http://172.16.217.178:8999/api/manual/tasklist addr: 172.16.217.105
[INFO]2021-05-08 15:32:46,256: getseat
[INFO]2021-05-08 15:32:46,292: gettasklist
[DEBUG]2021-05-08 15:32:46,297: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[DEBUG]2021-05-08 15:32:46,308: GET: http://172.16.217.178:8999/api/manual/seat addr: 172.16.217.105
[DEBUG]2021-05-08 15:32:46,378: used 70ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/manual/seat
[INFO]2021-05-08 15:32:46,447: getseat
[INFO]2021-05-08 15:32:46,501: getseat
[DEBUG]2021-05-08 15:32:46,794: GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F addr: 172.16.217.105
[DEBUG]2021-05-08 15:32:46,830: used 36ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/agv/agvStatusList?mapId=comba-ZXC-3F
[ERROR]2021-05-08 15:32:53,893: connect AGV03 failed timed out
[INFO]2021-05-08 15:32:53,917: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:32:53,976: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 20227 ms
[ERROR]2021-05-08 15:32:53,988: connect AGV01 failed timed out
[ERROR]2021-05-08 15:32:54,053: connect AGV02 failed timed out
[INFO]2021-05-08 15:32:54,053: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-05-08 15:32:54,088: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:32:54,088: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:32:54,105: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 20363 ms
[WARN]2021-05-08 15:32:54,181: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 20423 ms
[INFO]2021-05-08 15:32:54,322: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:32:54,387: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:32:56,128: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:32:56,376: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:32:56,417: try connect AGV02 172.16.217.213:19204
[CRITICAL]2021-05-08 15:32:58,945: upStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[DEBUG]2021-05-08 15:33:00,004: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=downStation01
[DEBUG]2021-05-08 15:33:03,966: GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C addr: 172.16.217.105
[INFO]2021-05-08 15:33:04,006: Scada send a task to the server from 三楼夹具点A to 三楼夹具点C payloadId: None
[INFO]2021-05-08 15:33:04,065: create task[60963eb073dabd1b0c2f26a1]: type= scadaTask , 从三楼夹具点A运送货架到三楼夹具点C {'source': '三楼夹具点A', 'target': '三楼夹具点C', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼夹具点A运送货架到三楼夹具点C', 'createTime': datetime.datetime(2021, 5, 8, 15, 33, 4, 53584), 'updateTime': datetime.datetime(2021, 5, 8, 15, 33, 4, 53584), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'msg': None, 'history': [], '_id': ObjectId('60963eb073dabd1b0c2f26a1')}
[INFO]2021-05-08 15:33:04,101: 三楼夹具点C 三楼夹具点A
[INFO]2021-05-08 15:33:04,194: task[60963eb073dabd1b0c2f26a1][-] AP22(LM17) -> AP25(LM24) [waiting] is inside False
[INFO]2021-05-08 15:33:04,229: task cmd: got a task from scada task[60963eb073dabd1b0c2f26a1][-] AP22(LM17) -> AP25(LM24) [waiting]
[DEBUG]2021-05-08 15:33:04,253: used 287ms 200 OK application/json;charset=utf-8, GET: http://172.16.217.178:8999/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9A&target=%E4%B8%89%E6%A5%BC%E5%A4%B9%E5%85%B7%E7%82%B9C
[CRITICAL]2021-05-08 15:33:04,926: [modbusApi: 172.16.167.221] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=10016
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:33:04,978: worker 5[tid:10016] <locked _thread.RLock object owner=10016 count=1 at 0x00000226DFF24210> ,hold 21395 ms
[INFO]2021-05-08 15:33:05,441: name=worker 5, pid=6924, tid=10016
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:33:05,555: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=10016
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:33:05,687: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=10016
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 15:33:06,251: connect AGV03 failed timed out
[INFO]2021-05-08 15:33:06,316: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:33:06,340: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10212 ms
[INFO]2021-05-08 15:33:06,399: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:33:06,428: connect AGV01 failed timed out
[ERROR]2021-05-08 15:33:06,480: connect AGV02 failed timed out
[INFO]2021-05-08 15:33:06,486: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-05-08 15:33:06,504: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:33:06,521: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10145 ms
[WARN]2021-05-08 15:33:06,550: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10133 ms
[INFO]2021-05-08 15:33:06,658: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:06,664: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:33:08,443: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:33:08,739: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:33:08,762: try connect AGV02 172.16.217.213:19204
[CRITICAL]2021-05-08 15:33:15,149: downStation01 init failed cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 175, in _checkInit
    s = ioApi.readDOList(devices[d][ioId])["status"]
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'downStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:33:16,203: init IO success
[DEBUG]2021-05-08 15:33:16,250: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 15:33:18,498: connect AGV03 failed timed out
[INFO]2021-05-08 15:33:18,545: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:33:18,563: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10120 ms
[INFO]2021-05-08 15:33:18,625: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:33:18,849: connect AGV01 failed timed out
[ERROR]2021-05-08 15:33:18,861: connect AGV02 failed timed out
[INFO]2021-05-08 15:33:18,879: AGV01 checkLink failed 172.16.217.209 19204
[INFO]2021-05-08 15:33:18,944: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:33:18,974: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10235 ms
[WARN]2021-05-08 15:33:19,043: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10281 ms
[INFO]2021-05-08 15:33:19,142: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:19,148: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:33:20,696: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:33:21,209: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:33:21,280: try connect AGV02 172.16.217.213:19204
[CRITICAL]2021-05-08 15:33:25,683: [modbusApi: 172.16.167.220] execute fcode=1, addr=8256 exception:  cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=8844
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:33:25,718: worker 4[tid:8844] <locked _thread.RLock object owner=8844 count=1 at 0x00000226DFF24530> ,hold 25627 ms
[INFO]2021-05-08 15:33:25,822: name=worker 4, pid=6924, tid=8844
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:33:25,918: downStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=8844
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:33:26,002: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=8844
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 314, in _read
    s = self.master.read(mdef.READ_COILS,addr, length)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[ERROR]2021-05-08 15:33:30,818: connect AGV03 failed timed out
[INFO]2021-05-08 15:33:30,868: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:33:30,910: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10214 ms
[INFO]2021-05-08 15:33:30,969: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:33:31,283: connect AGV01 failed timed out
[INFO]2021-05-08 15:33:31,307: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:33:31,325: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10116 ms
[ERROR]2021-05-08 15:33:31,349: connect AGV02 failed timed out
[INFO]2021-05-08 15:33:31,446: AGV02 checkLink failed 172.16.217.213 19204
[INFO]2021-05-08 15:33:31,446: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:33:31,452: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10172 ms
[CRITICAL]2021-05-08 15:33:31,488: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:33:31,630: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:33:32,781: clear alarm obj=upStation01, typeId=39998, id=60963cf4697d98928ef13fb1
[WARN]2021-05-08 15:33:32,905: clear alarm obj=downStation01, typeId=39998, id=60963cf4697d98928ef13fb3
[DEBUG]2021-05-08 15:33:33,007: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:33:33,511: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:33:33,698: try connect AGV02 172.16.217.213:19204
[WARN]2021-05-08 15:33:34,318: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[INFO]2021-05-08 15:33:34,353: AGV04 battery 0.320 check success
[WARN]2021-05-08 15:33:34,514: AGV04 Can't find charge point at comba-ZXC-F3 battery: 0.320
[INFO]2021-05-08 15:33:34,549: task[60963eb073dabd1b0c2f26a1]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 5, 8, 15, 33, 34, 537857), 'updateTime': datetime.datetime(2021, 5, 8, 15, 33, 34, 537857), 'status': 'running'}
[INFO]2021-05-08 15:33:34,585: task: start task[60963eb073dabd1b0c2f26a1][-] AP22(LM17) -> AP25(LM24) [waiting]
[INFO]2021-05-08 15:33:34,603: this is handle taskStep=============>waiting
[INFO]2021-05-08 15:33:34,656: task[60963eb073dabd1b0c2f26a1] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 5, 8, 15, 33, 34, 632604)}
[DEBUG]2021-05-08 15:33:34,674: task[60963eb073dabd1b0c2f26a1][-] AP22(LM17) -> AP25(LM24) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-05-08 15:33:35,618: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 15:33:36,036: this is handle taskStep=============>waitForAgv
[DEBUG]2021-05-08 15:33:36,142: GET: http://127.0.0.1:8999/api/agv/apply?appName=akmTask&autoLock=False&exclude&loc=AP22&mapId=comba-ZXC-F3&taskId=60963eb073dabd1b0c2f26a1&timeout=10 addr: 127.0.0.1
[INFO]2021-05-08 15:33:36,160: agvControl中的_apply进去
[INFO]2021-05-08 15:33:36,190: [('comba-ZXC-F3.LM20', 'AGV04')]
[INFO]2021-05-08 15:33:37,220: apply AGV04 ,taskId: 60963eb073dabd1b0c2f26a1 ,loc comba-ZXC-F3.AP22 ,autoLock False , used 1030 ms
[INFO]2021-05-08 15:33:37,256: AGV04
[INFO]2021-05-08 15:33:37,291: 5555555555555555555555555
[INFO]2021-05-08 15:33:37,309: 6666666666666666666666666
[INFO]2021-05-08 15:33:37,344: AGV04
[INFO]2021-05-08 15:33:37,393: comba-ZXC-F3.AP22 comba-ZXC-F3.AP25
[WARN]2021-05-08 15:33:37,423: worker 1[tid:11328] <locked _thread.RLock object owner=11328 count=1 at 0x00000226DFF24210> ,hold 21042 ms
[INFO]2021-05-08 15:33:37,464: AGV04
[INFO]2021-05-08 15:33:37,522: 判断类型
[INFO]2021-05-08 15:33:37,546: 1111111111111111111111
[INFO]2021-05-08 15:33:37,551: name=worker 1, pid=6924, tid=11328
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:33:37,654: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=11328
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-08 15:33:37,667: GET: http://127.0.0.1:8999/api/agv/lock?agv=AGV04&appName=akmTask&taskId=60963eb073dabd1b0c2f26a1 addr: 127.0.0.1
[CRITICAL]2021-05-08 15:33:37,711: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=11328
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[DEBUG]2021-05-08 15:33:37,752: lock:  AGV04 taskId 60963eb073dabd1b0c2f26a1 app akmTask
[WARN]2021-05-08 15:33:38,853: AGV04 clear task finish, cur= comba-ZXC-F3.LM20 task_status= 4
[INFO]2021-05-08 15:33:39,012: 22222222222222222222222
[INFO]2021-05-08 15:33:39,024: AGV04
[INFO]2021-05-08 15:33:39,054: task[60963eb073dabd1b0c2f26a1][-] AP22(LM17) -> AP25(LM24) [waitForAgv] apply AGV04
[INFO]2021-05-08 15:33:39,090: task[60963eb073dabd1b0c2f26a1] update info: {'agvId': 'AGV04', 'failMsg': '成功分配小车AGV04', 'updateTime': datetime.datetime(2021, 5, 8, 15, 33, 39, 84669)}
[WARN]2021-05-08 15:33:39,142: scada.60963eb073dabd1b0c2f26a1[tid:9184] <locked _thread.RLock object owner=9184 count=1 at 0x00000226E01C8E18> ,hold 3106 ms
[INFO]2021-05-08 15:33:39,266: name=scada.60963eb073dabd1b0c2f26a1, pid=6924, tid=9184
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 916, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:33:39,308: task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [initAGV] waitForAgv -> initAGV
[INFO]2021-05-08 15:33:39,660: this is handle taskStep=============>initAGV
[INFO]2021-05-08 15:33:39,701: task[60963eb073dabd1b0c2f26a1] update info: {'failMsg': '前往三楼夹具点A工位点', 'updateTime': datetime.datetime(2021, 5, 8, 15, 33, 39, 696001)}
[DEBUG]2021-05-08 15:33:39,708: task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [startMoveAGV] initAGV -> startMoveAGV
[INFO]2021-05-08 15:33:40,071: this is handle taskStep=============>startMoveAGV
[DEBUG]2021-05-08 15:33:40,123: GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=60963eb073dabd1b0c2f26a1_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-05-08 15:33:40,129: Begin: AGV04 move from comba-ZXC-F3.LM20 to comba-ZXC-F3.AP22 by paths: [('comba-ZXC-F3', ['LM20', 'LM21', 'LM17', 'AP18', 'AP22'], 5.569704036667539)] task: 60963eb073dabd1b0c2f26a1_2 timeout 86400 used 4 ms
[DEBUG]2021-05-08 15:33:40,130: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/move?WorkPlace=true&agv=AGV04&agvId=AGV04&appName=akmTask&direction=None&floorId=comba-ZXC-F3&isRotate&loc=comba-ZXC-F3.AP22&location=AP22&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=60963eb073dabd1b0c2f26a1_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[DEBUG]2021-05-08 15:33:40,132: task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload] startMoveAGV -> loadPlayload
[INFO]2021-05-08 15:33:40,435: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:40,746: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:40,923: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM21 ,taskId 60963eb073dabd1b0c2f26a1_2
[INFO]2021-05-08 15:33:41,062: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:41,368: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:41,670: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:41,973: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:42,279: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:42,585: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:42,887: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:33:43,083: connect AGV03 failed timed out
[INFO]2021-05-08 15:33:43,083: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:33:43,084: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10077 ms
[INFO]2021-05-08 15:33:43,085: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:43,190: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:43,493: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:33:43,588: connect AGV01 failed timed out
[INFO]2021-05-08 15:33:43,590: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:33:43,591: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10080 ms
[INFO]2021-05-08 15:33:43,592: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:33:43,775: connect AGV02 failed timed out
[INFO]2021-05-08 15:33:43,779: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:33:43,781: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10083 ms
[INFO]2021-05-08 15:33:43,785: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:43,797: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:44,103: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:44,409: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:44,711: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:45,017: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:45,088: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:33:45,319: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:45,595: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:33:45,626: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:45,791: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 15:33:45,928: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:46,232: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:46,537: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:46,842: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:47,141: AGV04 turn to wait check cur LM20 next LM17 0.658 False
[INFO]2021-05-08 15:33:47,145: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:47,447: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:47,652: agvInfo: AGV04 comba-ZXC-F3.LM20 move to comba-ZXC-F3.LM17 ,taskId 60963eb073dabd1b0c2f26a1_2
[INFO]2021-05-08 15:33:47,750: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:48,054: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:48,155: AGV04 set loc comba-ZXC-F3.LM21 ,old LM20 (9.11,6.18)
[INFO]2021-05-08 15:33:48,361: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:48,363: AGV04 turn to wait check cur LM21 next AP18 0.452 False
[INFO]2021-05-08 15:33:48,666: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:48,887: agvInfo: AGV04 comba-ZXC-F3.LM21 move to comba-ZXC-F3.AP18 ,taskId 60963eb073dabd1b0c2f26a1_2
[INFO]2021-05-08 15:33:48,968: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:49,270: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:49,581: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:49,887: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:50,191: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:50,494: this is handle taskStep=============>loadPlayload
[CRITICAL]2021-05-08 15:33:50,747: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:33:50,798: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:51,101: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:51,406: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:51,709: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:51,754: remoteio is alarm: []
[INFO]2021-05-08 15:33:52,012: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:52,315: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:52,622: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:33:52,759: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:33:52,761: AGV04 battery 0.320 check failed: isLocked
[DEBUG]2021-05-08 15:33:52,761: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[INFO]2021-05-08 15:33:52,927: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:53,229: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:53,535: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:53,839: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:54,141: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:54,443: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:54,749: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:55,051: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:33:55,093: connect AGV03 failed timed out
[INFO]2021-05-08 15:33:55,097: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:33:55,098: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10010 ms
[INFO]2021-05-08 15:33:55,099: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:55,358: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:33:55,599: connect AGV01 failed timed out
[INFO]2021-05-08 15:33:55,600: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:33:55,601: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10006 ms
[INFO]2021-05-08 15:33:55,602: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:55,660: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:33:55,792: connect AGV02 failed timed out
[INFO]2021-05-08 15:33:55,797: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:33:55,799: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10008 ms
[INFO]2021-05-08 15:33:55,804: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:33:55,962: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:56,025: AGV04 set loc comba-ZXC-F3.LM17 ,old LM21 (9.19,5.82)
[DEBUG]2021-05-08 15:33:56,139: AGV04 choise next pos cur LM17 next AP22 pre AP18 1.977 False
[DEBUG]2021-05-08 15:33:56,140: AGV04 turn to wait check cur LM17 next AP22 1.977 False
[INFO]2021-05-08 15:33:56,264: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:56,572: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:56,647: agvInfo: AGV04 comba-ZXC-F3.LM17 move jackup to comba-ZXC-F3.AP22 ,taskId 60963eb073dabd1b0c2f26a1_2
[INFO]2021-05-08 15:33:56,649: --------------------跳转到driver下的seerAgv下的agcCtrl.py中的goTargetAndDoWork函数中-----------------10---------
[INFO]2021-05-08 15:33:56,652: 1
[INFO]2021-05-08 15:33:56,653: {'id': 'AP22', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': False}
[INFO]2021-05-08 15:33:56,654: --------------------------准备进去driver中的seerAgv.py下的task函数-----------------（11）--------------
[INFO]2021-05-08 15:33:56,876: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:57,102: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:33:57,179: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:57,482: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:57,605: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:33:57,788: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:33:57,809: try connect AGV02 172.16.217.213:19204
[INFO]2021-05-08 15:33:58,095: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:58,398: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:33:58,652: worker 7[tid:12900] <locked _thread.RLock object owner=12900 count=1 at 0x00000226DFF24210> ,hold 22864 ms
[INFO]2021-05-08 15:33:58,654: name=worker 7, pid=6924, tid=12900
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:33:58,659: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=12900
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:33:58,664: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=12900
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 15:33:58,700: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:59,003: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:59,307: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:59,613: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:33:59,920: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:00,227: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:00,529: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:00,836: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:01,138: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:01,440: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:01,744: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:02,047: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:02,351: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:02,654: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:02,956: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:03,260: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:03,563: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:03,866: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:04,169: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:04,471: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:04,773: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:05,076: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:05,383: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:05,689: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:05,991: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:06,299: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:34:06,573: AGV04 set loc comba-ZXC-F3.AP18 ,old LM17 (7.80,5.73)
[INFO]2021-05-08 15:34:06,601: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:06,904: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:34:07,103: connect AGV03 failed timed out
[INFO]2021-05-08 15:34:07,108: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:34:07,110: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10008 ms
[INFO]2021-05-08 15:34:07,114: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:34:07,231: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:07,533: this is handle taskStep=============>loadPlayload
[ERROR]2021-05-08 15:34:07,606: connect AGV01 failed timed out
[INFO]2021-05-08 15:34:07,607: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:34:07,608: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10003 ms
[INFO]2021-05-08 15:34:07,609: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:34:07,787: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[ERROR]2021-05-08 15:34:07,814: connect AGV02 failed timed out
[INFO]2021-05-08 15:34:07,818: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:34:07,820: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10011 ms
[INFO]2021-05-08 15:34:07,824: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:34:07,840: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:08,147: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:08,450: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:08,757: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:08,799: remoteio is alarm: []
[DEBUG]2021-05-08 15:34:08,829: AGV04 set loc comba-ZXC-F3.AP22 ,old AP18 (7.38,5.75)
[WARN]2021-05-08 15:34:08,886: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 15:34:09,059: this is handle taskStep=============>loadPlayload
[DEBUG]2021-05-08 15:34:09,120: try connect AGV03 172.16.217.121:19204
[INFO]2021-05-08 15:34:09,366: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:34:09,388: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[DEBUG]2021-05-08 15:34:09,610: try connect AGV01 172.16.217.209:19204
[INFO]2021-05-08 15:34:09,668: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:34:09,805: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:34:09,806: AGV04 battery 0.320 check failed: isLocked
[DEBUG]2021-05-08 15:34:09,807: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-08 15:34:09,831: try connect AGV02 172.16.217.213:19204
[WARN]2021-05-08 15:34:09,891: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 15:34:09,970: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:10,273: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:34:10,392: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 15:34:10,576: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:10,879: this is handle taskStep=============>loadPlayload
[WARN]2021-05-08 15:34:10,896: AGV04 waitFinish status error: AP22 ,target= AP22 task_status= 2
[INFO]2021-05-08 15:34:11,182: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:11,486: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:11,790: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:12,098: this is handle taskStep=============>loadPlayload
[SUCC]2021-05-08 15:34:12,400: Finish:  AGV04 arrived comba-ZXC-F3.AP22 ,task: 60963eb073dabd1b0c2f26a1_2
[INFO]2021-05-08 15:34:12,403: this is handle taskStep=============>loadPlayload
[INFO]2021-05-08 15:34:12,460: task: move finish callback task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [loadPlayload]
[INFO]2021-05-08 15:34:12,461: task[60963eb073dabd1b0c2f26a1] update info: {'failMsg': 'AGV二层出料', 'updateTime': datetime.datetime(2021, 5, 8, 15, 34, 12, 460166)}
[INFO]2021-05-08 15:34:12,705: this is handle taskStep=============>loadPlayload_readqr
[DEBUG]2021-05-08 15:34:12,712: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:12,731: GET: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-05-08 15:34:12,736: AGV04 rollerRobotUnLoad unitId: 2
[DEBUG]2021-05-08 15:34:12,786: used 55ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:12,789: [return] use 77 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotUnLoad?agv=AGV04&timeoutSec=30&unitId=2
[INFO]2021-05-08 15:34:12,790: task[60963eb073dabd1b0c2f26a1] update info: {'failMsg': '二层滚筒出料三楼夹具点C', 'updateTime': datetime.datetime(2021, 5, 8, 15, 34, 12, 789284)}
[DEBUG]2021-05-08 15:34:12,791: task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [checkTwoLayerGoing] loadPlayload_readqr -> checkTwoLayerGoing
[INFO]2021-05-08 15:34:13,095: this is handle taskStep=============>checkTwoLayerGoing
[DEBUG]2021-05-08 15:34:13,125: send http_get: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:13,237: GET: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-05-08 15:34:13,439: AGV04 checkUnitUnloadStatus unitId: 2
[DEBUG]2021-05-08 15:34:13,468: used 231ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:13,556: [return] use 431 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:15,596: send http_get: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:15,763: GET: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2 addr: 127.0.0.1
[INFO]2021-05-08 15:34:15,955: AGV04 checkUnitUnloadStatus unitId: 2
[DEBUG]2021-05-08 15:34:15,996: used 233ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2
[DEBUG]2021-05-08 15:34:16,059: [return] use 463 ms,http_get: http://127.0.0.1:8999/api/agv/checkUnitUnloadStatus?agv=AGV04&timeoutSec=30&unitId=2
[INFO]2021-05-08 15:34:18,094: task[60963eb073dabd1b0c2f26a1] update info: {'step': 'checkTwoLayerFinish', 'msg': '检测2层设置出料完成信号', 'updateTime': datetime.datetime(2021, 5, 8, 15, 34, 18, 88107)}
[WARN]2021-05-08 15:34:18,128: scada.60963eb073dabd1b0c2f26a1[tid:9184] <locked _thread.RLock object owner=9184 count=1 at 0x00000226E01C8E18> ,hold 5033 ms
[INFO]2021-05-08 15:34:18,193: name=scada.60963eb073dabd1b0c2f26a1, pid=6924, tid=9184
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/utility.py", line 167, in __call() 
[03] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/autoCtrl/runTasks.py", line 916, in _taskFunc() 
[04] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:34:18,223: task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [checkTwoLayerFinish] checkTwoLayerGoing -> checkTwoLayerFinish
[INFO]2021-05-08 15:34:18,610: this is handle taskStep=============>checkTwoLayerFinish
[DEBUG]2021-05-08 15:34:18,640: send http_get: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGV04&timeoutSec=30&unitId=1
[DEBUG]2021-05-08 15:34:18,740: GET: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGV04&timeoutSec=30&unitId=1 addr: 127.0.0.1
[INFO]2021-05-08 15:34:18,758: AGV04 rollerRobotLoad unitId: 1
[DEBUG]2021-05-08 15:34:18,893: used 153ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGV04&timeoutSec=30&unitId=1
[DEBUG]2021-05-08 15:34:18,963: [return] use 323 ms,http_get: http://127.0.0.1:8999/api/agv/rollerRobotLoad?agv=AGV04&timeoutSec=30&unitId=1
[CRITICAL]2021-05-08 15:34:19,030: taskFunc2:task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [waitPushrodPush] cause a error: not all arguments converted during string formatting
pid=6924, ppid=12108, tid=9184
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 916, in _taskFunc
    elif not self.handle():
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\runTasks.py", line 720, in handle
    taskMgr.update(self.taskId, failMsg="一层滚筒进料" % self.target)
TypeError: not all arguments converted during string formatting

[WARN]2021-05-08 15:34:19,105: task[60963eb073dabd1b0c2f26a1]:  error {'failMsg': 'not all arguments converted during string formatting', 'endTime': datetime.datetime(2021, 5, 8, 15, 34, 19, 76433), 'status': 'error'}
[ERROR]2021-05-08 15:34:19,134: connect AGV03 failed timed out
[INFO]2021-05-08 15:34:19,140: task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [waitPushrodPush] AGV04 release task, release agv False False False
[INFO]2021-05-08 15:34:19,157: AGV03 checkLink failed 172.16.217.121 19204
[INFO]2021-05-08 15:34:19,169: task: stop task[60963eb073dabd1b0c2f26a1][AGV04] AP22(LM17) -> AP25(LM24) [waitPushrodPush]
[WARN]2021-05-08 15:34:19,198: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10078 ms
[INFO]2021-05-08 15:34:19,277: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:19,620: connect AGV01 failed timed out
[WARN]2021-05-08 15:34:19,661: worker 4[tid:8844] <locked _thread.RLock object owner=8844 count=1 at 0x00000226DFF24210> ,hold 26887 ms
[INFO]2021-05-08 15:34:19,667: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:34:19,719: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10109 ms
[INFO]2021-05-08 15:34:19,773: name=worker 4, pid=6924, tid=8844
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-05-08 15:34:19,814: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:19,870: connect AGV02 failed timed out
[INFO]2021-05-08 15:34:19,928: AGV02 checkLink failed 172.16.217.213 19204
[CRITICAL]2021-05-08 15:34:19,934: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=8844
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:34:19,970: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10139 ms
[CRITICAL]2021-05-08 15:34:20,112: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=8844
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[INFO]2021-05-08 15:34:20,130: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:34:21,312: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:34:21,896: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:34:22,249: try connect AGV02 172.16.217.213:19204
[CRITICAL]2021-05-08 15:34:24,894: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:34:25,984: remoteio is alarm: []
[WARN]2021-05-08 15:34:27,146: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:34:27,170: AGV04 battery 0.320 check failed: isLocked
[DEBUG]2021-05-08 15:34:27,217: task: delete task 60963eb073dabd1b0c2f26a1
[DEBUG]2021-05-08 15:34:27,271: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[ERROR]2021-05-08 15:34:31,402: connect AGV03 failed timed out
[INFO]2021-05-08 15:34:31,420: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:34:31,456: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10144 ms
[INFO]2021-05-08 15:34:31,560: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:31,957: connect AGV01 failed timed out
[INFO]2021-05-08 15:34:31,993: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:34:32,028: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10132 ms
[INFO]2021-05-08 15:34:32,100: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:32,316: connect AGV02 failed timed out
[INFO]2021-05-08 15:34:32,340: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:34:32,363: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10114 ms
[INFO]2021-05-08 15:34:32,435: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:34:33,600: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:34:34,196: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:34:34,477: try connect AGV02 172.16.217.213:19204
[WARN]2021-05-08 15:34:40,874: worker 8[tid:7576] <locked _thread.RLock object owner=7576 count=1 at 0x00000226DFF24210> ,hold 31055 ms
[INFO]2021-05-08 15:34:41,074: name=worker 8, pid=6924, tid=7576
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:34:41,189: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=7576
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:34:41,298: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=7576
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:34:42,454: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:34:43,678: remoteio is alarm: []
[ERROR]2021-05-08 15:34:43,707: connect AGV03 failed timed out
[ERROR]2021-05-08 15:34:43,707: raise alarm obj=upStation01, typeId=39998, desc=远程控制IO离线异常, id=60963f13697d98928ef14150
[INFO]2021-05-08 15:34:43,766: AGV03 checkLink failed 172.16.217.121 19204
[ERROR]2021-05-08 15:34:43,778: raise alarm obj=downStation01, typeId=39998, desc=远程控制IO离线异常, id=60963f13697d98928ef14152
[WARN]2021-05-08 15:34:43,820: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10220 ms
[INFO]2021-05-08 15:34:43,927: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:44,262: connect AGV01 failed timed out
[INFO]2021-05-08 15:34:44,297: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:34:44,350: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10154 ms
[INFO]2021-05-08 15:34:44,438: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:44,575: connect AGV02 failed timed out
[INFO]2021-05-08 15:34:44,628: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:34:44,658: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10181 ms
[INFO]2021-05-08 15:34:44,753: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-05-08 15:34:44,987: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:34:45,011: AGV04 battery 0.320 check failed: isLocked
[DEBUG]2021-05-08 15:34:45,052: send http_get: http://127.0.0.1:8999/api/remoteio/readDOList?id=upStation01
[DEBUG]2021-05-08 15:34:46,055: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:34:46,480: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:34:46,803: try connect AGV02 172.16.217.213:19204
[ERROR]2021-05-08 15:34:56,133: connect AGV03 failed timed out
[INFO]2021-05-08 15:34:56,162: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:34:56,192: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10137 ms
[INFO]2021-05-08 15:34:56,257: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:56,535: connect AGV01 failed timed out
[INFO]2021-05-08 15:34:56,589: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:34:56,619: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10139 ms
[INFO]2021-05-08 15:34:56,694: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:34:56,869: connect AGV02 failed timed out
[INFO]2021-05-08 15:34:56,904: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:34:56,968: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10165 ms
[INFO]2021-05-08 15:34:57,080: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:34:58,304: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:34:58,740: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:34:59,142: try connect AGV02 172.16.217.213:19204
[CRITICAL]2021-05-08 15:35:00,226: readDIList error cause a error: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')
pid=6924, ppid=12108, tid=3544
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\autoCtrl\deviceCtrl.py", line 71, in _monitorDevices
    s1 = ioApi.readDOList(devices[d]["io1"])["status"] #上板机
  File "..\remoteio\remoteioApi.py", line 73, in readDOList
    return _remoteio('/api/remoteio/readDOList', id, param)
  File "..\remoteio\remoteioApi.py", line 100, in _remoteio
    return http_get(url + apiurl, param)
  File "..\remoteio\remoteioApi.py", line 16, in http_get
    r = webutility.http_get(url, param)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:8999/api/remoteio/readDOList', {'id': 'upStation01'}, 'error:', 'timed out')

[INFO]2021-05-08 15:35:01,341: remoteio is alarm: ['upStation01', 'downStation01']
[WARN]2021-05-08 15:35:02,145: worker 2[tid:13060] <locked _thread.RLock object owner=13060 count=1 at 0x00000226DFF24210> ,hold 34755 ms
[INFO]2021-05-08 15:35:02,257: name=worker 2, pid=6924, tid=13060
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 895, in worker_thread_callback() 
[03] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1069, in <lambda>() 
[04] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 1085, in process_request_in_thread() 
[05] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 357, in finish_request() 
[06] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/socketserver.py", line 717, in __init__() 
[07] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 459, in handle() 
[08] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 454, in handle_one_request() 
[10] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 979, in __call__() 
[13] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 954, in wsgi() 
[14] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 862, in _handle() 
[15] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/site-packages/bottle.py", line 1742, in wrapper() 
[16] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/remoteio/main_remoteio.py", line 87, in urlReadDOList() 
[20] File "../remoteio/remoteioMgr.py", line 158, in readDOList() 
[21] File "../remoteio/remoteioMgr.py", line 262, in readDOList() 
[22] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 124, in _call() 
[23] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[24] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[25] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-05-08 15:35:02,355: upStation01 readDIList fail cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=13060
Traceback (most recent call last):
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[CRITICAL]2021-05-08 15:35:02,475: invoke <function urlReadDOList at 0x00000226E05FDD08> cause a error: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
pid=6924, ppid=12108, tid=13060
Traceback (most recent call last):
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\remoteio\main_remoteio.py", line 87, in urlReadDOList
    return ioMgr.readDOList(id)
  File "..\remoteio\remoteioMgr.py", line 158, in readDOList
    result=remoteioInfo.readDOList()
  File "..\remoteio\remoteioMgr.py", line 262, in readDOList
    return self._read(M30, IO_LENTH)
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "..\remoteio\remoteioMgr.py", line 311, in _read
    self.master.open()
  File "C:\Users\comba\Desktop\知识城地牛\knowledgeCity\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Users\comba\AppData\Local\Programs\Python\Python37\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
TimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。

[WARN]2021-05-08 15:35:02,547: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:35:02,564: AGV04 battery 0.320 check failed: isLocked
[INFO]2021-05-08 15:35:03,811: remoteio is alarm: ['upStation01', 'downStation01']
[ERROR]2021-05-08 15:35:08,364: connect AGV03 failed timed out
[INFO]2021-05-08 15:35:08,400: AGV03 checkLink failed 172.16.217.121 19204
[WARN]2021-05-08 15:35:08,429: agvThread.AGV03[tid:12264] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=12264 count=1 at 0x00000226E06713F0>> ,hold 10125 ms
[INFO]2021-05-08 15:35:08,491: name=agvThread.AGV03, pid=6924, tid=12264
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:35:08,819: connect AGV01 failed timed out
[INFO]2021-05-08 15:35:08,866: AGV01 checkLink failed 172.16.217.209 19204
[WARN]2021-05-08 15:35:08,896: agvThread.AGV01[tid:10244] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=10244 count=1 at 0x00000226E0671120>> ,hold 10156 ms
[INFO]2021-05-08 15:35:08,966: name=agvThread.AGV01, pid=6924, tid=10244
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[ERROR]2021-05-08 15:35:09,256: connect AGV02 failed timed out
[INFO]2021-05-08 15:35:09,327: AGV02 checkLink failed 172.16.217.213 19204
[WARN]2021-05-08 15:35:09,405: agvThread.AGV02[tid:5960] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=5960 count=1 at 0x00000226E05BEDF0>> ,hold 10263 ms
[INFO]2021-05-08 15:35:09,475: name=agvThread.AGV02, pid=6924, tid=5960
[01] File "C:/Users/comba/AppData/Local/Programs/Python/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/agvCtrl/agvList.py", line 565, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/lock.py", line 102, in release() 
[06] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 268, in getTrace() 
[07] File "C:/Users/comba/Desktop/知识城地牛/knowledgeCity/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-05-08 15:35:10,569: try connect AGV03 172.16.217.121:19204
[DEBUG]2021-05-08 15:35:10,996: try connect AGV01 172.16.217.209:19204
[DEBUG]2021-05-08 15:35:11,511: try connect AGV02 172.16.217.213:19204
[WARN]2021-05-08 15:35:13,407: AGV04 low battery charge,batteryLevel= 0.320 start charge level= 0.400
[WARN]2021-05-08 15:35:13,437: AGV04 battery 0.320 check failed: isLocked
[INFO]2021-05-08 15:35:14,664: remoteio is alarm: ['upStation01', 'downStation01']
