[INFO]2021-03-17 10:34:08,693: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-03-17 10:34:08,694: find module account.main_account
[INFO]2021-03-17 10:34:08,695: find module agvCtrl.main_agv
[INFO]2021-03-17 10:34:08,696: find module agvDevice.main_agvDevice
[INFO]2021-03-17 10:34:08,697: find module alarm.main_alarm
[INFO]2021-03-17 10:34:08,698: find module auth.main_auth
[INFO]2021-03-17 10:34:08,701: find module door.main_door
[INFO]2021-03-17 10:34:08,702: find module elevator.main_elevator
[INFO]2021-03-17 10:34:08,703: find module menu.main_menu
[INFO]2021-03-17 10:34:08,704: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 10:34:08,704: find module webFront.main_web
[INFO]2021-03-17 10:34:08,706: find module wmqtt.main_wmqtt
[INFO]2021-03-17 10:34:08,706: import account.main_account
[INFO]2021-03-17 10:34:08,793: import agvCtrl.main_agv
[INFO]2021-03-17 10:34:09,089: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25CB878C8>>
[INFO]2021-03-17 10:34:09,092: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25CB87A80>>
[INFO]2021-03-17 10:34:09,180: create lock <lock name:timer.lock_2003014134416,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25CEDD4E0>>
[ERROR]2021-03-17 10:34:09,191: mqtt is disabled
[INFO]2021-03-17 10:34:09,192: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-17 10:34:09,192: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-17 10:34:12,233: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-17 10:34:12,242: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25B1E3878>>
[WARNING]2021-03-17 10:34:12,250: use mockAgvCtrl
[INFO]2021-03-17 10:34:12,253: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25B5637B0>>
[INFO]2021-03-17 10:34:12,516: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25D374850>>
[INFO]2021-03-17 10:34:12,520: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25D390530>>
[INFO]2021-03-17 10:34:12,578: charge policy 1 , fix time
[INFO]2021-03-17 10:34:12,609: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25D390C38>>
[INFO]2021-03-17 10:34:13,160: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-17 10:34:13,375: create aliveObj DOOR40 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:13,378: create aliveObj DOOR41 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:13,395: elevator thread start
[INFO]2021-03-17 10:34:13,419: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap ,used 267 ms
[INFO]2021-03-17 10:34:13,429: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-17 10:34:13,601: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap ,used 180 ms
[INFO]2021-03-17 10:34:13,611: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap
[DEBUG]2021-03-17 10:34:14,934: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,937: create aliveObj DOOR23 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,941: create aliveObj DOOR08 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,942: create aliveObj DOOR09 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,943: create aliveObj DOOR15 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,944: create aliveObj DOOR07 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,945: create aliveObj DOOR04 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,946: create aliveObj DOOR06 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,947: create aliveObj DOOR17 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,948: create aliveObj DOOR18 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,948: create aliveObj DOOR20 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,949: create aliveObj DOOR25 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,950: create aliveObj DOOR101 门控离线异常 timeout 60
[DEBUG]2021-03-17 10:34:14,951: create aliveObj DOOR27 门控离线异常 timeout 60
[INFO]2021-03-17 10:34:14,986: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap ,used 1383 ms
[INFO]2021-03-17 10:34:14,991: import agvDevice.main_agvDevice
[INFO]2021-03-17 10:34:14,992: import alarm.main_alarm
[INFO]2021-03-17 10:34:14,995: import auth.main_auth
[INFO]2021-03-17 10:34:15,012: import door.main_door
[INFO]2021-03-17 10:34:15,015: import elevator.main_elevator
[INFO]2021-03-17 10:34:15,023: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FC74198>>
[INFO]2021-03-17 10:34:15,025: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FC60148>>
[INFO]2021-03-17 10:34:15,030: import menu.main_menu
[INFO]2021-03-17 10:34:15,033: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 10:34:15,102: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FCDFDC8>>
[INFO]2021-03-17 10:34:15,106: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FCDFDF0>>
[INFO]2021-03-17 10:34:15,478: import webFront.main_web
[INFO]2021-03-17 10:34:15,488: import wmqtt.main_wmqtt
[SUCC]2021-03-17 10:34:15,505: utility start, pid=9416, ppid=7192
[DEBUG]2021-03-17 10:34:15,506: start timer
[INFO]2021-03-17 10:34:15,515: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-17 10:34:15,516: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FEF5288>>
[DEBUG]2021-03-17 10:34:15,519: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,521: AGV01 start agvList run thread
[INFO]2021-03-17 10:34:15,521: AGV01 start agvList run2 thread
[INFO]2021-03-17 10:34:15,526: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FEF54B8>>
[ERROR]2021-03-17 10:34:15,532: agv check init error False
[DEBUG]2021-03-17 10:34:15,534: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,545: AGV02 start agvList run thread
[INFO]2021-03-17 10:34:15,545: AGV02 start agvList run2 thread
[INFO]2021-03-17 10:34:15,546: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FEF5698>>
[INFO]2021-03-17 10:34:15,549: AGV02 current map fp20190712-1
[DEBUG]2021-03-17 10:34:15,555: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,559: AGV02 is online
[INFO]2021-03-17 10:34:15,560: AGV03 start agvList run thread
[INFO]2021-03-17 10:34:15,561: AGV03 start agvList run2 thread
[INFO]2021-03-17 10:34:15,561: create lock <lock name:agvList.AGV05.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FEF58F0>>
[INFO]2021-03-17 10:34:15,570: AGV03 current map fp20190712-1
[DEBUG]2021-03-17 10:34:15,577: create aliveObj AGV05 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,577: AGV03 is online
[INFO]2021-03-17 10:34:15,579: AGV05 start agvList run thread
[INFO]2021-03-17 10:34:15,579: AGV05 start agvList run2 thread
[INFO]2021-03-17 10:34:15,579: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FEF5B48>>
[INFO]2021-03-17 10:34:15,593: AGV05 current map fp20190712-1
[DEBUG]2021-03-17 10:34:15,595: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,595: AGV05 is online
[INFO]2021-03-17 10:34:15,597: AGV06 start agvList run thread
[INFO]2021-03-17 10:34:15,602: AGV06 start agvList run2 thread
[INFO]2021-03-17 10:34:15,603: create lock <lock name:agvList.AGV07.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D25FEF5DA0>>
[INFO]2021-03-17 10:34:15,607: AGV06 current map fp20190712-1
[INFO]2021-03-17 10:34:15,609: AGV06 is online
[DEBUG]2021-03-17 10:34:15,609: create aliveObj AGV07 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,614: AGV07 start agvList run thread
[INFO]2021-03-17 10:34:15,614: AGV07 start agvList run2 thread
[INFO]2021-03-17 10:34:15,614: create lock <lock name:agvList.AGV08.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D2603C4058>>
[INFO]2021-03-17 10:34:15,623: AGV07 current map fp20190712-1
[INFO]2021-03-17 10:34:15,625: AGV07 is online
[DEBUG]2021-03-17 10:34:15,625: create aliveObj AGV08 AGV离线异常 timeout 300
[INFO]2021-03-17 10:34:15,629: AGV08 start agvList run thread
[INFO]2021-03-17 10:34:15,629: AGV08 start agvList run2 thread
[INFO]2021-03-17 10:34:15,654: AGV08 current map fp20190712-1
[INFO]2021-03-17 10:34:15,666: AGV08 is online
[INFO]2021-03-17 10:34:15,713: add_ignore: taskStatus
[INFO]2021-03-17 10:34:15,720: add_ignore: api/elevator/status
[INFO]2021-03-17 10:34:15,723: add_ignore: scada/getTask
[INFO]2021-03-17 10:34:16,046: AGV01 current map fp20190712-1
[INFO]2021-03-17 10:34:16,053: AGV01 is online
[DEBUG]2021-03-17 10:34:17,538: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 10:34:17,544: scadaTask init client agvApi
[DEBUG]2021-03-17 10:34:17,554: used 16ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 10:34:20,166: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 10:34:20,338: scadaTask init client agvApi
[DEBUG]2021-03-17 10:34:20,601: used 435ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 10:34:20,715: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:20,820: used 105ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-17 10:34:20,916: timer_thread[tid:12960] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=12960 count=1 at 0x000001D25FCDFDC8>> ,hold 3386 ms
[INFO]2021-03-17 10:34:21,120: name=timer_thread, pid=9416, tid=12960
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-17 10:34:23,163: clear alarm obj=DOOR40, typeId=39998, id=605168a684e1c5c371a6ab98
[WARNING]2021-03-17 10:34:23,926: clear alarm obj=DOOR41, typeId=39998, id=605168a784e1c5c371a6ab9a
[DEBUG]2021-03-17 10:34:23,956: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:24,128: used 172ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-17 10:34:24,265: clear alarm obj=DOOR13, typeId=39998, id=605168a784e1c5c371a6ab9c
[WARNING]2021-03-17 10:34:24,508: clear alarm obj=DOOR23, typeId=39998, id=605168a784e1c5c371a6ab9e
[WARNING]2021-03-17 10:34:24,840: clear alarm obj=DOOR08, typeId=39998, id=605168a784e1c5c371a6aba2
[WARNING]2021-03-17 10:34:25,102: clear alarm obj=DOOR09, typeId=39998, id=605168a784e1c5c371a6aba6
[WARNING]2021-03-17 10:34:25,396: clear alarm obj=DOOR15, typeId=39998, id=605168a784e1c5c371a6abaa
[WARNING]2021-03-17 10:34:25,851: clear alarm obj=DOOR07, typeId=39998, id=605168a784e1c5c371a6abad
[WARNING]2021-03-17 10:34:26,350: clear alarm obj=DOOR04, typeId=39998, id=605168a784e1c5c371a6abaf
[DEBUG]2021-03-17 10:34:26,352: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60516886fc2073e46691e66f&timeout=10 addr: 127.0.0.1
[WARNING]2021-03-17 10:34:26,523: clear alarm obj=DOOR06, typeId=39998, id=605168a784e1c5c371a6abb1
[WARNING]2021-03-17 10:34:26,993: clear alarm obj=DOOR17, typeId=39998, id=605168a884e1c5c371a6abb3
[WARNING]2021-03-17 10:34:27,493: clear alarm obj=DOOR18, typeId=39998, id=605168a884e1c5c371a6abb5
[WARNING]2021-03-17 10:34:27,707: clear alarm obj=DOOR20, typeId=39998, id=605168a884e1c5c371a6abb7
[WARNING]2021-03-17 10:34:28,202: clear alarm obj=DOOR25, typeId=39998, id=605168a884e1c5c371a6abb9
[WARNING]2021-03-17 10:34:28,378: clear alarm obj=DOOR101, typeId=39998, id=605168a884e1c5c371a6abbb
[WARNING]2021-03-17 10:34:28,806: clear alarm obj=DOOR27, typeId=39998, id=605168a884e1c5c371a6abbd
[INFO]2021-03-17 10:34:29,222: apply AGV05 ,taskId: 60516886fc2073e46691e66f ,loc fp20190712-1.LM242 ,autoLock False , used 2715 ms
[DEBUG]2021-03-17 10:34:29,268: used 2916ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60516886fc2073e46691e66f&timeout=10
[DEBUG]2021-03-17 10:34:29,559: GET: http://127.0.0.1:5551/api/agv/checkInitStatus?agv=AGV05&loc=None&timeoutSec=90 addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:29,697: used 138ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/checkInitStatus?agv=AGV05&loc=None&timeoutSec=90
[DEBUG]2021-03-17 10:34:30,097: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV05&appName=scadaTask&taskId=60516886fc2073e46691e66f addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:30,175: lock:  AGV05 taskId 60516886fc2073e46691e66f app scadaTask
[WARNING]2021-03-17 10:34:31,261: AGV05 clear task finish, cur= fp20190712-1.AP863 task_status= 0
[DEBUG]2021-03-17 10:34:31,277: used 1180ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV05&appName=scadaTask&taskId=60516886fc2073e46691e66f
[DEBUG]2021-03-17 10:34:33,064: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV05&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-17 10:34:33,124: _jack in jackMgr: AGV05 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}]
[INFO]2021-03-17 10:34:33,156: AGV05 jack down status:  1
[DEBUG]2021-03-17 10:34:33,233: used 169ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV05&loc=None&timeoutSec=90
[DEBUG]2021-03-17 10:34:34,036: GET: http://127.0.0.1:5551/api/agv/checkLineIdle?agv=AGV05&appName=scadaTask&end=AP238&start=LM242 addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:34,130: used 94ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/checkLineIdle?agv=AGV05&appName=scadaTask&end=AP238&start=LM242
[DEBUG]2021-03-17 10:34:34,909: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV05&agvId=AGV05&appName=scadaTask&floorId=fp20190712-1&isRotate&loc=fp20190712-1.LM242&location=LM242&recognize=False&seer_jackup=JackUnload&taskId=60516886fc2073e46691e66f_1&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[CRITICAL]2021-03-17 10:34:35,115: invoke <function urlMove at 0x000001D25D9EB400> cause a error: fp20190712-1.AP863->fp20190712-1.LM242 路径不存在1,agvId=AGV05
pid=9416, ppid=7192, tid=9512
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\main_agv.py", line 123, in urlMove
    agvControl.move(target=target, agvId=agvId, taskId=taskId, timeout=timeout,paramObj=paramObj)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvControl.py", line 1240, in move
    _func()
  File "C:\Users\Administrator\Desktop\SVN\branches\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvControl.py", line 1206, in _func
    raise Exception(mapMgr.formatLoc(agv.mapId,agv.curTarget)+"->"+target+" 路径不存在1,agvId="+agv.agvId)
Exception: fp20190712-1.AP863->fp20190712-1.LM242 路径不存在1,agvId=AGV05

[DEBUG]2021-03-17 10:34:35,222: used 313ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV05&agvId=AGV05&appName=scadaTask&floorId=fp20190712-1&isRotate&loc=fp20190712-1.LM242&location=LM242&recognize=False&seer_jackup=JackUnload&taskId=60516886fc2073e46691e66f_1&taskType=scadaTask&timeoutSec=86400
[DEBUG]2021-03-17 10:34:35,474: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV05&appName=scadaTask&taskId=60516886fc2073e46691e66f addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:35,598: used 124ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV05&appName=scadaTask&taskId=60516886fc2073e46691e66f
[DEBUG]2021-03-17 10:34:35,990: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV05&appName=scadaTask&force=False&taskId=60516886fc2073e46691e66f addr: 127.0.0.1
[DEBUG]2021-03-17 10:34:36,051: unlock: AGV05 taskId 60516886fc2073e46691e66f app scadaTask force False
[DEBUG]2021-03-17 10:34:36,176: used 186ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV05&appName=scadaTask&force=False&taskId=60516886fc2073e46691e66f
[DEBUG]2021-03-17 10:34:36,628: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV05&appName=scadaTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-03-17 10:34:36,692: AGV05 is in home loc fp20190712-1.AP863
[DEBUG]2021-03-17 10:34:36,768: used 140ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV05&appName=scadaTask&force=False&timeout=10800
