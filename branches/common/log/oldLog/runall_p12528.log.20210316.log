[INFO]2021-03-16 15:29:01,973: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-03-16 15:29:01,976: find module account.main_account
[INFO]2021-03-16 15:29:01,979: find module agvCtrl.main_agv
[INFO]2021-03-16 15:29:01,980: find module agvDevice.main_agvDevice
[INFO]2021-03-16 15:29:01,983: find module alarm.main_alarm
[INFO]2021-03-16 15:29:01,984: find module auth.main_auth
[INFO]2021-03-16 15:29:01,986: find module door.main_door
[INFO]2021-03-16 15:29:01,988: find module elevator.main_elevator
[INFO]2021-03-16 15:29:01,990: find module menu.main_menu
[INFO]2021-03-16 15:29:02,000: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-16 15:29:02,001: find module webFront.main_web
[INFO]2021-03-16 15:29:02,003: find module wmqtt.main_wmqtt
[INFO]2021-03-16 15:29:02,005: import account.main_account
[INFO]2021-03-16 15:29:02,317: import agvCtrl.main_agv
[INFO]2021-03-16 15:29:03,277: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0EF348C8>>
[INFO]2021-03-16 15:29:03,287: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0EF34A80>>
[INFO]2021-03-16 15:29:03,630: create lock <lock name:timer.lock_2744738716472,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0F28C4B8>>
[ERROR]2021-03-16 15:29:03,671: mqtt is disabled
[INFO]2021-03-16 15:29:03,673: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-16 15:29:03,675: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-16 15:29:06,796: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-16 15:29:06,852: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0F6B3850>>
[WARNING]2021-03-16 15:29:06,887: use mockAgvCtrl
[INFO]2021-03-16 15:29:06,898: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F7F9137B0>>
[INFO]2021-03-16 15:29:07,262: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0F864800>>
[INFO]2021-03-16 15:29:07,267: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0F8814B8>>
[INFO]2021-03-16 15:29:07,326: charge policy 1 , fix time
[INFO]2021-03-16 15:29:07,361: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0F881BE8>>
[INFO]2021-03-16 15:29:08,250: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-16 15:29:13,249: create aliveObj DOOR40 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:29:13,253: create aliveObj DOOR41 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:29:13,304: elevator thread start
[INFO]2021-03-16 15:29:14,336: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap ,used 6122 ms
[INFO]2021-03-16 15:29:14,361: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-16 15:29:43,370: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap ,used 29033 ms
[INFO]2021-03-16 15:29:43,402: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap
[DEBUG]2021-03-16 15:30:04,004: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,006: create aliveObj DOOR23 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,010: create aliveObj DOOR08 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,011: create aliveObj DOOR09 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,012: create aliveObj DOOR15 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,013: create aliveObj DOOR07 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,014: create aliveObj DOOR04 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,015: create aliveObj DOOR06 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,015: create aliveObj DOOR17 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,016: create aliveObj DOOR18 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,017: create aliveObj DOOR20 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,018: create aliveObj DOOR25 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,019: create aliveObj DOOR101 门控离线异常 timeout 60
[DEBUG]2021-03-16 15:30:04,020: create aliveObj DOOR27 门控离线异常 timeout 60
[INFO]2021-03-16 15:30:24,322: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap ,used 40949 ms
[WARNING]2021-03-16 15:30:24,324: MainThread[tid:8184] <lock name:mapMgr.lock,<locked _thread.RLock object owner=8184 count=1 at 0x0000027F7F9137B0>> ,hold 76961 ms
[INFO]2021-03-16 15:30:24,327: name=MainThread, pid=12528, tid=8184
[01] File "C:/Users/Administrator/Desktop/SVN/branches/common/run_all.py", line 57, in <module>() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 983, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 677, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 728, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[10] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[11] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[12] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-03-16 15:30:24,331: import agvDevice.main_agvDevice
[INFO]2021-03-16 15:30:24,333: import alarm.main_alarm
[INFO]2021-03-16 15:30:24,333: import auth.main_auth
[INFO]2021-03-16 15:30:24,350: import door.main_door
[INFO]2021-03-16 15:30:24,354: import elevator.main_elevator
[INFO]2021-03-16 15:30:24,584: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F10D60F30>>
[INFO]2021-03-16 15:30:24,593: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F0FBEE300>>
[INFO]2021-03-16 15:30:24,596: import menu.main_menu
[INFO]2021-03-16 15:30:24,605: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-16 15:30:24,721: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F102A01E8>>
[INFO]2021-03-16 15:30:24,723: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F102D43F0>>
[INFO]2021-03-16 15:30:24,727: import webFront.main_web
[INFO]2021-03-16 15:30:24,735: import wmqtt.main_wmqtt
[SUCC]2021-03-16 15:30:24,750: utility start, pid=12528, ppid=12348
[DEBUG]2021-03-16 15:30:24,752: start timer
[INFO]2021-03-16 15:30:24,760: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-16 15:30:24,761: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F102D4698>>
[DEBUG]2021-03-16 15:30:24,767: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,768: AGV01 start agvList run thread
[INFO]2021-03-16 15:30:24,769: AGV01 start agvList run2 thread
[INFO]2021-03-16 15:30:24,773: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F102D4AD0>>
[ERROR]2021-03-16 15:30:24,775: agv check init error False
[DEBUG]2021-03-16 15:30:24,778: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,782: AGV02 start agvList run thread
[INFO]2021-03-16 15:30:24,783: AGV02 start agvList run2 thread
[INFO]2021-03-16 15:30:24,783: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F102D4C10>>
[INFO]2021-03-16 15:30:24,792: AGV02 current map fp20190712-1
[INFO]2021-03-16 15:30:24,796: AGV02 is online
[DEBUG]2021-03-16 15:30:24,797: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,808: AGV03 start agvList run thread
[INFO]2021-03-16 15:30:24,808: AGV03 start agvList run2 thread
[INFO]2021-03-16 15:30:24,809: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F102D4F30>>
[INFO]2021-03-16 15:30:24,811: AGV03 current map fp20190712-1
[INFO]2021-03-16 15:30:24,813: AGV03 is online
[DEBUG]2021-03-16 15:30:24,814: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,820: AGV04 start agvList run thread
[INFO]2021-03-16 15:30:24,820: AGV04 start agvList run2 thread
[INFO]2021-03-16 15:30:24,820: create lock <lock name:agvList.AGV05.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F123EE0F8>>
[INFO]2021-03-16 15:30:24,824: AGV04 current map fp20190712-1
[INFO]2021-03-16 15:30:24,825: AGV04 is online
[DEBUG]2021-03-16 15:30:24,829: create aliveObj AGV05 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,832: AGV05 start agvList run thread
[INFO]2021-03-16 15:30:24,833: AGV05 start agvList run2 thread
[INFO]2021-03-16 15:30:24,833: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F123EE350>>
[INFO]2021-03-16 15:30:24,837: AGV05 current map fp20190712-1
[INFO]2021-03-16 15:30:24,839: AGV05 is online
[DEBUG]2021-03-16 15:30:24,840: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,842: AGV06 start agvList run thread
[INFO]2021-03-16 15:30:24,843: AGV06 start agvList run2 thread
[INFO]2021-03-16 15:30:24,843: create lock <lock name:agvList.AGV07.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F123EE5A8>>
[INFO]2021-03-16 15:30:24,849: AGV06 current map fp20190712-1
[INFO]2021-03-16 15:30:24,852: AGV06 is online
[DEBUG]2021-03-16 15:30:24,853: create aliveObj AGV07 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,855: AGV07 start agvList run thread
[INFO]2021-03-16 15:30:24,856: AGV07 start agvList run2 thread
[INFO]2021-03-16 15:30:24,856: create lock <lock name:agvList.AGV08.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000027F123EE800>>
[INFO]2021-03-16 15:30:24,859: AGV07 current map fp20190712-1
[DEBUG]2021-03-16 15:30:24,864: create aliveObj AGV08 AGV离线异常 timeout 300
[INFO]2021-03-16 15:30:24,866: AGV07 is online
[INFO]2021-03-16 15:30:24,867: AGV08 start agvList run thread
[INFO]2021-03-16 15:30:24,867: AGV08 start agvList run2 thread
[INFO]2021-03-16 15:30:24,868: startCharge is false
[INFO]2021-03-16 15:30:24,886: AGV08 current map fp20190712-1
[INFO]2021-03-16 15:30:24,906: AGV08 is online
[INFO]2021-03-16 15:30:24,929: add_ignore: taskStatus
[INFO]2021-03-16 15:30:24,932: add_ignore: api/elevator/status
[INFO]2021-03-16 15:30:24,934: add_ignore: scada/getTask
[ERROR]2021-03-16 15:30:24,961: raise alarm obj=DOOR40, typeId=39998, desc=门控离线异常, id=60505e9084e1c5c371a63813
[ERROR]2021-03-16 15:30:24,999: raise alarm obj=DOOR41, typeId=39998, desc=门控离线异常, id=60505e9084e1c5c371a63836
[INFO]2021-03-16 15:30:26,126: AGV01 current map fp20190712-1
[INFO]2021-03-16 15:30:26,362: AGV01 is online
[DEBUG]2021-03-16 15:30:27,391: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-16 15:30:27,397: scadaTask init client agvApi
[DEBUG]2021-03-16 15:30:27,405: used 14ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-16 15:30:30,560: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-16 15:30:30,652: used 92ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-16 15:30:30,851: timer_thread[tid:5960] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=5960 count=1 at 0x0000027F102A01E8>> ,hold 3468 ms
[INFO]2021-03-16 15:30:31,189: name=timer_thread, pid=12528, tid=5960
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[ERROR]2021-03-16 15:31:04,617: raise alarm obj=DOOR13, typeId=39998, desc=门控离线异常, id=60505eb884e1c5c371a638cf
[ERROR]2021-03-16 15:31:04,775: raise alarm obj=DOOR23, typeId=39998, desc=门控离线异常, id=60505eb884e1c5c371a638d1
[ERROR]2021-03-16 15:31:04,934: raise alarm obj=DOOR08, typeId=39998, desc=门控离线异常, id=60505eb884e1c5c371a638d3
[ERROR]2021-03-16 15:31:05,007: raise alarm obj=DOOR09, typeId=39998, desc=门控离线异常, id=60505eb884e1c5c371a638d5
[ERROR]2021-03-16 15:31:05,170: raise alarm obj=DOOR15, typeId=39998, desc=门控离线异常, id=60505eb984e1c5c371a638d7
[ERROR]2021-03-16 15:31:05,435: raise alarm obj=DOOR07, typeId=39998, desc=门控离线异常, id=60505eb984e1c5c371a638d9
[ERROR]2021-03-16 15:31:05,595: raise alarm obj=DOOR04, typeId=39998, desc=门控离线异常, id=60505eb984e1c5c371a638db
[ERROR]2021-03-16 15:31:05,757: raise alarm obj=DOOR06, typeId=39998, desc=门控离线异常, id=60505eb984e1c5c371a638dd
[ERROR]2021-03-16 15:31:05,830: raise alarm obj=DOOR17, typeId=39998, desc=门控离线异常, id=60505eb984e1c5c371a638df
[ERROR]2021-03-16 15:31:05,881: raise alarm obj=DOOR18, typeId=39998, desc=门控离线异常, id=60505eb984e1c5c371a638e1
[ERROR]2021-03-16 15:31:06,033: raise alarm obj=DOOR20, typeId=39998, desc=门控离线异常, id=60505eba84e1c5c371a638e3
[ERROR]2021-03-16 15:31:06,081: raise alarm obj=DOOR25, typeId=39998, desc=门控离线异常, id=60505eba84e1c5c371a638e5
[ERROR]2021-03-16 15:31:06,239: raise alarm obj=DOOR101, typeId=39998, desc=门控离线异常, id=60505eba84e1c5c371a638e7
[ERROR]2021-03-16 15:31:06,323: raise alarm obj=DOOR27, typeId=39998, desc=门控离线异常, id=60505eba84e1c5c371a638e9
[DEBUG]2021-03-16 15:31:18,926: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-16 15:31:19,002: scadaTask init client agvApi
[DEBUG]2021-03-16 15:31:19,095: used 169ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-16 15:31:22,323: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-16 15:31:22,433: used 110ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[DEBUG]2021-03-16 15:58:48,960: GET: http://127.0.0.1:5551/api/scada/addTask addr: 127.0.0.1
[DEBUG]2021-03-16 16:58:28,070: GET: http://127.0.0.1:5551/api/scada/addTask addr: 127.0.0.1
[DEBUG]2021-03-16 16:58:48,221: GET: http://127.0.0.1:5551/favicon.ico addr: 127.0.0.1
[DEBUG]2021-03-16 16:59:07,642: GET: http://127.0.0.1:5551/api/scada/addTask/ addr: 127.0.0.1
[DEBUG]2021-03-16 17:28:37,049: GET: http://127.0.0.1:5551/api/scada/addTask addr: 127.0.0.1
