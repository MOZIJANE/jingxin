[INFO]2021-03-17 08:46:05,507: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-03-17 08:46:05,511: find module account.main_account
[INFO]2021-03-17 08:46:05,512: find module agvCtrl.main_agv
[INFO]2021-03-17 08:46:05,514: find module agvDevice.main_agvDevice
[INFO]2021-03-17 08:46:05,516: find module alarm.main_alarm
[INFO]2021-03-17 08:46:05,518: find module auth.main_auth
[INFO]2021-03-17 08:46:05,521: find module door.main_door
[INFO]2021-03-17 08:46:05,525: find module elevator.main_elevator
[INFO]2021-03-17 08:46:05,527: find module menu.main_menu
[INFO]2021-03-17 08:46:05,529: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 08:46:05,542: find module webFront.main_web
[INFO]2021-03-17 08:46:05,544: find module wmqtt.main_wmqtt
[INFO]2021-03-17 08:46:05,545: import account.main_account
[INFO]2021-03-17 08:46:05,845: import agvCtrl.main_agv
[INFO]2021-03-17 08:46:06,545: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC63B28A0>>
[INFO]2021-03-17 08:46:06,549: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC63B2A58>>
[INFO]2021-03-17 08:46:06,650: create lock <lock name:timer.lock_1906000083432,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC670D468>>
[ERROR]2021-03-17 08:46:06,664: mqtt is disabled
[INFO]2021-03-17 08:46:06,665: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-17 08:46:06,665: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-17 08:46:09,715: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-17 08:46:09,771: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC49F1800>>
[WARNING]2021-03-17 08:46:09,811: use mockAgvCtrl
[INFO]2021-03-17 08:46:09,820: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC4D83788>>
[INFO]2021-03-17 08:46:10,303: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC6BA57B0>>
[INFO]2021-03-17 08:46:10,309: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC6BBB468>>
[INFO]2021-03-17 08:46:10,530: charge policy 1 , fix time
[INFO]2021-03-17 08:46:10,634: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC6BBBB98>>
[INFO]2021-03-17 08:46:11,287: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-17 08:46:11,513: create aliveObj DOOR40 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:11,516: create aliveObj DOOR41 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:11,530: elevator thread start
[INFO]2021-03-17 08:46:11,554: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap ,used 276 ms
[INFO]2021-03-17 08:46:11,565: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-17 08:46:11,779: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap ,used 224 ms
[INFO]2021-03-17 08:46:11,794: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap
[DEBUG]2021-03-17 08:46:13,121: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,123: create aliveObj DOOR23 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,124: create aliveObj DOOR08 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,129: create aliveObj DOOR09 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,130: create aliveObj DOOR15 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,131: create aliveObj DOOR07 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,132: create aliveObj DOOR04 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,133: create aliveObj DOOR06 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,134: create aliveObj DOOR17 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,135: create aliveObj DOOR18 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,136: create aliveObj DOOR20 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,137: create aliveObj DOOR25 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,137: create aliveObj DOOR101 门控离线异常 timeout 60
[DEBUG]2021-03-17 08:46:13,138: create aliveObj DOOR27 门控离线异常 timeout 60
[INFO]2021-03-17 08:46:13,209: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap ,used 1428 ms
[INFO]2021-03-17 08:46:13,219: import agvDevice.main_agvDevice
[INFO]2021-03-17 08:46:13,221: import alarm.main_alarm
[INFO]2021-03-17 08:46:13,223: import auth.main_auth
[INFO]2021-03-17 08:46:13,241: import door.main_door
[INFO]2021-03-17 08:46:13,248: import elevator.main_elevator
[INFO]2021-03-17 08:46:13,283: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC943FBE8>>
[INFO]2021-03-17 08:46:13,288: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC943F828>>
[INFO]2021-03-17 08:46:13,292: import menu.main_menu
[INFO]2021-03-17 08:46:13,298: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 08:46:13,511: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC942C698>>
[INFO]2021-03-17 08:46:13,522: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC942C6E8>>
[INFO]2021-03-17 08:46:13,538: import webFront.main_web
[INFO]2021-03-17 08:46:13,584: import wmqtt.main_wmqtt
[SUCC]2021-03-17 08:46:15,065: utility start, pid=996, ppid=10108
[DEBUG]2021-03-17 08:46:15,084: start timer
[INFO]2021-03-17 08:46:15,134: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-17 08:46:15,149: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9725260>>
[DEBUG]2021-03-17 08:46:15,162: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,169: AGV01 start agvList run thread
[INFO]2021-03-17 08:46:15,178: AGV01 start agvList run2 thread
[INFO]2021-03-17 08:46:15,207: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC97253C8>>
[ERROR]2021-03-17 08:46:15,208: agv check init error False
[DEBUG]2021-03-17 08:46:15,221: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,252: AGV02 start agvList run thread
[INFO]2021-03-17 08:46:15,254: AGV02 start agvList run2 thread
[INFO]2021-03-17 08:46:15,255: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9725620>>
[INFO]2021-03-17 08:46:15,271: AGV02 current map fp20190712-1
[DEBUG]2021-03-17 08:46:15,280: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,284: AGV02 is online
[INFO]2021-03-17 08:46:15,290: AGV03 start agvList run thread
[INFO]2021-03-17 08:46:15,295: AGV03 start agvList run2 thread
[INFO]2021-03-17 08:46:15,296: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9725850>>
[INFO]2021-03-17 08:46:15,318: AGV03 current map fp20190712-1
[INFO]2021-03-17 08:46:15,324: AGV03 is online
[DEBUG]2021-03-17 08:46:15,328: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,342: AGV04 start agvList run thread
[INFO]2021-03-17 08:46:15,343: AGV04 start agvList run2 thread
[INFO]2021-03-17 08:46:15,344: create lock <lock name:agvList.AGV05.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9725AD0>>
[INFO]2021-03-17 08:46:15,356: AGV04 current map fp20190712-1
[INFO]2021-03-17 08:46:15,362: AGV04 is online
[DEBUG]2021-03-17 08:46:15,365: create aliveObj AGV05 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,375: AGV05 start agvList run thread
[INFO]2021-03-17 08:46:15,376: AGV05 start agvList run2 thread
[INFO]2021-03-17 08:46:15,377: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9725D28>>
[INFO]2021-03-17 08:46:15,388: AGV05 current map fp20190712-1
[INFO]2021-03-17 08:46:15,397: AGV05 is online
[DEBUG]2021-03-17 08:46:15,401: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,408: AGV06 start agvList run thread
[INFO]2021-03-17 08:46:15,411: AGV06 start agvList run2 thread
[INFO]2021-03-17 08:46:15,411: create lock <lock name:agvList.AGV07.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9725F80>>
[INFO]2021-03-17 08:46:15,421: AGV06 current map fp20190712-1
[INFO]2021-03-17 08:46:15,428: AGV06 is online
[DEBUG]2021-03-17 08:46:15,432: create aliveObj AGV07 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,442: AGV07 start agvList run thread
[INFO]2021-03-17 08:46:15,443: AGV07 start agvList run2 thread
[INFO]2021-03-17 08:46:15,444: create lock <lock name:agvList.AGV08.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001BBC9C1E210>>
[INFO]2021-03-17 08:46:15,459: AGV07 current map fp20190712-1
[DEBUG]2021-03-17 08:46:15,466: create aliveObj AGV08 AGV离线异常 timeout 300
[INFO]2021-03-17 08:46:15,467: AGV07 is online
[INFO]2021-03-17 08:46:15,471: AGV08 start agvList run thread
[INFO]2021-03-17 08:46:15,479: AGV08 start agvList run2 thread
[INFO]2021-03-17 08:46:15,494: AGV08 current map fp20190712-1
[INFO]2021-03-17 08:46:15,503: AGV08 is online
[INFO]2021-03-17 08:46:15,725: add_ignore: taskStatus
[INFO]2021-03-17 08:46:15,732: add_ignore: api/elevator/status
[INFO]2021-03-17 08:46:15,737: add_ignore: scada/getTask
[INFO]2021-03-17 08:46:15,750: AGV01 current map fp20190712-1
[INFO]2021-03-17 08:46:15,755: AGV01 is online
[DEBUG]2021-03-17 08:46:16,140: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 08:46:16,146: scadaTask init client agvApi
[DEBUG]2021-03-17 08:46:16,152: used 13ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 08:46:19,321: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 08:46:19,387: used 66ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-17 08:46:19,525: timer_thread[tid:14212] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=14212 count=1 at 0x000001BBC942C698>> ,hold 3402 ms
[INFO]2021-03-17 08:46:19,714: name=timer_thread, pid=996, tid=14212
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-17 08:46:21,170: clear alarm obj=DOOR40, typeId=39998, id=60505e9084e1c5c371a63813
[WARNING]2021-03-17 08:46:21,388: clear alarm obj=DOOR41, typeId=39998, id=60505e9084e1c5c371a63836
[WARNING]2021-03-17 08:46:21,624: clear alarm obj=DOOR13, typeId=39998, id=60505eb884e1c5c371a638cf
[WARNING]2021-03-17 08:46:21,845: clear alarm obj=DOOR23, typeId=39998, id=60505eb884e1c5c371a638d1
[WARNING]2021-03-17 08:46:22,162: clear alarm obj=DOOR08, typeId=39998, id=60505eb884e1c5c371a638d3
[WARNING]2021-03-17 08:46:22,507: clear alarm obj=DOOR09, typeId=39998, id=60505eb884e1c5c371a638d5
[WARNING]2021-03-17 08:46:22,760: clear alarm obj=DOOR15, typeId=39998, id=60505eb984e1c5c371a638d7
[WARNING]2021-03-17 08:46:23,043: clear alarm obj=DOOR07, typeId=39998, id=60505eb984e1c5c371a638d9
[WARNING]2021-03-17 08:46:23,393: clear alarm obj=DOOR04, typeId=39998, id=60505eb984e1c5c371a638db
[WARNING]2021-03-17 08:46:23,682: clear alarm obj=DOOR06, typeId=39998, id=60505eb984e1c5c371a638dd
[WARNING]2021-03-17 08:46:24,028: clear alarm obj=DOOR17, typeId=39998, id=60505eb984e1c5c371a638df
[WARNING]2021-03-17 08:46:24,312: clear alarm obj=DOOR18, typeId=39998, id=60505eb984e1c5c371a638e1
[WARNING]2021-03-17 08:46:24,657: clear alarm obj=DOOR20, typeId=39998, id=60505eba84e1c5c371a638e3
[WARNING]2021-03-17 08:46:25,065: clear alarm obj=DOOR25, typeId=39998, id=60505eba84e1c5c371a638e5
[WARNING]2021-03-17 08:46:25,438: clear alarm obj=DOOR101, typeId=39998, id=60505eba84e1c5c371a638e7
[WARNING]2021-03-17 08:46:25,580: clear alarm obj=DOOR27, typeId=39998, id=60505eba84e1c5c371a638e9
[DEBUG]2021-03-17 08:46:50,047: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 08:46:50,123: scadaTask init client agvApi
[DEBUG]2021-03-17 08:46:50,185: used 138ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 08:46:53,447: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 08:46:53,543: used 96ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[ERROR]2021-03-17 08:47:14,410: raise alarm obj=DOOR40, typeId=39998, desc=门控离线异常, id=6051519284e1c5c371a67f96
[ERROR]2021-03-17 08:47:14,562: raise alarm obj=DOOR41, typeId=39998, desc=门控离线异常, id=6051519284e1c5c371a67f98
[ERROR]2021-03-17 08:47:14,716: raise alarm obj=DOOR13, typeId=39998, desc=门控离线异常, id=6051519284e1c5c371a67f9a
[ERROR]2021-03-17 08:47:14,872: raise alarm obj=DOOR23, typeId=39998, desc=门控离线异常, id=6051519284e1c5c371a67f9c
[ERROR]2021-03-17 08:47:14,997: raise alarm obj=DOOR08, typeId=39998, desc=门控离线异常, id=6051519284e1c5c371a67f9e
[ERROR]2021-03-17 08:47:15,114: raise alarm obj=DOOR09, typeId=39998, desc=门控离线异常, id=6051519384e1c5c371a67fa0
[ERROR]2021-03-17 08:47:15,333: raise alarm obj=DOOR15, typeId=39998, desc=门控离线异常, id=6051519384e1c5c371a67fa2
[ERROR]2021-03-17 08:47:15,413: raise alarm obj=DOOR07, typeId=39998, desc=门控离线异常, id=6051519384e1c5c371a67fa4
[ERROR]2021-03-17 08:47:15,563: raise alarm obj=DOOR04, typeId=39998, desc=门控离线异常, id=6051519384e1c5c371a67fa6
[ERROR]2021-03-17 08:47:15,783: raise alarm obj=DOOR06, typeId=39998, desc=门控离线异常, id=6051519384e1c5c371a67fa8
[ERROR]2021-03-17 08:47:15,922: raise alarm obj=DOOR17, typeId=39998, desc=门控离线异常, id=6051519384e1c5c371a67faa
[ERROR]2021-03-17 08:47:16,093: raise alarm obj=DOOR18, typeId=39998, desc=门控离线异常, id=6051519484e1c5c371a67faf
[DEBUG]2021-03-17 08:47:16,201: GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR23&target=DOOR25&payloadId=&priority= addr: 127.0.0.1
[ERROR]2021-03-17 08:47:16,280: raise alarm obj=DOOR20, typeId=39998, desc=门控离线异常, id=6051519484e1c5c371a67fb1
[INFO]2021-03-17 08:47:16,357: Scada send a task to the server from DOOR23 to DOOR25 payloadId: None
[ERROR]2021-03-17 08:47:16,528: raise alarm obj=DOOR25, typeId=39998, desc=门控离线异常, id=6051519484e1c5c371a67fb3
[INFO]2021-03-17 08:47:16,637: create task[60515194ce1e2bcfa886cf81]: type= scadaTask , 从DOOR23运送货架到DOOR25 {'source': 'DOOR23', 'target': 'DOOR25', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从DOOR23运送货架到DOOR25', 'createTime': datetime.datetime(2021, 3, 17, 8, 47, 16, 605657), 'updateTime': datetime.datetime(2021, 3, 17, 8, 47, 16, 605657), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('60515194ce1e2bcfa886cf81')}
[ERROR]2021-03-17 08:47:16,683: raise alarm obj=DOOR101, typeId=39998, desc=门控离线异常, id=6051519484e1c5c371a67fb6
[WARNING]2021-03-17 08:47:16,901: task[60515194ce1e2bcfa886cf81]: failed, {'failMsg': "can't find source-DOOR23 and target-DOOR25 info", 'endTime': datetime.datetime(2021, 3, 17, 8, 47, 16, 885038), 'status': 'fail'}
[ERROR]2021-03-17 08:47:16,916: raise alarm obj=DOOR27, typeId=39998, desc=门控离线异常, id=6051519484e1c5c371a67fba
[CRITICAL]2021-03-17 08:47:17,134: invoke <function urlAddTask at 0x000001BBC962D378> cause a error: 'NoneType' object is not subscriptable
pid=996, ppid=10108, tid=7564
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\main_scadaCtrl.py", line 79, in urlAddTask
    return {"taskId" : runTasks.addTask(source,target,payloadId,priority)}
  File "C:\Users\Administrator\Desktop\SVN\branches\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 80, in addTask
    task = scadaTask(source,target,payloadId,int(priority))
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 234, in __init__
    log.info(self,"is inside",self.isInside)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 309, in isInside
    return self.s_info["floorId"] == "fp-neiwei"
TypeError: 'NoneType' object is not subscriptable

[DEBUG]2021-03-17 08:47:17,275: used 1074ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR23&target=DOOR25&payloadId=&priority=
[DEBUG]2021-03-17 08:47:17,372: GET: http://127.0.0.1:5551/favicon.ico addr: 127.0.0.1
[DEBUG]2021-03-17 08:47:17,532: used 160ms 200 OK , GET: http://127.0.0.1:5551/favicon.ico
[DEBUG]2021-03-17 08:51:49,542: GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR25&target=DOOR27&payloadId=&priority= addr: 127.0.0.1
[INFO]2021-03-17 08:51:49,667: Scada send a task to the server from DOOR25 to DOOR27 payloadId: None
[INFO]2021-03-17 08:51:49,779: create task[605152a5ce1e2bcfa886cf82]: type= scadaTask , 从DOOR25运送货架到DOOR27 {'source': 'DOOR25', 'target': 'DOOR27', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从DOOR25运送货架到DOOR27', 'createTime': datetime.datetime(2021, 3, 17, 8, 51, 49, 763137), 'updateTime': datetime.datetime(2021, 3, 17, 8, 51, 49, 763137), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('605152a5ce1e2bcfa886cf82')}
[WARNING]2021-03-17 08:51:50,016: task[605152a5ce1e2bcfa886cf82]: failed, {'failMsg': "can't find source-DOOR25 and target-DOOR27 info", 'endTime': datetime.datetime(2021, 3, 17, 8, 51, 49, 951920), 'status': 'fail'}
[CRITICAL]2021-03-17 08:51:50,171: invoke <function urlAddTask at 0x000001BBC962D378> cause a error: 'NoneType' object is not subscriptable
pid=996, ppid=10108, tid=14448
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\main_scadaCtrl.py", line 79, in urlAddTask
    return {"taskId" : runTasks.addTask(source,target,payloadId,priority)}
  File "C:\Users\Administrator\Desktop\SVN\branches\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 80, in addTask
    task = scadaTask(source,target,payloadId,int(priority))
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 234, in __init__
    log.info(self,"is inside",self.isInside)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 309, in isInside
    return self.s_info["floorId"] == "fp-neiwei"
TypeError: 'NoneType' object is not subscriptable

[DEBUG]2021-03-17 08:51:50,235: used 693ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR25&target=DOOR27&payloadId=&priority=
[DEBUG]2021-03-17 08:51:53,158: GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR25&target=DOOR27&payloadId=&priority= addr: 127.0.0.1
[INFO]2021-03-17 08:51:53,269: Scada send a task to the server from DOOR25 to DOOR27 payloadId: None
[INFO]2021-03-17 08:51:53,395: create task[605152a9ce1e2bcfa886cf83]: type= scadaTask , 从DOOR25运送货架到DOOR27 {'source': 'DOOR25', 'target': 'DOOR27', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从DOOR25运送货架到DOOR27', 'createTime': datetime.datetime(2021, 3, 17, 8, 51, 53, 348388), 'updateTime': datetime.datetime(2021, 3, 17, 8, 51, 53, 348388), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('605152a9ce1e2bcfa886cf83')}
[WARNING]2021-03-17 08:51:53,570: task[605152a9ce1e2bcfa886cf83]: failed, {'failMsg': "can't find source-DOOR25 and target-DOOR27 info", 'endTime': datetime.datetime(2021, 3, 17, 8, 51, 53, 539003), 'status': 'fail'}
[CRITICAL]2021-03-17 08:51:53,665: invoke <function urlAddTask at 0x000001BBC962D378> cause a error: 'NoneType' object is not subscriptable
pid=996, ppid=10108, tid=14908
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\main_scadaCtrl.py", line 79, in urlAddTask
    return {"taskId" : runTasks.addTask(source,target,payloadId,priority)}
  File "C:\Users\Administrator\Desktop\SVN\branches\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 80, in addTask
    task = scadaTask(source,target,payloadId,int(priority))
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 234, in __init__
    log.info(self,"is inside",self.isInside)
  File "C:\Users\Administrator\Desktop\SVN\branches\pharmapackCtrl\runTasks.py", line 309, in isInside
    return self.s_info["floorId"] == "fp-neiwei"
TypeError: 'NoneType' object is not subscriptable

[DEBUG]2021-03-17 08:51:53,839: used 681ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR25&target=DOOR27&payloadId=&priority=
[DEBUG]2021-03-17 08:51:53,903: GET: http://127.0.0.1:5551/favicon.ico addr: 127.0.0.1
[DEBUG]2021-03-17 08:51:54,028: used 125ms 200 OK , GET: http://127.0.0.1:5551/favicon.ico
