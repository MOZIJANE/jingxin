[INFO]2021-04-30 14:54:20,755: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-04-30 14:54:20,756: find module account.main_account
[INFO]2021-04-30 14:54:20,757: find module agvCtrl.main_agv
[INFO]2021-04-30 14:54:20,758: find module agvDevice.main_agvDevice
[INFO]2021-04-30 14:54:20,759: find module alarm.main_alarm
[INFO]2021-04-30 14:54:20,759: find module auth.main_auth
[INFO]2021-04-30 14:54:20,760: find module door.main_door
[INFO]2021-04-30 14:54:20,761: find module elevator.main_elevator
[INFO]2021-04-30 14:54:20,762: find module feed.main_feed
[INFO]2021-04-30 14:54:20,763: find module menu.main_menu
[INFO]2021-04-30 14:54:20,764: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-04-30 14:54:20,764: find module webFront.main_web
[INFO]2021-04-30 14:54:20,765: find module wmqtt.main_wmqtt
[INFO]2021-04-30 14:54:20,766: import account.main_account
[INFO]2021-04-30 14:54:20,868: import agvCtrl.main_agv
[INFO]2021-04-30 14:54:21,219: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213A159EE0>>
[INFO]2021-04-30 14:54:21,223: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213A1B50D0>>
[INFO]2021-04-30 14:54:21,354: create lock <lock name:timer.lock_2341735479336,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213A4B6670>>
[ERROR]2021-04-30 14:54:21,367: mqtt is disabled
[INFO]2021-04-30 14:54:21,368: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-30 14:54:21,369: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-30 14:54:24,406: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-30 14:54:24,448: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213A8BB378>>
[INFO]2021-04-30 14:54:24,450: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000221387CFF80>>
[INFO]2021-04-30 14:54:24,456: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000221387CFA08>>
[INFO]2021-04-30 14:54:24,638: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022138B4CDC8>>
[INFO]2021-04-30 14:54:24,878: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213A99DF08>>
[INFO]2021-04-30 14:54:24,884: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AA32F30>>
[INFO]2021-04-30 14:54:24,946: charge policy 1 , fix time
[INFO]2021-04-30 14:54:24,980: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AA32C10>>
[INFO]2021-04-30 14:54:25,397: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZSC-F1-F3.smap
[DEBUG]2021-04-30 14:54:25,592: elevator thread start
[INFO]2021-04-30 14:54:25,611: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZSC-F1-F3.smap ,used 222 ms
[INFO]2021-04-30 14:54:25,620: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-3F.smap
[INFO]2021-04-30 14:54:25,710: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-3F.smap ,used 98 ms
[INFO]2021-04-30 14:54:25,723: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-F3.smap
[INFO]2021-04-30 14:54:25,845: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-F3.smap ,used 133 ms
[INFO]2021-04-30 14:54:25,850: import agvDevice.main_agvDevice
[INFO]2021-04-30 14:54:25,851: import alarm.main_alarm
[INFO]2021-04-30 14:54:25,852: import auth.main_auth
[INFO]2021-04-30 14:54:25,862: import door.main_door
[INFO]2021-04-30 14:54:25,865: import elevator.main_elevator
[INFO]2021-04-30 14:54:25,867: import feed.main_feed
[INFO]2021-04-30 14:54:25,875: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AEE69B8>>
[INFO]2021-04-30 14:54:25,907: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AF47300>>
[INFO]2021-04-30 14:54:25,970: import menu.main_menu
[INFO]2021-04-30 14:54:25,973: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-04-30 14:54:26,054: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AF81B70>>
[INFO]2021-04-30 14:54:26,060: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AF81AD0>>
[INFO]2021-04-30 14:54:26,728: import webFront.main_web
[INFO]2021-04-30 14:54:26,746: import wmqtt.main_wmqtt
[SUCC]2021-04-30 14:54:26,774: utility start, pid=3540, ppid=6504
[DEBUG]2021-04-30 14:54:26,776: start timer
[INFO]2021-04-30 14:54:26,794: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-30 14:54:26,796: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B2D50A8>>
[DEBUG]2021-04-30 14:54:26,801: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-04-30 14:54:26,807: AGV01 start agvList run thread
[INFO]2021-04-30 14:54:26,807: AGV01 start agvList run2 thread
[INFO]2021-04-30 14:54:26,810: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B2D5210>>
[INFO]2021-04-30 14:54:26,812: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B2D5328>>
[DEBUG]2021-04-30 14:54:26,821: try connect AGV01 172.16.217.121:19204
[DEBUG]2021-04-30 14:54:26,822: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-04-30 14:54:26,824: AGV02 start agvList run thread
[INFO]2021-04-30 14:54:26,825: AGV02 start agvList run2 thread
[INFO]2021-04-30 14:54:26,825: add_ignore: taskStatus
[INFO]2021-04-30 14:54:26,825: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213AF81F80>>
[INFO]2021-04-30 14:54:26,829: add_ignore: api/elevator/status
[DEBUG]2021-04-30 14:54:26,832: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:54:26,838: add_ignore: scada/getTask
[INFO]2021-04-30 14:54:26,917: AGV01 connected 172.16.217.121 19204
[INFO]2021-04-30 14:54:26,919: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B2D5418>>
[DEBUG]2021-04-30 14:54:26,923: try connect AGV01 172.16.217.121:19205
[INFO]2021-04-30 14:54:27,002: AGV01 connected 172.16.217.121 19205
[INFO]2021-04-30 14:54:27,005: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B4C8058>>
[DEBUG]2021-04-30 14:54:27,008: try connect AGV01 172.16.217.121:19206
[INFO]2021-04-30 14:54:27,029: AGV01 connected 172.16.217.121 19206
[INFO]2021-04-30 14:54:27,030: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B4C8080>>
[DEBUG]2021-04-30 14:54:27,033: try connect AGV01 172.16.217.121:19207
[INFO]2021-04-30 14:54:27,090: AGV01 connected 172.16.217.121 19207
[INFO]2021-04-30 14:54:27,093: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B2D5878>>
[DEBUG]2021-04-30 14:54:27,095: try connect AGV01 172.16.217.121:19208
[INFO]2021-04-30 14:54:27,116: AGV01 connected 172.16.217.121 19208
[INFO]2021-04-30 14:54:27,118: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000002213B2D5850>>
[DEBUG]2021-04-30 14:54:27,121: try connect AGV01 172.16.217.121:19210
[INFO]2021-04-30 14:54:27,131: AGV01 connected 172.16.217.121 19210
[INFO]2021-04-30 14:54:27,186: AGV01 current map comba-ZXC-3F
[INFO]2021-04-30 14:54:27,243: AGV01 is online
[ERROR]2021-04-30 14:54:27,250: raise alarm obj=AGV01, typeId=54021, desc=AGV异常
[ERROR]2021-04-30 14:54:27,253: raise alarm obj=AGV01, typeId=54022, desc=AGV异常
[ERROR]2021-04-30 14:54:27,256: raise alarm obj=AGV01, typeId=70001, desc=AGV异常
[WARNING]2021-04-30 14:54:27,272: clear alarm obj=AGV01, typeId=52300, id=608ba966c6f3dc7e5c1d1509
[ERROR]2021-04-30 14:54:27,281: raise alarm obj=AGV01, typeId=4002, desc=急停按钮处于激活状态
[INFO]2021-04-30 14:54:27,788: AGV01 require control
[ERROR]2021-04-30 14:54:27,874: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7467759356725148, id=608ba9a3c6f3dc7e5c1d156c
[WARNING]2021-04-30 14:54:28,488: clear alarm obj=AGV01, typeId=49997, id=608ba9a3c6f3dc7e5c1d156c
[ERROR]2021-04-30 14:54:29,077: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7289417800632911, id=608ba9a5c6f3dc7e5c1d1574
[WARNING]2021-04-30 14:54:29,660: clear alarm obj=AGV01, typeId=49997, id=608ba9a5c6f3dc7e5c1d1574
[ERROR]2021-04-30 14:54:30,844: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7466006213662791, id=608ba9a6c6f3dc7e5c1d157d
[CRITICAL]2021-04-30 14:54:30,844: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=3540, ppid=6504, tid=1552
Traceback (most recent call last):
  File "C:\Python37\lib\urllib\request.py", line 1317, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "C:\Python37\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "C:\Python37\lib\http\client.py", line 956, in send
    self.connect()
  File "C:\Python37\lib\http\client.py", line 928, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "C:\Python37\lib\socket.py", line 727, in create_connection
    raise err
  File "C:\Python37\lib\socket.py", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1319, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[WARNING]2021-04-30 14:54:31,949: clear alarm obj=AGV01, typeId=49997, id=608ba9a6c6f3dc7e5c1d157d
[DEBUG]2021-04-30 14:54:32,889: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-04-30 14:54:32,894: scadaTask init client agvApi
[DEBUG]2021-04-30 14:54:32,899: used 10ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[ERROR]2021-04-30 14:54:35,089: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7407304004854368, id=608ba9abc6f3dc7e5c1d1586
[DEBUG]2021-04-30 14:54:35,963: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-04-30 14:54:36,087: used 124ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-04-30 14:54:36,227: timer_thread[tid:1552] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=1552 count=1 at 0x000002213AF81B70>> ,hold 7434 ms
[INFO]2021-04-30 14:54:36,414: name=timer_thread, pid=3540, tid=1552
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[ERROR]2021-04-30 14:54:36,850: connect AGV02 failed timed out
[DEBUG]2021-04-30 14:54:36,928: try connect AGV02 172.16.217.213:19204
[WARNING]2021-04-30 14:54:37,261: clear alarm obj=AGV01, typeId=49997, id=608ba9abc6f3dc7e5c1d1586
[WARNING]2021-04-30 14:54:38,907: clear alarm obj=AGV01, typeId=54021, id=608ba96cc6f3dc7e5c1d151e
[WARNING]2021-04-30 14:54:39,193: clear alarm obj=AGV01, typeId=54022, id=608ba96cc6f3dc7e5c1d1520
[ERROR]2021-04-30 14:54:39,376: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7470961607142858, id=608ba9afc6f3dc7e5c1d15a8
[WARNING]2021-04-30 14:54:39,532: clear alarm obj=AGV01, typeId=4002, id=608ba96cc6f3dc7e5c1d1524
[WARNING]2021-04-30 14:54:43,353: clear alarm obj=AGV01, typeId=49997, id=608ba9afc6f3dc7e5c1d15a8
[DEBUG]2021-04-30 14:54:46,883: AGV01 set loc comba-ZXC-3F.LM113 ,old LM116 (1.60,10.82)
[ERROR]2021-04-30 14:54:47,113: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7367108793063497, id=608ba9b7c6f3dc7e5c1d15d8
[ERROR]2021-04-30 14:54:47,129: connect AGV02 failed timed out
[INFO]2021-04-30 14:54:47,317: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:54:47,396: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 20564 ms
[INFO]2021-04-30 14:54:47,569: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-04-30 14:54:48,953: clear alarm obj=AGV01, typeId=49997, id=608ba9b7c6f3dc7e5c1d15d8
[DEBUG]2021-04-30 14:54:49,691: try connect AGV02 172.16.217.213:19204
[ERROR]2021-04-30 14:54:49,846: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.743346949666461, id=608ba9b9c6f3dc7e5c1d15f1
[WARNING]2021-04-30 14:54:50,900: clear alarm obj=AGV01, typeId=49997, id=608ba9b9c6f3dc7e5c1d15f1
[ERROR]2021-04-30 14:54:53,137: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7318329347433158, id=608ba9bdc6f3dc7e5c1d1606
[WARNING]2021-04-30 14:54:54,161: clear alarm obj=AGV01, typeId=49997, id=608ba9bdc6f3dc7e5c1d1606
[ERROR]2021-04-30 14:54:55,151: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.6930695750835069, id=608ba9bfc6f3dc7e5c1d1617
[WARNING]2021-04-30 14:54:57,790: clear alarm obj=AGV01, typeId=49997, id=608ba9bfc6f3dc7e5c1d1617
[ERROR]2021-04-30 14:54:59,348: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7246669888999082, id=608ba9c3c6f3dc7e5c1d1635
[ERROR]2021-04-30 14:54:59,812: connect AGV02 failed timed out
[INFO]2021-04-30 14:54:59,879: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:54:59,918: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10227 ms
[INFO]2021-04-30 14:55:00,076: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:55:02,209: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-04-30 14:55:03,240: AGV01 set loc comba-ZXC-3F.LM114 ,old LM113 (5.73,11.05)
[ERROR]2021-04-30 14:55:12,331: connect AGV02 failed timed out
[INFO]2021-04-30 14:55:12,373: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:55:12,441: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10231 ms
[INFO]2021-04-30 14:55:12,566: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:55:14,522: GET: http://127.0.0.1:5551/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E4%B8%8B%E6%96%99%E7%82%B9&target=%E4%B8%89%E6%A5%BC%E4%B8%8A%E6%96%99%E7%82%B9 addr: 127.0.0.1
[INFO]2021-04-30 14:55:14,552: Scada send a task to the server from 三楼下料点 to 三楼上料点 payloadId: None
[DEBUG]2021-04-30 14:55:14,612: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:55:14,660: create task[608ba9d2a21b4cceff0aeccc]: type= scadaTask , 从三楼下料点运送货架到三楼上料点 {'source': '三楼下料点', 'target': '三楼上料点', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼下料点运送货架到三楼上料点', 'createTime': datetime.datetime(2021, 4, 30, 14, 55, 14, 627924), 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 14, 627924), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('608ba9d2a21b4cceff0aeccc')}
[INFO]2021-04-30 14:55:14,799: 
[INFO]2021-04-30 14:55:14,876: 三楼上料点 三楼下料点
[INFO]2021-04-30 14:55:15,046: task[608ba9d2a21b4cceff0aeccc][-] AP668(LM16) -> AP666(LM2) [waiting] is inside False
[INFO]2021-04-30 14:55:15,140: task cmd: got a task from scada task[608ba9d2a21b4cceff0aeccc][-] AP668(LM16) -> AP666(LM2) [waiting]
[DEBUG]2021-04-30 14:55:15,249: used 727ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E4%B8%8B%E6%96%99%E7%82%B9&target=%E4%B8%89%E6%A5%BC%E4%B8%8A%E6%96%99%E7%82%B9
[DEBUG]2021-04-30 14:55:15,372: GET: http://127.0.0.1:5551/favicon.ico addr: 127.0.0.1
[INFO]2021-04-30 14:55:15,449: task[608ba9d2a21b4cceff0aeccc]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 30, 14, 55, 15, 434038), 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 15, 434038), 'status': 'running'}
[INFO]2021-04-30 14:55:15,497: task: start task[608ba9d2a21b4cceff0aeccc][-] AP668(LM16) -> AP666(LM2) [waiting]
[DEBUG]2021-04-30 14:55:15,573: used 201ms 200 OK , GET: http://127.0.0.1:5551/favicon.ico
[INFO]2021-04-30 14:55:15,603: this is taskStep=============>waiting
[INFO]2021-04-30 14:55:15,755: task[608ba9d2a21b4cceff0aeccc] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 15, 740179)}
[DEBUG]2021-04-30 14:55:15,815: task[608ba9d2a21b4cceff0aeccc][-] AP668(LM16) -> AP666(LM2) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-30 14:55:16,902: this is taskStep=============>waitForAgv
[DEBUG]2021-04-30 14:55:17,118: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP668&mapId=comba-ZXC-3F&taskId=608ba9d2a21b4cceff0aeccc&timeout=10 addr: 127.0.0.1
[INFO]2021-04-30 14:55:19,566: apply AGV01 ,taskId: 608ba9d2a21b4cceff0aeccc ,loc comba-ZXC-3F.AP668 ,autoLock False , used 2387 ms
[DEBUG]2021-04-30 14:55:19,608: used 2490ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP668&mapId=comba-ZXC-3F&taskId=608ba9d2a21b4cceff0aeccc&timeout=10
[DEBUG]2021-04-30 14:55:19,869: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV01&appName=scadaTask&taskId=608ba9d2a21b4cceff0aeccc addr: 127.0.0.1
[DEBUG]2021-04-30 14:55:19,944: lock:  AGV01 taskId 608ba9d2a21b4cceff0aeccc app scadaTask
[WARNING]2021-04-30 14:55:20,997: AGV01 clear task finish, cur= comba-ZXC-3F.LM114 task_status= 4
[DEBUG]2021-04-30 14:55:21,089: used 1221ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV01&appName=scadaTask&taskId=608ba9d2a21b4cceff0aeccc
[INFO]2021-04-30 14:55:21,290: task[608ba9d2a21b4cceff0aeccc][-] AP668(LM16) -> AP666(LM2) [waitForAgv] apply AGV01
[INFO]2021-04-30 14:55:21,360: task[608ba9d2a21b4cceff0aeccc] update info: {'agvId': 'AGV01', 'failMsg': '成功分配小车AGV01,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 21, 354224)}
[WARNING]2021-04-30 14:55:21,462: scada.608ba9d2a21b4cceff0aeccc[tid:12256] <locked _thread.RLock object owner=12256 count=1 at 0x000002213F7E3800> ,hold 4560 ms
[WARNING]2021-04-30 14:55:21,602: clear alarm obj=AGV01, typeId=49997, id=608ba9c3c6f3dc7e5c1d1635
[INFO]2021-04-30 14:55:21,649: name=scada.608ba9d2a21b4cceff0aeccc, pid=3540, tid=12256
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/pharmapackCtrl/runTasks.py", line 735, in _taskFunc() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:55:21,913: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [initJackdown] waitForAgv -> initJackdown
[ERROR]2021-04-30 14:55:22,425: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7458607714016934, id=608ba9dac6f3dc7e5c1d16b2
[INFO]2021-04-30 14:55:22,500: this is taskStep=============>initJackdown
[INFO]2021-04-30 14:55:22,657: task[608ba9d2a21b4cceff0aeccc] update info: {'failMsg': '前往三楼下料点工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 22, 624672)}
[DEBUG]2021-04-30 14:55:22,719: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [startMoveJackup] initJackdown -> startMoveJackup
[INFO]2021-04-30 14:55:23,262: this is taskStep=============>startMoveJackup
[INFO]2021-04-30 14:55:23,370: ------------------------------执行到runTasks._moveJackup()-----------------000-----------------
[WARNING]2021-04-30 14:55:23,371: clear alarm obj=AGV01, typeId=49997, id=608ba9dac6f3dc7e5c1d16b2
[INFO]2021-04-30 14:55:23,431: ----------------------------在runTasks.py的_moveJackup函数中-----------------111-------------
[INFO]2021-04-30 14:55:23,514: -----------------runTasks.py中的else，因为不是fastprint项目，走这里------------222-------------
[INFO]2021-04-30 14:55:23,574: --------------------------跳转到agvCtrl下的agvApi中的moveJackup函数----------------------3333-------
[INFO]2021-04-30 14:55:23,622: ----------------------------通过moveJackup来到move函数---------------------------444---------------
[DEBUG]2021-04-30 14:55:23,713: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=comba-ZXC-3F&isRotate&loc=comba-ZXC-3F.AP668&location=AP668&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=608ba9d2a21b4cceff0aeccc_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-30 14:55:23,748: -------------------------根据move函数会根据main_agv.py来到agvControl函数中的move中----------555---------
[INFO]2021-04-30 14:55:23,777: ---------------------move函数中的_func()函数中-------------------------666--------------------
[INFO]2021-04-30 14:55:23,809: -------------------------6666中的if判断是否进入agvList.py中的moveJackup函数----------------------------
[INFO]2021-04-30 14:55:23,813: LM114 AP668 comba-ZXC-3F comba-ZXC-3F
[INFO]2021-04-30 14:55:23,817: -------------------------------pass------------------------------
[INFO]2021-04-30 14:55:23,832: Begin: AGV01 move from comba-ZXC-3F.LM114 to comba-ZXC-3F.AP668 by paths: [('comba-ZXC-3F', ['LM114', 'LM115', 'AP668'], 2.682908354548494)] task: 608ba9d2a21b4cceff0aeccc_2 timeout 86400 used 55 ms
[DEBUG]2021-04-30 14:55:23,837: used 124ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=comba-ZXC-3F&isRotate&loc=comba-ZXC-3F.AP668&location=AP668&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=608ba9d2a21b4cceff0aeccc_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-30 14:55:23,842: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-30 14:55:23,845: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [loadPlayload] startMoveJackup -> loadPlayload
[ERROR]2021-04-30 14:55:24,081: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7291955098222638, id=608ba9dcc6f3dc7e5c1d16c2
[INFO]2021-04-30 14:55:24,164: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:24,473: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:55:24,504: agvInfo: AGV01 comba-ZXC-3F.LM114 move to comba-ZXC-3F.LM115 ,taskId 608ba9d2a21b4cceff0aeccc_2
[INFO]2021-04-30 14:55:24,506: goTarget {'id': 'LM115', 'ignoreAngle': True}
[INFO]2021-04-30 14:55:24,508: -------------------------来到driver中的agvApi下的task函数中------------------（12）--------------------
[ERROR]2021-04-30 14:55:24,785: connect AGV02 failed timed out
[INFO]2021-04-30 14:55:24,786: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:24,789: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:55:24,799: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10187 ms
[INFO]2021-04-30 14:55:24,804: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:55:25,034: AGV01 turn to wait check cur LM114 next AP668 0.642 False
[INFO]2021-04-30 14:55:25,110: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:25,422: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:25,574: ----------实际上可能走的是agvContrl中的oncheck函数这里进去moveJackup-----------------------------
[INFO]2021-04-30 14:55:25,578: ------------------------根据agvControl中的_func来到agvList中的moveJackup---------------999--------
[DEBUG]2021-04-30 14:55:25,582: agvInfo: AGV01 comba-ZXC-3F.LM114 move jackup to comba-ZXC-3F.AP668 ,taskId 608ba9d2a21b4cceff0aeccc_2
[INFO]2021-04-30 14:55:25,583: --------------------跳转到driver下的seerAgv下的agcCtrl.py中的goTargetAndDoWork函数中-----------------10---------
[INFO]2021-04-30 14:55:25,585: 1
[INFO]2021-04-30 14:55:25,586: {'id': 'AP668', 'operation': 'ForkLoad', 'recognize': False, 'use_pgv': False}
[INFO]2021-04-30 14:55:25,588: --------------------------准备进去driver中的seerAgv.py下的task函数-----------------（11）--------------
[INFO]2021-04-30 14:55:25,589: -------------------------来到driver中的agvApi下的task函数中------------------（12）--------------------
[INFO]2021-04-30 14:55:25,731: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:26,045: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:26,363: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:26,689: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:55:26,812: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:55:27,011: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:27,322: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:55:27,404: raise alarm obj=AGV01, typeId=52300, desc=AGV异常, id=608ba9dfc6f3dc7e5c1d16d3
[INFO]2021-04-30 14:55:27,634: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:27,634: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:27,946: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:28,146: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:28,261: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:28,586: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:28,663: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:28,894: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:29,172: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[WARNING]2021-04-30 14:55:29,189: clear alarm obj=AGV01, typeId=52300, id=608ba9dfc6f3dc7e5c1d16d3
[INFO]2021-04-30 14:55:29,203: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:29,511: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:29,680: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:29,821: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:30,136: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:30,199: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:30,462: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:30,723: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:30,768: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:31,082: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:31,240: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:31,394: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:31,703: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:31,749: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:32,010: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:32,262: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:32,323: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:32,646: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:32,772: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:32,957: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:33,267: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:33,282: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:33,573: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:33,787: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:33,894: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:34,202: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:34,301: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:34,557: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:34,852: AGV01 waitFinish: loc is diff LM114 AP668 task_status= 2
[INFO]2021-04-30 14:55:34,868: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:35,180: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:55:35,328: AGV01 set loc comba-ZXC-3F.LM115 ,old LM114 (5.58,10.60)
[WARNING]2021-04-30 14:55:35,369: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:35,490: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:35,799: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:35,875: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:36,110: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:36,395: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:36,425: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:36,746: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:55:36,824: connect AGV02 failed timed out
[INFO]2021-04-30 14:55:36,827: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:55:36,828: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10016 ms
[INFO]2021-04-30 14:55:36,833: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-04-30 14:55:36,899: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:37,070: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:37,381: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:37,411: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:37,691: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:37,928: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:38,007: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:38,318: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:38,442: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:38,647: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:55:38,849: try connect AGV02 172.16.217.213:19204
[WARNING]2021-04-30 14:55:38,958: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:38,959: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:39,271: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:39,473: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:39,581: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:39,893: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:39,986: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:40,206: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:40,504: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:40,551: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:40,857: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:41,010: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:41,168: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:41,481: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:41,527: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:41,795: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:42,046: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:42,108: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:42,422: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:42,560: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:42,731: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:43,040: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:43,071: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:43,353: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:43,589: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:43,665: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:43,981: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:44,093: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[ERROR]2021-04-30 14:55:44,114: raise alarm obj=AGV01, typeId=52300, desc=AGV异常, id=608ba9f0c6f3dc7e5c1d1742
[INFO]2021-04-30 14:55:44,298: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:44,608: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:44,624: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:44,935: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:45,121: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:45,247: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:45,558: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:45,638: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:45,872: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:46,152: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:46,200: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:46,514: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:46,667: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:46,824: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:47,137: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:47,183: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:47,446: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:47,698: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:47,760: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:48,072: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:48,212: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:48,385: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:48,696: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:48,758: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[ERROR]2021-04-30 14:55:48,868: connect AGV02 failed timed out
[INFO]2021-04-30 14:55:48,870: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:55:48,874: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10025 ms
[INFO]2021-04-30 14:55:48,879: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:55:49,007: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:49,266: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[INFO]2021-04-30 14:55:49,327: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:49,638: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:55:49,779: AGV01 waitFinish: loc is diff LM115 AP668 task_status= 2
[DEBUG]2021-04-30 14:55:49,849: AGV01 set loc comba-ZXC-3F.AP668 ,old LM115 (5.57,12.50)
[INFO]2021-04-30 14:55:49,950: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:50,262: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:50,625: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:55:50,892: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:55:50,938: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:51,249: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:51,559: this is taskStep=============>loadPlayload
[SUCC]2021-04-30 14:55:51,827: Finish:  AGV01 arrived comba-ZXC-3F.AP668 ,task: 608ba9d2a21b4cceff0aeccc_2
[INFO]2021-04-30 14:55:51,874: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:52,184: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:55:52,315: task: move finish callback task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [loadPlayload]
[INFO]2021-04-30 14:55:52,320: task[608ba9d2a21b4cceff0aeccc] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 52, 318022)}
[INFO]2021-04-30 14:55:52,498: this is taskStep=============>loadPlayload_readqr
[DEBUG]2021-04-30 14:55:52,503: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-30 14:55:52,809: this is taskStep=============>loadPlayload_jackup
[INFO]2021-04-30 14:55:52,813: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-30 14:55:52,816: send http_get: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-04-30 14:55:52,820: GET: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-30 14:55:52,822: ------------------------other函数-----------------------------------------
[DEBUG]2021-04-30 14:55:55,647: used 2828ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-04-30 14:55:55,806: [return] use 2990 ms,http_get: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90
[INFO]2021-04-30 14:55:55,942: task[608ba9d2a21b4cceff0aeccc] update info: {'failMsg': '等待三楼上料点工位点锁', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 55, 880710)}
[WARNING]2021-04-30 14:55:56,053: scada.608ba9d2a21b4cceff0aeccc[tid:12256] <locked _thread.RLock object owner=12256 count=1 at 0x000002213F7E3800> ,hold 3244 ms
[INFO]2021-04-30 14:55:56,208: name=scada.608ba9d2a21b4cceff0aeccc, pid=3540, tid=12256
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/pharmapackCtrl/runTasks.py", line 735, in _taskFunc() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:55:56,285: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-30 14:55:56,835: this is taskStep=============>waitDestPreLoc
[INFO]2021-04-30 14:55:56,975: task: prepoint locked  608ba9d2a21b4cceff0aeccc comba-ZXC-3F.AP666
[INFO]2021-04-30 14:55:57,163: task[608ba9d2a21b4cceff0aeccc] update info: {'failMsg': '前往AP666工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 57, 115559)}
[DEBUG]2021-04-30 14:55:57,290: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [dropPayloadMove] waitDestPreLoc -> dropPayloadMove
[INFO]2021-04-30 14:55:57,839: this is taskStep=============>dropPayloadMove
[INFO]2021-04-30 14:55:57,946: --------------------------跳转到agvCtrl下的agvApi中的movedown函数----------------------3333-------
[INFO]2021-04-30 14:55:58,056: ----------------------------通过moveJackup来到move函数---------------------------444---------------
[DEBUG]2021-04-30 14:55:58,111: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=comba-ZXC-3F&isRotate&loc=comba-ZXC-3F.AP666&location=AP666&p_direction=0.0&pgv_type=1&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=608ba9d2a21b4cceff0aeccc_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-30 14:55:58,122: -------------------------根据move函数会根据main_agv.py来到agvControl函数中的move中----------555---------
[INFO]2021-04-30 14:55:58,125: ---------------------move函数中的_func()函数中-------------------------666--------------------
[INFO]2021-04-30 14:55:58,157: -------------------------6666中的if判断是否进入agvList.py中的moveJackup函数----------------------------
[INFO]2021-04-30 14:55:58,183: AP668 AP666 comba-ZXC-3F comba-ZXC-3F
[INFO]2021-04-30 14:55:58,196: -------------------------------pass------------------------------
[INFO]2021-04-30 14:55:58,335: Begin: AGV01 move from comba-ZXC-3F.AP668 to comba-ZXC-3F.AP666 by paths: [('comba-ZXC-3F', ['AP668', 'LM113', 'LM112', 'LM111', 'LM110', 'LM109', 'LM108', 'LM107', 'LM106', 'LM105', 'LM104', 'LM103', 'LM102', 'LM100', 'LM101', 'AP666'], 93.87421946470582)] task: 608ba9d2a21b4cceff0aeccc_4 timeout 86400 used 210 ms
[DEBUG]2021-04-30 14:55:58,343: used 232ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=comba-ZXC-3F&isRotate&loc=comba-ZXC-3F.AP666&location=AP666&p_direction=0.0&pgv_type=1&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=608ba9d2a21b4cceff0aeccc_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-30 14:55:58,347: task[608ba9d2a21b4cceff0aeccc] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 30, 14, 55, 58, 345659)}
[DEBUG]2021-04-30 14:55:58,350: task[608ba9d2a21b4cceff0aeccc][AGV01] AP668(LM16) -> AP666(LM2) [dropPayload] dropPayloadMove -> dropPayload
[INFO]2021-04-30 14:55:58,657: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:55:58,966: this is taskStep=============>dropPayload
[DEBUG]2021-04-30 14:55:59,206: agvInfo: AGV01 comba-ZXC-3F.AP668 move to comba-ZXC-3F.LM113 ,taskId 608ba9d2a21b4cceff0aeccc_4
[INFO]2021-04-30 14:55:59,212: goTarget {'id': 'LM113', 'ignoreAngle': True}
[INFO]2021-04-30 14:55:59,215: -------------------------来到driver中的agvApi下的task函数中------------------（12）--------------------
[INFO]2021-04-30 14:55:59,278: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:55:59,586: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:55:59,897: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:00,210: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:00,529: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:00,838: this is taskStep=============>dropPayload
[ERROR]2021-04-30 14:56:00,899: connect AGV02 failed timed out
[INFO]2021-04-30 14:56:00,903: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:56:00,904: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10012 ms
[INFO]2021-04-30 14:56:00,908: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:56:01,150: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:01,459: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:01,771: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:02,085: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:02,396: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:02,753: this is taskStep=============>dropPayload
[DEBUG]2021-04-30 14:56:02,923: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:56:03,064: this is taskStep=============>dropPayload
[ERROR]2021-04-30 14:56:03,159: raise alarm obj=AGV01, typeId=54021, desc=AGV异常, id=608baa03c6f3dc7e5c1d17b5
[ERROR]2021-04-30 14:56:03,166: raise alarm obj=AGV01, typeId=54022, desc=AGV异常, id=608baa03c6f3dc7e5c1d17b7
[ERROR]2021-04-30 14:56:03,173: raise alarm obj=AGV01, typeId=4002, desc=急停按钮处于激活状态, id=608baa03c6f3dc7e5c1d17b9
[INFO]2021-04-30 14:56:03,374: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:03,683: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:03,994: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:04,326: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:04,664: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:04,979: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:05,289: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:05,598: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:05,912: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:06,224: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:06,530: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:06,840: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:07,153: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:07,460: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:07,767: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:08,090: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:08,398: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:08,705: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:09,056: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:09,368: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:09,679: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:09,988: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:10,303: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:10,640: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:10,949: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:11,266: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:11,579: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:11,887: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:12,199: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:12,510: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:12,823: this is taskStep=============>dropPayload
[ERROR]2021-04-30 14:56:12,931: connect AGV02 failed timed out
[INFO]2021-04-30 14:56:12,935: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:56:12,938: agvThread.AGV02[tid:1616] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=1616 count=1 at 0x000002213AF81F80>> ,hold 10015 ms
[INFO]2021-04-30 14:56:12,943: name=agvThread.AGV02, pid=3540, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:56:13,132: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:13,443: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:13,753: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:14,064: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:14,376: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:14,689: this is taskStep=============>dropPayload
[DEBUG]2021-04-30 14:56:14,958: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:56:15,004: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:15,320: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:15,631: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:15,946: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:16,255: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:16,651: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:16,963: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:17,271: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:17,592: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:17,904: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:18,214: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:18,526: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:18,837: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:19,147: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:19,458: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:19,770: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:20,081: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:20,398: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:20,762: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:21,082: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:21,409: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:21,718: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:22,028: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:22,337: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:22,653: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:22,963: this is taskStep=============>dropPayload
[INFO]2021-04-30 14:56:23,272: this is taskStep=============>dropPayload
