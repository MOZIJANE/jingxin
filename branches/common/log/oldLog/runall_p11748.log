[INFO]2021-03-17 09:18:36,321: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-03-17 09:18:36,323: find module account.main_account
[INFO]2021-03-17 09:18:36,326: find module agvCtrl.main_agv
[INFO]2021-03-17 09:18:36,328: find module agvDevice.main_agvDevice
[INFO]2021-03-17 09:18:36,330: find module alarm.main_alarm
[INFO]2021-03-17 09:18:36,332: find module auth.main_auth
[INFO]2021-03-17 09:18:36,334: find module door.main_door
[INFO]2021-03-17 09:18:36,336: find module elevator.main_elevator
[INFO]2021-03-17 09:18:36,338: find module menu.main_menu
[INFO]2021-03-17 09:18:36,344: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 09:18:36,345: find module webFront.main_web
[INFO]2021-03-17 09:18:36,347: find module wmqtt.main_wmqtt
[INFO]2021-03-17 09:18:36,349: import account.main_account
[INFO]2021-03-17 09:18:36,700: import agvCtrl.main_agv
[INFO]2021-03-17 09:18:37,814: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023421D958C8>>
[INFO]2021-03-17 09:18:37,824: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023421D95A80>>
[INFO]2021-03-17 09:18:38,177: create lock <lock name:timer.lock_2422933232048,<unlocked _thread.RLock object owner=0 count=0 at 0x00000234220ED4E0>>
[ERROR]2021-03-17 09:18:38,221: mqtt is disabled
[INFO]2021-03-17 09:18:38,223: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-17 09:18:38,225: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-17 09:18:41,349: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-17 09:18:41,409: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000234203D1878>>
[WARNING]2021-03-17 09:18:41,448: use mockAgvCtrl
[INFO]2021-03-17 09:18:41,458: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000234207637B0>>
[INFO]2021-03-17 09:18:41,946: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023422584828>>
[INFO]2021-03-17 09:18:41,951: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000234225A04E0>>
[INFO]2021-03-17 09:18:42,099: charge policy 1 , fix time
[INFO]2021-03-17 09:18:42,161: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000234225A0C10>>
[INFO]2021-03-17 09:18:42,866: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-17 09:18:43,144: create aliveObj DOOR40 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:43,147: create aliveObj DOOR41 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:43,172: elevator thread start
[INFO]2021-03-17 09:18:43,232: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap ,used 375 ms
[INFO]2021-03-17 09:18:43,257: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-17 09:18:43,721: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap ,used 486 ms
[INFO]2021-03-17 09:18:43,732: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap
[DEBUG]2021-03-17 09:18:45,173: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,176: create aliveObj DOOR23 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,177: create aliveObj DOOR08 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,180: create aliveObj DOOR09 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,181: create aliveObj DOOR15 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,183: create aliveObj DOOR07 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,184: create aliveObj DOOR04 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,187: create aliveObj DOOR06 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,191: create aliveObj DOOR17 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,192: create aliveObj DOOR18 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,193: create aliveObj DOOR20 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,194: create aliveObj DOOR25 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,196: create aliveObj DOOR101 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:18:45,197: create aliveObj DOOR27 门控离线异常 timeout 60
[INFO]2021-03-17 09:18:45,245: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap ,used 1522 ms
[WARNING]2021-03-17 09:18:45,247: MainThread[tid:7120] <lock name:mapMgr.lock,<locked _thread.RLock object owner=7120 count=1 at 0x00000234207637B0>> ,hold 3084 ms
[INFO]2021-03-17 09:18:45,248: name=MainThread, pid=11748, tid=7120
[01] File "run_all.py", line 57, in <module>() 
[02] File "run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 983, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 677, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 728, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[10] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[11] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[12] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-03-17 09:18:45,254: import agvDevice.main_agvDevice
[INFO]2021-03-17 09:18:45,255: import alarm.main_alarm
[INFO]2021-03-17 09:18:45,256: import auth.main_auth
[INFO]2021-03-17 09:18:45,264: import door.main_door
[INFO]2021-03-17 09:18:45,267: import elevator.main_elevator
[INFO]2021-03-17 09:18:45,285: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424DDDEE0>>
[INFO]2021-03-17 09:18:45,286: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424DDD8A0>>
[INFO]2021-03-17 09:18:45,290: import menu.main_menu
[INFO]2021-03-17 09:18:45,294: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 09:18:45,380: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424DCC760>>
[INFO]2021-03-17 09:18:45,383: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424DCC6C0>>
[INFO]2021-03-17 09:18:46,948: import webFront.main_web
[INFO]2021-03-17 09:18:46,975: import wmqtt.main_wmqtt
[SUCC]2021-03-17 09:18:47,060: utility start, pid=11748, ppid=13996
[DEBUG]2021-03-17 09:18:47,066: start timer
[INFO]2021-03-17 09:18:47,091: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-17 09:18:47,106: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424E32328>>
[DEBUG]2021-03-17 09:18:47,116: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,121: AGV01 start agvList run thread
[INFO]2021-03-17 09:18:47,123: AGV01 start agvList run2 thread
[ERROR]2021-03-17 09:18:47,153: agv check init error False
[INFO]2021-03-17 09:18:47,155: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424E32490>>
[DEBUG]2021-03-17 09:18:47,176: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,181: AGV02 start agvList run thread
[INFO]2021-03-17 09:18:47,182: AGV02 start agvList run2 thread
[INFO]2021-03-17 09:18:47,182: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424E32698>>
[INFO]2021-03-17 09:18:47,196: AGV02 current map fp20190712-1
[INFO]2021-03-17 09:18:47,203: AGV02 is online
[DEBUG]2021-03-17 09:18:47,207: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,221: AGV03 start agvList run thread
[INFO]2021-03-17 09:18:47,222: AGV03 start agvList run2 thread
[INFO]2021-03-17 09:18:47,223: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424E328F0>>
[INFO]2021-03-17 09:18:47,236: AGV03 current map fp20190712-1
[INFO]2021-03-17 09:18:47,245: AGV03 is online
[DEBUG]2021-03-17 09:18:47,249: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,260: AGV04 start agvList run thread
[INFO]2021-03-17 09:18:47,262: AGV04 start agvList run2 thread
[INFO]2021-03-17 09:18:47,262: create lock <lock name:agvList.AGV05.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424E32B48>>
[INFO]2021-03-17 09:18:47,275: AGV04 current map fp20190712-1
[INFO]2021-03-17 09:18:47,281: AGV04 is online
[DEBUG]2021-03-17 09:18:47,283: create aliveObj AGV05 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,294: AGV05 start agvList run thread
[INFO]2021-03-17 09:18:47,295: AGV05 start agvList run2 thread
[INFO]2021-03-17 09:18:47,296: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023424E32DA0>>
[INFO]2021-03-17 09:18:47,308: AGV05 current map fp20190712-1
[INFO]2021-03-17 09:18:47,313: AGV05 is online
[DEBUG]2021-03-17 09:18:47,315: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,325: AGV06 start agvList run thread
[INFO]2021-03-17 09:18:47,326: AGV06 start agvList run2 thread
[INFO]2021-03-17 09:18:47,327: create lock <lock name:agvList.AGV07.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002342574A030>>
[INFO]2021-03-17 09:18:47,341: AGV06 current map fp20190712-1
[INFO]2021-03-17 09:18:47,347: AGV06 is online
[DEBUG]2021-03-17 09:18:47,349: create aliveObj AGV07 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,361: AGV07 start agvList run thread
[INFO]2021-03-17 09:18:47,361: AGV07 start agvList run2 thread
[INFO]2021-03-17 09:18:47,363: create lock <lock name:agvList.AGV08.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002342574A288>>
[INFO]2021-03-17 09:18:47,374: AGV07 current map fp20190712-1
[INFO]2021-03-17 09:18:47,378: AGV07 is online
[DEBUG]2021-03-17 09:18:47,379: create aliveObj AGV08 AGV离线异常 timeout 300
[INFO]2021-03-17 09:18:47,392: AGV08 start agvList run thread
[ERROR]2021-03-17 09:18:47,405: agv check init error False
[INFO]2021-03-17 09:18:47,407: AGV08 start agvList run2 thread
[WARNING]2021-03-17 09:18:47,525: clear alarm obj=AGV04, typeId=54016, id=6011317174b4b15c96ab19b0
[WARNING]2021-03-17 09:18:47,526: clear alarm obj=AGV03, typeId=54004, id=6012799874b4b15c96e80886
[WARNING]2021-03-17 09:18:47,542: clear alarm obj=AGV02, typeId=49997, id=60127c6d74b4b15c96e8789a
[WARNING]2021-03-17 09:18:47,549: clear alarm obj=AGV03, typeId=54013, id=6012799874b4b15c96e8089e
[INFO]2021-03-17 09:18:47,555: add_ignore: taskStatus
[INFO]2021-03-17 09:18:47,564: add_ignore: api/elevator/status
[WARNING]2021-03-17 09:18:47,567: clear alarm obj=AGV03, typeId=4002, id=6012799874b4b15c96e8088d
[INFO]2021-03-17 09:18:47,569: add_ignore: scada/getTask
[INFO]2021-03-17 09:18:47,684: AGV01 current map fp20190712-1
[INFO]2021-03-17 09:18:47,687: AGV01 is online
[INFO]2021-03-17 09:18:47,931: AGV08 current map fp20190712-1
[INFO]2021-03-17 09:18:47,935: AGV08 is online
[DEBUG]2021-03-17 09:18:48,116: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 09:18:48,121: scadaTask init client agvApi
[DEBUG]2021-03-17 09:18:48,128: used 13ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 09:18:51,191: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 09:18:51,289: used 98ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-17 09:18:51,574: timer_thread[tid:12428] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=12428 count=1 at 0x0000023424DCC760>> ,hold 3485 ms
[INFO]2021-03-17 09:18:51,813: name=timer_thread, pid=11748, tid=12428
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-17 09:18:53,286: clear alarm obj=DOOR40, typeId=39998, id=6051589884e1c5c371a69002
[WARNING]2021-03-17 09:18:53,825: clear alarm obj=DOOR41, typeId=39998, id=6051589984e1c5c371a69004
[WARNING]2021-03-17 09:18:54,251: clear alarm obj=DOOR13, typeId=39998, id=6051589984e1c5c371a69006
[WARNING]2021-03-17 09:18:54,645: clear alarm obj=DOOR23, typeId=39998, id=6051589984e1c5c371a69008
[WARNING]2021-03-17 09:18:55,149: clear alarm obj=DOOR08, typeId=39998, id=6051589984e1c5c371a6900a
[WARNING]2021-03-17 09:18:55,371: clear alarm obj=DOOR09, typeId=39998, id=6051589984e1c5c371a6900c
[WARNING]2021-03-17 09:18:55,714: clear alarm obj=DOOR15, typeId=39998, id=6051589984e1c5c371a6900e
[WARNING]2021-03-17 09:18:56,143: clear alarm obj=DOOR07, typeId=39998, id=6051589984e1c5c371a69010
[WARNING]2021-03-17 09:18:56,379: clear alarm obj=DOOR04, typeId=39998, id=6051589a84e1c5c371a69012
[WARNING]2021-03-17 09:18:56,791: clear alarm obj=DOOR06, typeId=39998, id=6051589a84e1c5c371a69014
[WARNING]2021-03-17 09:18:57,104: clear alarm obj=DOOR17, typeId=39998, id=6051589a84e1c5c371a69016
[WARNING]2021-03-17 09:18:57,643: clear alarm obj=DOOR18, typeId=39998, id=6051589a84e1c5c371a69018
[WARNING]2021-03-17 09:18:57,867: clear alarm obj=DOOR20, typeId=39998, id=6051589a84e1c5c371a6901a
[WARNING]2021-03-17 09:18:58,296: clear alarm obj=DOOR25, typeId=39998, id=6051589b84e1c5c371a6901c
[WARNING]2021-03-17 09:18:58,606: clear alarm obj=DOOR101, typeId=39998, id=6051589b84e1c5c371a6901e
[WARNING]2021-03-17 09:18:58,907: clear alarm obj=DOOR27, typeId=39998, id=6051589b84e1c5c371a69020
[DEBUG]2021-03-17 09:19:24,837: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 09:19:24,970: scadaTask init client agvApi
[DEBUG]2021-03-17 09:19:25,035: used 197ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 09:19:28,254: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 09:19:28,330: used 76ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[ERROR]2021-03-17 09:19:47,659: raise alarm obj=DOOR40, typeId=39998, desc=门控离线异常, id=6051593384e1c5c371a691db
[ERROR]2021-03-17 09:19:47,726: raise alarm obj=DOOR41, typeId=39998, desc=门控离线异常, id=6051593384e1c5c371a691dd
[ERROR]2021-03-17 09:19:47,814: raise alarm obj=DOOR13, typeId=39998, desc=门控离线异常, id=6051593384e1c5c371a691df
[ERROR]2021-03-17 09:19:47,907: raise alarm obj=DOOR23, typeId=39998, desc=门控离线异常, id=6051593384e1c5c371a691e1
[ERROR]2021-03-17 09:19:47,968: raise alarm obj=DOOR08, typeId=39998, desc=门控离线异常, id=6051593384e1c5c371a691e3
[ERROR]2021-03-17 09:19:48,064: raise alarm obj=DOOR09, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691e5
[ERROR]2021-03-17 09:19:48,157: raise alarm obj=DOOR15, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691e7
[ERROR]2021-03-17 09:19:48,218: raise alarm obj=DOOR07, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691e9
[ERROR]2021-03-17 09:19:48,311: raise alarm obj=DOOR04, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691eb
[ERROR]2021-03-17 09:19:48,405: raise alarm obj=DOOR06, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691ed
[ERROR]2021-03-17 09:19:48,465: raise alarm obj=DOOR17, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691ef
[ERROR]2021-03-17 09:19:48,558: raise alarm obj=DOOR18, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691f1
[ERROR]2021-03-17 09:19:48,620: raise alarm obj=DOOR20, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691f3
[ERROR]2021-03-17 09:19:48,682: raise alarm obj=DOOR25, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691f5
[ERROR]2021-03-17 09:19:48,792: raise alarm obj=DOOR101, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691f7
[ERROR]2021-03-17 09:19:48,884: raise alarm obj=DOOR27, typeId=39998, desc=门控离线异常, id=6051593484e1c5c371a691f9
[DEBUG]2021-03-17 09:26:26,429: GET: http://127.0.0.1:5551/api/scada/addTask?source=DOOR25&target=DOOR27&payloadId=&priority= addr: 127.0.0.1
