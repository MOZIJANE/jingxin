[INFO]2021-04-30 14:52:47,997: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-04-30 14:52:47,998: find module account.main_account
[INFO]2021-04-30 14:52:47,999: find module agvCtrl.main_agv
[INFO]2021-04-30 14:52:48,000: find module agvDevice.main_agvDevice
[INFO]2021-04-30 14:52:48,002: find module alarm.main_alarm
[INFO]2021-04-30 14:52:48,003: find module auth.main_auth
[INFO]2021-04-30 14:52:48,005: find module door.main_door
[INFO]2021-04-30 14:52:48,006: find module elevator.main_elevator
[INFO]2021-04-30 14:52:48,007: find module feed.main_feed
[INFO]2021-04-30 14:52:48,008: find module menu.main_menu
[INFO]2021-04-30 14:52:48,009: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-04-30 14:52:48,009: find module webFront.main_web
[INFO]2021-04-30 14:52:48,010: find module wmqtt.main_wmqtt
[INFO]2021-04-30 14:52:48,011: import account.main_account
[INFO]2021-04-30 14:52:48,115: import agvCtrl.main_agv
[INFO]2021-04-30 14:52:48,455: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CCF2AEE0>>
[INFO]2021-04-30 14:52:48,458: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CCF850D0>>
[INFO]2021-04-30 14:52:48,557: create lock <lock name:timer.lock_2099386313248,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CD289620>>
[ERROR]2021-04-30 14:52:48,569: mqtt is disabled
[INFO]2021-04-30 14:52:48,569: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-30 14:52:48,570: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-30 14:52:51,610: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-30 14:52:51,694: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CD68B328>>
[INFO]2021-04-30 14:52:51,700: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CB56FF30>>
[INFO]2021-04-30 14:52:51,704: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CB56F9B8>>
[INFO]2021-04-30 14:52:51,947: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CB8FCDC8>>
[INFO]2021-04-30 14:52:52,260: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CD76DE90>>
[INFO]2021-04-30 14:52:52,265: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CD802EE0>>
[INFO]2021-04-30 14:52:52,335: charge policy 1 , fix time
[INFO]2021-04-30 14:52:52,371: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CD802B98>>
[INFO]2021-04-30 14:52:52,820: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZSC-F1-F3.smap
[DEBUG]2021-04-30 14:52:53,072: elevator thread start
[INFO]2021-04-30 14:52:53,092: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZSC-F1-F3.smap ,used 280 ms
[INFO]2021-04-30 14:52:53,102: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-3F.smap
[INFO]2021-04-30 14:52:53,185: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-3F.smap ,used 92 ms
[INFO]2021-04-30 14:52:53,199: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-F3.smap
[INFO]2021-04-30 14:52:53,315: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\comba-ZXC-F3.smap ,used 124 ms
[INFO]2021-04-30 14:52:53,321: import agvDevice.main_agvDevice
[INFO]2021-04-30 14:52:53,322: import alarm.main_alarm
[INFO]2021-04-30 14:52:53,323: import auth.main_auth
[INFO]2021-04-30 14:52:53,331: import door.main_door
[INFO]2021-04-30 14:52:53,336: import elevator.main_elevator
[INFO]2021-04-30 14:52:53,338: import feed.main_feed
[INFO]2021-04-30 14:52:53,350: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CEC85710>>
[INFO]2021-04-30 14:52:53,385: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CECE6260>>
[INFO]2021-04-30 14:52:53,480: import menu.main_menu
[INFO]2021-04-30 14:52:53,485: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-04-30 14:52:53,585: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CED27D00>>
[INFO]2021-04-30 14:52:53,588: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CED27DA0>>
[INFO]2021-04-30 14:52:54,187: import webFront.main_web
[INFO]2021-04-30 14:52:54,200: import wmqtt.main_wmqtt
[SUCC]2021-04-30 14:52:54,217: utility start, pid=16852, ppid=12536
[DEBUG]2021-04-30 14:52:54,219: start timer
[INFO]2021-04-30 14:52:54,234: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-30 14:52:54,236: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CF8670D0>>
[DEBUG]2021-04-30 14:52:54,242: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-04-30 14:52:54,244: AGV01 start agvList run thread
[INFO]2021-04-30 14:52:54,245: AGV01 start agvList run2 thread
[INFO]2021-04-30 14:52:54,246: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CF8672D8>>
[DEBUG]2021-04-30 14:52:54,249: try connect AGV01 172.16.217.121:19204
[INFO]2021-04-30 14:52:54,249: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CF8671E8>>
[DEBUG]2021-04-30 14:52:54,257: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-04-30 14:52:54,259: AGV02 start agvList run thread
[INFO]2021-04-30 14:52:54,260: AGV02 start agvList run2 thread
[INFO]2021-04-30 14:52:54,261: add_ignore: taskStatus
[INFO]2021-04-30 14:52:54,262: create lock <lock name:agv.AGV02.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CED27E68>>
[INFO]2021-04-30 14:52:54,265: add_ignore: api/elevator/status
[DEBUG]2021-04-30 14:52:54,267: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:52:54,268: add_ignore: scada/getTask
[INFO]2021-04-30 14:52:57,290: AGV01 connected 172.16.217.121 19204
[WARNING]2021-04-30 14:52:57,299: agvThread.AGV01[tid:16836] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=16836 count=1 at 0x000001E8CF8672D8>> ,hold 3050 ms
[INFO]2021-04-30 14:52:57,302: name=agvThread.AGV01, pid=16852, tid=16836
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:52:57,306: create lock <lock name:agv.AGV01.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8CF867260>>
[DEBUG]2021-04-30 14:52:57,351: try connect AGV01 172.16.217.121:19205
[INFO]2021-04-30 14:52:57,379: AGV01 connected 172.16.217.121 19205
[INFO]2021-04-30 14:52:57,384: create lock <lock name:agv.AGV01.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8D205DA30>>
[DEBUG]2021-04-30 14:52:57,391: try connect AGV01 172.16.217.121:19206
[INFO]2021-04-30 14:52:57,421: AGV01 connected 172.16.217.121 19206
[INFO]2021-04-30 14:52:57,431: create lock <lock name:agv.AGV01.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8D2277940>>
[DEBUG]2021-04-30 14:52:57,448: try connect AGV01 172.16.217.121:19207
[INFO]2021-04-30 14:52:57,523: AGV01 connected 172.16.217.121 19207
[INFO]2021-04-30 14:52:57,526: create lock <lock name:agv.AGV01.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8D23A6468>>
[DEBUG]2021-04-30 14:52:57,528: try connect AGV01 172.16.217.121:19208
[INFO]2021-04-30 14:52:57,541: AGV01 connected 172.16.217.121 19208
[INFO]2021-04-30 14:52:57,542: create lock <lock name:agv.AGV01.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8D24696C0>>
[DEBUG]2021-04-30 14:52:57,544: try connect AGV01 172.16.217.121:19210
[INFO]2021-04-30 14:52:57,606: AGV01 connected 172.16.217.121 19210
[INFO]2021-04-30 14:52:57,823: AGV01 current map comba-ZXC-3F
[INFO]2021-04-30 14:52:57,850: AGV01 is online
[ERROR]2021-04-30 14:52:57,856: raise alarm obj=AGV01, typeId=70001, desc=AGV异常
[WARNING]2021-04-30 14:52:57,875: clear alarm obj=AGV01, typeId=54021, id=608ba8b8c6f3dc7e5c1d132c
[WARNING]2021-04-30 14:52:57,891: clear alarm obj=AGV01, typeId=54022, id=608ba8b8c6f3dc7e5c1d132e
[WARNING]2021-04-30 14:52:57,907: clear alarm obj=AGV01, typeId=49997, id=608ba737c6f3dc7e5c1d0e88
[WARNING]2021-04-30 14:52:57,930: clear alarm obj=AGV01, typeId=4002, id=608ba8b8c6f3dc7e5c1d133a
[CRITICAL]2021-04-30 14:52:58,301: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=16852, ppid=12536, tid=8276
Traceback (most recent call last):
  File "C:\Python37\lib\urllib\request.py", line 1317, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "C:\Python37\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "C:\Python37\lib\http\client.py", line 956, in send
    self.connect()
  File "C:\Python37\lib\http\client.py", line 928, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "C:\Python37\lib\socket.py", line 727, in create_connection
    raise err
  File "C:\Python37\lib\socket.py", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1319, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[INFO]2021-04-30 14:52:58,447: AGV01 require control
[CRITICAL]2021-04-30 14:53:01,362: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=16852, ppid=12536, tid=8276
Traceback (most recent call last):
  File "C:\Python37\lib\urllib\request.py", line 1317, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "C:\Python37\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "C:\Python37\lib\http\client.py", line 956, in send
    self.connect()
  File "C:\Python37\lib\http\client.py", line 928, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "C:\Python37\lib\socket.py", line 727, in create_connection
    raise err
  File "C:\Python37\lib\socket.py", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1319, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[ERROR]2021-04-30 14:53:04,287: connect AGV02 failed timed out
[DEBUG]2021-04-30 14:53:04,291: try connect AGV02 172.16.217.213:19204
[CRITICAL]2021-04-30 14:53:04,450: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=16852, ppid=12536, tid=8276
Traceback (most recent call last):
  File "C:\Python37\lib\urllib\request.py", line 1317, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "C:\Python37\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "C:\Python37\lib\http\client.py", line 956, in send
    self.connect()
  File "C:\Python37\lib\http\client.py", line 928, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "C:\Python37\lib\socket.py", line 727, in create_connection
    raise err
  File "C:\Python37\lib\socket.py", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1319, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\branches\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[DEBUG]2021-04-30 14:53:07,469: GET: http://127.0.0.1:5551/api/scada/addTask?source=%E4%B8%89%E6%A5%BC%E4%B8%8B%E6%96%99%E7%82%B9&target=%E4%B8%89%E6%A5%BC%E4%B8%8A%E6%96%99%E7%82%B9 addr: 127.0.0.1
[DEBUG]2021-04-30 14:53:07,527: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-04-30 14:53:07,530: scadaTask init client agvApi
[DEBUG]2021-04-30 14:53:07,533: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-04-30 14:53:10,702: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-04-30 14:53:10,844: used 142ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-04-30 14:53:10,985: timer_thread[tid:8276] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=8276 count=1 at 0x000001E8CED27D00>> ,hold 14744 ms
[INFO]2021-04-30 14:53:11,185: name=timer_thread, pid=16852, tid=8276
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:53:11,311: Scada send a task to the server from 三楼下料点 to 三楼上料点 payloadId: None
[INFO]2021-04-30 14:53:11,450: create task[608ba9571fbe2b6849bc2a29]: type= scadaTask , 从三楼下料点运送货架到三楼上料点 {'source': '三楼下料点', 'target': '三楼上料点', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从三楼下料点运送货架到三楼上料点', 'createTime': datetime.datetime(2021, 4, 30, 14, 53, 11, 387010), 'updateTime': datetime.datetime(2021, 4, 30, 14, 53, 11, 387010), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('608ba9571fbe2b6849bc2a29')}
[INFO]2021-04-30 14:53:11,512: 
[INFO]2021-04-30 14:53:11,556: 三楼上料点 三楼下料点
[INFO]2021-04-30 14:53:11,801: task[608ba9571fbe2b6849bc2a29][-] AP668(LM16) -> AP666(LM2) [waiting] is inside False
[INFO]2021-04-30 14:53:11,879: task cmd: got a task from scada task[608ba9571fbe2b6849bc2a29][-] AP668(LM16) -> AP666(LM2) [waiting]
[WARNING]2021-04-30 14:53:12,017: worker 0[tid:9196] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=9196 count=1 at 0x000001E8CED27D00>> ,hold 4540 ms
[INFO]2021-04-30 14:53:12,862: name=worker 0, pid=16852, tid=9196
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "C:/Python37/lib/socketserver.py", line 360, in finish_request() 
[06] File "C:/Python37/lib/socketserver.py", line 720, in __init__() 
[07] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "C:/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 305, in wsgi_execute() 
[11] File "C:/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Python37/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "C:/Python37/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "C:/Python37/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "C:/Python37/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "C:/Users/Administrator/Desktop/SVN/branches/common/webutility.py", line 465, in _enable_cors() 
[17] File "C:/Users/Administrator/Desktop/SVN/branches/common/webutility.py", line 481, in _enable_cors() 
[18] File "C:/Users/Administrator/Desktop/SVN/branches/common/scadaUtility.py", line 45, in __call() 
[19] File "C:/Users/Administrator/Desktop/SVN/branches/pharmapackCtrl/main_scadaCtrl.py", line 79, in urlAddTask() 
[20] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[21] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[22] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[23] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:53:12,989: task[608ba9571fbe2b6849bc2a29]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 30, 14, 53, 12, 974141), 'updateTime': datetime.datetime(2021, 4, 30, 14, 53, 12, 974141), 'status': 'running'}
[DEBUG]2021-04-30 14:53:12,990: GET: http://127.0.0.1:5551/favicon.ico addr: 127.0.0.1
[INFO]2021-04-30 14:53:13,143: task: start task[608ba9571fbe2b6849bc2a29][-] AP668(LM16) -> AP666(LM2) [waiting]
[DEBUG]2021-04-30 14:53:13,329: used 339ms 200 OK , GET: http://127.0.0.1:5551/favicon.ico
[INFO]2021-04-30 14:53:13,329: this is taskStep=============>waiting
[INFO]2021-04-30 14:53:13,513: task[608ba9571fbe2b6849bc2a29] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 30, 14, 53, 13, 498917)}
[DEBUG]2021-04-30 14:53:13,592: task[608ba9571fbe2b6849bc2a29][-] AP668(LM16) -> AP666(LM2) [waitForAgv] waiting -> waitForAgv
[ERROR]2021-04-30 14:53:14,302: connect AGV02 failed timed out
[INFO]2021-04-30 14:53:14,397: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:53:14,459: agvThread.AGV02[tid:17192] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=17192 count=1 at 0x000001E8CED27E68>> ,hold 20193 ms
[INFO]2021-04-30 14:53:14,614: this is taskStep=============>waitForAgv
[INFO]2021-04-30 14:53:14,722: name=agvThread.AGV02, pid=16852, tid=17192
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:53:14,785: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP668&mapId=comba-ZXC-3F&taskId=608ba9571fbe2b6849bc2a29&timeout=10 addr: 127.0.0.1
[INFO]2021-04-30 14:53:16,764: apply AGV01 ,taskId: 608ba9571fbe2b6849bc2a29 ,loc comba-ZXC-3F.AP668 ,autoLock False , used 1903 ms
[DEBUG]2021-04-30 14:53:16,795: try connect AGV02 172.16.217.213:19204
[DEBUG]2021-04-30 14:53:16,829: used 2044ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP668&mapId=comba-ZXC-3F&taskId=608ba9571fbe2b6849bc2a29&timeout=10
[DEBUG]2021-04-30 14:53:17,342: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV01&appName=scadaTask&taskId=608ba9571fbe2b6849bc2a29 addr: 127.0.0.1
[DEBUG]2021-04-30 14:53:17,422: lock:  AGV01 taskId 608ba9571fbe2b6849bc2a29 app scadaTask
[WARNING]2021-04-30 14:53:18,488: AGV01 clear task finish, cur= comba-ZXC-3F.LM116 task_status= 4
[DEBUG]2021-04-30 14:53:18,611: used 1269ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV01&appName=scadaTask&taskId=608ba9571fbe2b6849bc2a29
[INFO]2021-04-30 14:53:18,771: task[608ba9571fbe2b6849bc2a29][-] AP668(LM16) -> AP666(LM2) [waitForAgv] apply AGV01
[INFO]2021-04-30 14:53:18,878: task[608ba9571fbe2b6849bc2a29] update info: {'agvId': 'AGV01', 'failMsg': '成功分配小车AGV01,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 30, 14, 53, 18, 830135)}
[WARNING]2021-04-30 14:53:18,927: scada.608ba9571fbe2b6849bc2a29[tid:3024] <locked _thread.RLock object owner=3024 count=1 at 0x000001E8CEF198A0> ,hold 4313 ms
[INFO]2021-04-30 14:53:19,115: name=scada.608ba9571fbe2b6849bc2a29, pid=16852, tid=3024
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/pharmapackCtrl/runTasks.py", line 735, in _taskFunc() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-30 14:53:19,219: task[608ba9571fbe2b6849bc2a29][AGV01] AP668(LM16) -> AP666(LM2) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-30 14:53:19,676: this is taskStep=============>initJackdown
[INFO]2021-04-30 14:53:19,787: task[608ba9571fbe2b6849bc2a29] update info: {'failMsg': '前往三楼下料点工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 30, 14, 53, 19, 771225)}
[DEBUG]2021-04-30 14:53:19,893: task[608ba9571fbe2b6849bc2a29][AGV01] AP668(LM16) -> AP666(LM2) [startMoveJackup] initJackdown -> startMoveJackup
[INFO]2021-04-30 14:53:20,337: this is taskStep=============>startMoveJackup
[INFO]2021-04-30 14:53:20,446: ------------------------------执行到runTasks._moveJackup()-----------------000-----------------
[INFO]2021-04-30 14:53:20,572: ----------------------------在runTasks.py的_moveJackup函数中-----------------111-------------
[INFO]2021-04-30 14:53:20,667: -----------------runTasks.py中的else，因为不是fastprint项目，走这里------------222-------------
[INFO]2021-04-30 14:53:20,811: --------------------------跳转到agvCtrl下的agvApi中的moveJackup函数----------------------3333-------
[INFO]2021-04-30 14:53:20,921: ----------------------------通过moveJackup来到move函数---------------------------444---------------
[DEBUG]2021-04-30 14:53:20,985: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=comba-ZXC-3F&isRotate&loc=comba-ZXC-3F.AP668&location=AP668&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=608ba9571fbe2b6849bc2a29_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-30 14:53:21,000: -------------------------根据move函数会根据main_agv.py来到agvControl函数中的move中----------555---------
[INFO]2021-04-30 14:53:21,017: ---------------------move函数中的_func()函数中-------------------------666--------------------
[INFO]2021-04-30 14:53:21,025: -------------------------6666中的if判断是否进入agvList.py中的moveJackup函数----------------------------
[INFO]2021-04-30 14:53:21,032: LM116 AP668 comba-ZXC-3F comba-ZXC-3F
[INFO]2021-04-30 14:53:21,037: -------------------------------pass------------------------------
[INFO]2021-04-30 14:53:21,161: Begin: AGV01 move from comba-ZXC-3F.LM116 to comba-ZXC-3F.AP668 by paths: [('comba-ZXC-3F', ['LM116', 'LM113', 'LM114', 'LM115', 'AP668'], 9.205768612618968)] task: 608ba9571fbe2b6849bc2a29_2 timeout 86400 used 144 ms
[INFO]2021-04-30 14:53:21,166: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-30 14:53:21,168: task[608ba9571fbe2b6849bc2a29][AGV01] AP668(LM16) -> AP666(LM2) [loadPlayload] startMoveJackup -> loadPlayload
[INFO]2021-04-30 14:53:21,481: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:21,790: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:22,102: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:53:22,197: agvInfo: AGV01 comba-ZXC-3F.LM116 move to comba-ZXC-3F.LM113 ,taskId 608ba9571fbe2b6849bc2a29_2
[INFO]2021-04-30 14:53:22,201: goTarget {'id': 'LM113', 'ignoreAngle': True}
[INFO]2021-04-30 14:53:22,202: -------------------------来到driver中的agvApi下的task函数中------------------（12）--------------------
[INFO]2021-04-30 14:53:22,413: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:22,721: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:53:22,754: AGV01 choise next pos cur LM116 next LM114 pre LM113 6.523 False
[DEBUG]2021-04-30 14:53:22,758: AGV01 turn to wait check cur LM116 next LM114 6.523 False
[INFO]2021-04-30 14:53:23,046: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:53:23,348: agvInfo: AGV01 comba-ZXC-3F.LM116 move to comba-ZXC-3F.LM114 ,taskId 608ba9571fbe2b6849bc2a29_2
[INFO]2021-04-30 14:53:23,352: goTarget {'id': 'LM114', 'ignoreAngle': True}
[INFO]2021-04-30 14:53:23,381: -------------------------来到driver中的agvApi下的task函数中------------------（12）--------------------
[INFO]2021-04-30 14:53:23,387: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:23,733: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:24,043: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:53:24,238: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7026627056906565, id=608ba964c6f3dc7e5c1d1507
[INFO]2021-04-30 14:53:24,358: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:24,670: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:24,991: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:25,304: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:25,614: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:25,925: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:26,234: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:26,546: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:26,856: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:53:26,965: connect AGV02 failed timed out
[INFO]2021-04-30 14:53:26,971: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:53:26,977: agvThread.AGV02[tid:17192] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=17192 count=1 at 0x000001E8CED27E68>> ,hold 10182 ms
[INFO]2021-04-30 14:53:26,982: name=agvThread.AGV02, pid=16852, tid=17192
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[ERROR]2021-04-30 14:53:26,991: raise alarm obj=AGV01, typeId=52300, desc=AGV异常, id=608ba966c6f3dc7e5c1d1509
[INFO]2021-04-30 14:53:27,165: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:27,477: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:27,800: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:28,109: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:28,418: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:28,726: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:53:28,992: try connect AGV02 172.16.217.213:19204
[INFO]2021-04-30 14:53:29,039: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:29,351: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:29,680: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:53:29,983: raise alarm obj=AGV01, typeId=52716, desc=AGV异常, id=608ba969c6f3dc7e5c1d1510
[INFO]2021-04-30 14:53:29,991: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:53:29,996: clear alarm obj=AGV01, typeId=49997, id=608ba964c6f3dc7e5c1d1507
[INFO]2021-04-30 14:53:30,297: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:30,606: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:30,920: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:31,225: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:31,538: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:31,850: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:32,173: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:32,482: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:32,799: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:53:32,953: raise alarm obj=AGV01, typeId=54021, desc=AGV异常, id=608ba96cc6f3dc7e5c1d151e
[ERROR]2021-04-30 14:53:32,965: raise alarm obj=AGV01, typeId=54022, desc=AGV异常, id=608ba96cc6f3dc7e5c1d1520
[ERROR]2021-04-30 14:53:32,972: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.687021563450741, id=608ba96cc6f3dc7e5c1d1522
[ERROR]2021-04-30 14:53:32,978: raise alarm obj=AGV01, typeId=4002, desc=急停按钮处于激活状态, id=608ba96cc6f3dc7e5c1d1524
[INFO]2021-04-30 14:53:33,113: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:33,425: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:33,735: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:34,041: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:34,356: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:34,667: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:34,975: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:53:35,272: clear alarm obj=AGV01, typeId=49997, id=608ba96cc6f3dc7e5c1d1522
[INFO]2021-04-30 14:53:35,288: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:35,599: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:35,921: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:36,231: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:36,545: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:36,857: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:37,171: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:37,494: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:37,821: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:38,130: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:38,455: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:38,764: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:53:38,820: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.6678428657945737, id=608ba972c6f3dc7e5c1d152f
[ERROR]2021-04-30 14:53:38,999: connect AGV02 failed timed out
[INFO]2021-04-30 14:53:39,003: AGV02 checkLink failed 172.16.217.213 19204
[WARNING]2021-04-30 14:53:39,007: agvThread.AGV02[tid:17192] <lock name:agv.AGV02.lock_status,<locked _thread.RLock object owner=17192 count=1 at 0x000001E8CED27E68>> ,hold 10015 ms
[INFO]2021-04-30 14:53:39,015: name=agvThread.AGV02, pid=16852, tid=17192
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 38, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 188, in checkLink() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-30 14:53:39,078: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:39,396: this is taskStep=============>loadPlayload
[WARNING]2021-04-30 14:53:39,435: clear alarm obj=AGV01, typeId=49997, id=608ba972c6f3dc7e5c1d152f
[INFO]2021-04-30 14:53:39,729: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:40,042: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:40,353: this is taskStep=============>loadPlayload
[INFO]2021-04-30 14:53:40,664: this is taskStep=============>loadPlayload
[ERROR]2021-04-30 14:53:40,685: raise alarm obj=AGV01, typeId=49997, desc=小车置信度小于最低阈值,当前值:0.7434132033527697, id=608ba974c6f3dc7e5c1d1539
[INFO]2021-04-30 14:53:40,973: this is taskStep=============>loadPlayload
[DEBUG]2021-04-30 14:53:41,036: try connect AGV02 172.16.217.213:19204
[WARNING]2021-04-30 14:53:41,247: clear alarm obj=AGV01, typeId=49997, id=608ba974c6f3dc7e5c1d1539
[INFO]2021-04-30 14:53:41,284: this is taskStep=============>loadPlayload
