[INFO]2021-03-17 09:53:33,992: log files at C:\Users\Administrator\Desktop\SVN\branches\common\log
[INFO]2021-03-17 09:53:33,993: find module account.main_account
[INFO]2021-03-17 09:53:33,994: find module agvCtrl.main_agv
[INFO]2021-03-17 09:53:33,994: find module agvDevice.main_agvDevice
[INFO]2021-03-17 09:53:33,995: find module alarm.main_alarm
[INFO]2021-03-17 09:53:33,995: find module auth.main_auth
[INFO]2021-03-17 09:53:33,995: find module door.main_door
[INFO]2021-03-17 09:53:33,996: find module elevator.main_elevator
[INFO]2021-03-17 09:53:33,996: find module menu.main_menu
[INFO]2021-03-17 09:53:33,996: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 09:53:33,997: find module webFront.main_web
[INFO]2021-03-17 09:53:33,997: find module wmqtt.main_wmqtt
[INFO]2021-03-17 09:53:33,997: import account.main_account
[INFO]2021-03-17 09:53:34,078: import agvCtrl.main_agv
[INFO]2021-03-17 09:53:34,370: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B487EC08C8>>
[INFO]2021-03-17 09:53:34,372: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B487EC0A80>>
[INFO]2021-03-17 09:53:34,462: create lock <lock name:timer.lock_1874889939880,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48821D440>>
[ERROR]2021-03-17 09:53:34,474: mqtt is disabled
[INFO]2021-03-17 09:53:34,474: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-17 09:53:34,475: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-17 09:53:37,513: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-17 09:53:37,526: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B4865017D8>>
[WARNING]2021-03-17 09:53:37,536: use mockAgvCtrl
[INFO]2021-03-17 09:53:37,538: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B4868937B0>>
[INFO]2021-03-17 09:53:37,846: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B4886B5788>>
[INFO]2021-03-17 09:53:37,851: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B4886CA440>>
[INFO]2021-03-17 09:53:37,910: charge policy 1 , fix time
[INFO]2021-03-17 09:53:37,942: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B4886CAB70>>
[INFO]2021-03-17 09:53:38,523: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-17 09:53:38,746: create aliveObj DOOR40 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:38,748: create aliveObj DOOR41 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:38,765: elevator thread start
[INFO]2021-03-17 09:53:38,788: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\20190911_F1.smap ,used 274 ms
[INFO]2021-03-17 09:53:38,798: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-17 09:53:38,969: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp-neiwei.smap ,used 179 ms
[INFO]2021-03-17 09:53:38,980: start load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap
[DEBUG]2021-03-17 09:53:40,166: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,168: create aliveObj DOOR23 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,172: create aliveObj DOOR08 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,173: create aliveObj DOOR09 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,174: create aliveObj DOOR15 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,174: create aliveObj DOOR07 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,175: create aliveObj DOOR04 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,176: create aliveObj DOOR06 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,176: create aliveObj DOOR17 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,176: create aliveObj DOOR18 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,177: create aliveObj DOOR20 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,177: create aliveObj DOOR25 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,180: create aliveObj DOOR101 门控离线异常 timeout 60
[DEBUG]2021-03-17 09:53:40,181: create aliveObj DOOR27 门控离线异常 timeout 60
[INFO]2021-03-17 09:53:40,216: load map C:\Users\Administrator\Desktop\SVN\branches\agvCtrl\projects\test\fp20190712-1.smap ,used 1245 ms
[INFO]2021-03-17 09:53:40,222: import agvDevice.main_agvDevice
[INFO]2021-03-17 09:53:40,223: import alarm.main_alarm
[INFO]2021-03-17 09:53:40,225: import auth.main_auth
[INFO]2021-03-17 09:53:40,231: import door.main_door
[INFO]2021-03-17 09:53:40,244: import elevator.main_elevator
[INFO]2021-03-17 09:53:40,252: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48AF98058>>
[INFO]2021-03-17 09:53:40,255: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48AF4FA80>>
[INFO]2021-03-17 09:53:40,256: import menu.main_menu
[INFO]2021-03-17 09:53:40,259: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-17 09:53:40,339: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48AF3B648>>
[INFO]2021-03-17 09:53:40,342: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48AF3B6C0>>
[INFO]2021-03-17 09:53:40,773: import webFront.main_web
[INFO]2021-03-17 09:53:40,779: import wmqtt.main_wmqtt
[SUCC]2021-03-17 09:53:40,798: utility start, pid=15256, ppid=7304
[DEBUG]2021-03-17 09:53:40,800: start timer
[INFO]2021-03-17 09:53:40,808: load agv file: C:\Users\Administrator\Desktop\SVN\branches\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-17 09:53:40,810: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247210>>
[DEBUG]2021-03-17 09:53:40,813: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,817: AGV01 start agvList run thread
[INFO]2021-03-17 09:53:40,818: AGV01 start agvList run2 thread
[INFO]2021-03-17 09:53:40,830: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247530>>
[ERROR]2021-03-17 09:53:40,831: agv check init error False
[DEBUG]2021-03-17 09:53:40,833: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,841: AGV02 start agvList run thread
[INFO]2021-03-17 09:53:40,841: AGV02 start agvList run2 thread
[INFO]2021-03-17 09:53:40,842: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247490>>
[INFO]2021-03-17 09:53:40,845: AGV02 current map fp20190712-1
[DEBUG]2021-03-17 09:53:40,848: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,850: AGV02 is online
[INFO]2021-03-17 09:53:40,852: AGV03 start agvList run thread
[INFO]2021-03-17 09:53:40,857: AGV03 start agvList run2 thread
[INFO]2021-03-17 09:53:40,857: create lock <lock name:agvList.AGV04.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247828>>
[INFO]2021-03-17 09:53:40,860: AGV03 current map fp20190712-1
[DEBUG]2021-03-17 09:53:40,864: create aliveObj AGV04 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,865: AGV03 is online
[INFO]2021-03-17 09:53:40,867: AGV04 start agvList run thread
[INFO]2021-03-17 09:53:40,868: AGV04 start agvList run2 thread
[INFO]2021-03-17 09:53:40,869: create lock <lock name:agvList.AGV05.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247A80>>
[INFO]2021-03-17 09:53:40,874: AGV04 current map fp20190712-1
[DEBUG]2021-03-17 09:53:40,877: create aliveObj AGV05 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,878: AGV04 is online
[INFO]2021-03-17 09:53:40,881: AGV05 start agvList run thread
[INFO]2021-03-17 09:53:40,881: AGV05 start agvList run2 thread
[INFO]2021-03-17 09:53:40,882: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247CD8>>
[INFO]2021-03-17 09:53:40,888: AGV05 current map fp20190712-1
[DEBUG]2021-03-17 09:53:40,890: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,891: AGV05 is online
[INFO]2021-03-17 09:53:40,894: AGV06 start agvList run thread
[INFO]2021-03-17 09:53:40,896: AGV06 start agvList run2 thread
[INFO]2021-03-17 09:53:40,896: create lock <lock name:agvList.AGV07.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B247F08>>
[INFO]2021-03-17 09:53:40,900: AGV06 current map fp20190712-1
[INFO]2021-03-17 09:53:40,903: AGV06 is online
[DEBUG]2021-03-17 09:53:40,904: create aliveObj AGV07 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,912: AGV07 start agvList run thread
[INFO]2021-03-17 09:53:40,912: AGV07 start agvList run2 thread
[INFO]2021-03-17 09:53:40,912: create lock <lock name:agvList.AGV08.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B48B72D1E8>>
[INFO]2021-03-17 09:53:40,917: AGV07 current map fp20190712-1
[INFO]2021-03-17 09:53:40,920: AGV07 is online
[DEBUG]2021-03-17 09:53:40,922: create aliveObj AGV08 AGV离线异常 timeout 300
[INFO]2021-03-17 09:53:40,926: AGV08 start agvList run thread
[INFO]2021-03-17 09:53:40,927: AGV08 start agvList run2 thread
[INFO]2021-03-17 09:53:40,933: AGV08 current map fp20190712-1
[INFO]2021-03-17 09:53:40,941: AGV08 is online
[INFO]2021-03-17 09:53:41,010: add_ignore: taskStatus
[INFO]2021-03-17 09:53:41,012: add_ignore: api/elevator/status
[INFO]2021-03-17 09:53:41,016: add_ignore: scada/getTask
[INFO]2021-03-17 09:53:41,354: AGV01 current map fp20190712-1
[INFO]2021-03-17 09:53:41,356: AGV01 is online
[DEBUG]2021-03-17 09:53:42,843: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 09:53:42,848: scadaTask init client agvApi
[DEBUG]2021-03-17 09:53:42,857: used 14ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 09:53:45,918: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 09:53:45,983: used 65ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-17 09:53:46,120: timer_thread[tid:9552] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=9552 count=1 at 0x000001B48AF3B648>> ,hold 3294 ms
[INFO]2021-03-17 09:53:46,352: name=timer_thread, pid=15256, tid=9552
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/branches/common/mytimer.py", line 113, in _loop() 
[03] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 122, in _call() 
[04] File "C:/Users/Administrator/Desktop/SVN/branches/common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/branches/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-17 09:53:47,998: clear alarm obj=DOOR40, typeId=39998, id=60515e6984e1c5c371a69863
[WARNING]2021-03-17 09:53:48,205: clear alarm obj=DOOR41, typeId=39998, id=60515e6a84e1c5c371a69865
[WARNING]2021-03-17 09:53:48,331: clear alarm obj=DOOR13, typeId=39998, id=60515e6a84e1c5c371a69867
[WARNING]2021-03-17 09:53:48,547: clear alarm obj=DOOR23, typeId=39998, id=60515e6a84e1c5c371a69869
[WARNING]2021-03-17 09:53:48,995: clear alarm obj=DOOR08, typeId=39998, id=60515e6a84e1c5c371a6986b
[WARNING]2021-03-17 09:53:49,183: clear alarm obj=DOOR09, typeId=39998, id=60515e6a84e1c5c371a6986d
[WARNING]2021-03-17 09:53:49,401: clear alarm obj=DOOR15, typeId=39998, id=60515e6a84e1c5c371a6986f
[WARNING]2021-03-17 09:53:49,570: clear alarm obj=DOOR07, typeId=39998, id=60515e6a84e1c5c371a69871
[WARNING]2021-03-17 09:53:49,768: clear alarm obj=DOOR04, typeId=39998, id=60515e6a84e1c5c371a69873
[WARNING]2021-03-17 09:53:50,017: clear alarm obj=DOOR06, typeId=39998, id=60515e6a84e1c5c371a69875
[WARNING]2021-03-17 09:53:50,375: clear alarm obj=DOOR17, typeId=39998, id=60515e6a84e1c5c371a69877
[WARNING]2021-03-17 09:53:50,690: clear alarm obj=DOOR18, typeId=39998, id=60515e6a84e1c5c371a69879
[WARNING]2021-03-17 09:53:50,950: clear alarm obj=DOOR20, typeId=39998, id=60515e6b84e1c5c371a6987b
[WARNING]2021-03-17 09:53:51,225: clear alarm obj=DOOR25, typeId=39998, id=60515e6b84e1c5c371a6987d
[WARNING]2021-03-17 09:53:51,356: clear alarm obj=DOOR101, typeId=39998, id=60515e6b84e1c5c371a6987f
[WARNING]2021-03-17 09:53:51,524: clear alarm obj=DOOR27, typeId=39998, id=60515e6b84e1c5c371a69881
[DEBUG]2021-03-17 09:54:23,767: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-17 09:54:23,845: scadaTask init client agvApi
[DEBUG]2021-03-17 09:54:23,969: used 202ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-17 09:54:24,121: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
[INFO]2021-03-17 09:54:26,479: apply AGV04 ,taskId: 60515fa963fdc12e93ab111b ,loc fp20190712-1.LM242 ,autoLock False , used 2295 ms
[DEBUG]2021-03-17 09:54:26,587: used 2466ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10
[DEBUG]2021-03-17 09:54:26,833: GET: http://127.0.0.1:5551/api/agv/checkInitStatus?agv=AGV04&loc=None&timeoutSec=90 addr: 127.0.0.1
[CRITICAL]2021-03-17 09:54:26,971: invoke <function urlcheckInitStatus at 0x000001B488746620> cause a error: module 'driver.seerAgv.mockAgvCtrl' has no attribute 'checkInitSuccess'
pid=15256, ppid=7304, tid=10436
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\branches\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvDevice\main_agvDevice.py", line 49, in urlcheckInitStatus
    return jackMgr.checkInitStatus(agvId=agvId, timeout=timeout)
  File "C:\Users\Administrator\Desktop\SVN\branches\agvDevice\jackMgr.py", line 53, in checkInitStatus
    ret=agvCtrl.checkInitSuccess(agvId)
AttributeError: module 'driver.seerAgv.mockAgvCtrl' has no attribute 'checkInitSuccess'

[DEBUG]2021-03-17 09:54:27,093: used 260ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/checkInitStatus?agv=AGV04&loc=None&timeoutSec=90
[DEBUG]2021-03-17 09:54:27,278: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-17 09:54:27,414: used 136ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[DEBUG]2021-03-17 09:54:34,956: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
[ERROR]2021-03-17 09:54:39,588: raise alarm obj=DOOR40, typeId=39998, desc=门控离线异常, id=6051615f84e1c5c371a69e2d
[DEBUG]2021-03-17 09:55:27,524: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
[DEBUG]2021-03-17 09:56:20,063: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
[DEBUG]2021-03-17 09:57:12,592: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
[DEBUG]2021-03-17 09:58:05,114: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
[DEBUG]2021-03-17 09:58:57,605: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM242&mapId=fp20190712-1&taskId=60515fa963fdc12e93ab111b&timeout=10 addr: 127.0.0.1
