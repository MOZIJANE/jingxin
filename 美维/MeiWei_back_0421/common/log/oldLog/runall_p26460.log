[INFO]2021-03-18 09:57:35,971: log files at D:\python_work\AKMfloor\common\log
[INFO]2021-03-18 09:57:35,974: find module account.main_account
[INFO]2021-03-18 09:57:35,975: find module agvCtrl.main_agv
[INFO]2021-03-18 09:57:35,977: find module agvDevice.main_agvDevice
[INFO]2021-03-18 09:57:35,978: find module alarm.main_alarm
[INFO]2021-03-18 09:57:35,980: find module auth.main_auth
[INFO]2021-03-18 09:57:35,981: find module door.main_door
[INFO]2021-03-18 09:57:35,983: find module elevator.main_elevator
[INFO]2021-03-18 09:57:35,985: find module feed.main_feed
[INFO]2021-03-18 09:57:35,987: find module menu.main_menu
[INFO]2021-03-18 09:57:35,989: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-18 09:57:35,999: find module webFront.main_web
[INFO]2021-03-18 09:57:36,001: find module wmqtt.main_wmqtt
[INFO]2021-03-18 09:57:36,002: import account.main_account
[INFO]2021-03-18 09:57:36,136: import agvCtrl.main_agv
[INFO]2021-03-18 09:57:36,493: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A34EFBA0>>
[INFO]2021-03-18 09:57:36,495: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A34FF4E0>>
[INFO]2021-03-18 09:57:36,595: create lock <lock name:timer.lock_2566838636400,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A38200F0>>
[ERROR]2021-03-18 09:57:36,617: mqtt is disabled
[INFO]2021-03-18 09:57:36,619: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-18 09:57:36,621: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-18 09:57:39,665: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-18 09:57:39,724: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A3A6EB70>>
[WARNING]2021-03-18 09:57:39,745: use mockAgvCtrl
[INFO]2021-03-18 09:57:39,748: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A1DBC240>>
[INFO]2021-03-18 09:57:40,276: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A3B2E9F0>>
[INFO]2021-03-18 09:57:40,290: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A3BD4F00>>
[INFO]2021-03-18 09:57:40,406: charge policy 1 , fix time
[INFO]2021-03-18 09:57:40,446: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A3BE3AE0>>
[INFO]2021-03-18 09:57:41,761: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-18 09:57:42,034: elevator thread start
[INFO]2021-03-18 09:57:42,055: load map D:\python_work\AKMfloor\agvCtrl\projects\test\20190911_F1.smap ,used 304 ms
[INFO]2021-03-18 09:57:42,066: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\408.smap
[INFO]2021-03-18 09:57:42,131: load map D:\python_work\AKMfloor\agvCtrl\projects\test\408.smap ,used 74 ms
[INFO]2021-03-18 09:57:42,143: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\510.smap
[INFO]2021-03-18 09:57:42,243: load map D:\python_work\AKMfloor\agvCtrl\projects\test\510.smap ,used 111 ms
[INFO]2021-03-18 09:57:42,256: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\8-222.smap
[INFO]2021-03-18 09:57:42,299: load map D:\python_work\AKMfloor\agvCtrl\projects\test\8-222.smap ,used 54 ms
[INFO]2021-03-18 09:57:42,310: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-03-18 09:57:42,361: load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmt.smap ,used 60 ms
[INFO]2021-03-18 09:57:42,373: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-03-18 09:57:42,498: load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmtMap.smap ,used 136 ms
[INFO]2021-03-18 09:57:42,511: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\bell.smap
[INFO]2021-03-18 09:57:42,550: load map D:\python_work\AKMfloor\agvCtrl\projects\test\bell.smap ,used 48 ms
[INFO]2021-03-18 09:57:42,562: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\big.smap
[INFO]2021-03-18 09:57:43,844: load map D:\python_work\AKMfloor\agvCtrl\projects\test\big.smap ,used 1292 ms
[INFO]2021-03-18 09:57:43,859: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-03-18 09:57:43,993: load map D:\python_work\AKMfloor\agvCtrl\projects\test\desai-all-20191223.smap ,used 144 ms
[INFO]2021-03-18 09:57:44,006: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\famajia.smap
[INFO]2021-03-18 09:57:44,328: load map D:\python_work\AKMfloor\agvCtrl\projects\test\famajia.smap ,used 333 ms
[INFO]2021-03-18 09:57:44,340: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-18 09:57:44,524: load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp-neiwei.smap ,used 194 ms
[INFO]2021-03-18 09:57:44,542: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp20190712-1.smap
[INFO]2021-03-18 09:57:45,863: load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp20190712-1.smap ,used 1334 ms
[INFO]2021-03-18 09:57:45,876: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\shuqin.smap
[INFO]2021-03-18 09:57:45,918: load map D:\python_work\AKMfloor\agvCtrl\projects\test\shuqin.smap ,used 53 ms
[INFO]2021-03-18 09:57:45,932: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\test430.smap
[INFO]2021-03-18 09:57:46,037: load map D:\python_work\AKMfloor\agvCtrl\projects\test\test430.smap ,used 117 ms
[INFO]2021-03-18 09:57:46,051: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\testdesay.smap
[INFO]2021-03-18 09:57:46,146: load map D:\python_work\AKMfloor\agvCtrl\projects\test\testdesay.smap ,used 106 ms
[INFO]2021-03-18 09:57:46,160: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\testmap.smap
[INFO]2021-03-18 09:57:46,358: load map D:\python_work\AKMfloor\agvCtrl\projects\test\testmap.smap ,used 210 ms
[INFO]2021-03-18 09:57:46,373: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\testscada.smap
[INFO]2021-03-18 09:57:46,459: load map D:\python_work\AKMfloor\agvCtrl\projects\test\testscada.smap ,used 95 ms
[WARNING]2021-03-18 09:57:46,463: MainThread[tid:15452] <lock name:mapMgr.lock,<locked _thread.RLock object owner=15452 count=1 at 0x00000255A1DBC240>> ,hold 6015 ms
[INFO]2021-03-18 09:57:46,465: name=MainThread, pid=26460, tid=15452
[01] File "D:/python_work/AKMfloor/common/run_all.py", line 57, in <module>() 
[02] File "D:/python_work/AKMfloor/common/run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "D:/python_work/AKMfloor/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[10] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[11] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[12] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-03-18 09:57:46,469: import agvDevice.main_agvDevice
[INFO]2021-03-18 09:57:46,471: import alarm.main_alarm
[INFO]2021-03-18 09:57:46,473: import auth.main_auth
[INFO]2021-03-18 09:57:46,482: import door.main_door
[INFO]2021-03-18 09:57:46,486: import elevator.main_elevator
[INFO]2021-03-18 09:57:46,500: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A8183090>>
[INFO]2021-03-18 09:57:46,504: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A81D4C90>>
[INFO]2021-03-18 09:57:46,509: import feed.main_feed
[INFO]2021-03-18 09:57:46,525: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A80155A0>>
[INFO]2021-03-18 09:57:46,532: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A8024030>>
[INFO]2021-03-18 09:57:47,054: import menu.main_menu
[INFO]2021-03-18 09:57:47,060: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-18 09:57:47,148: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A8698A20>>
[INFO]2021-03-18 09:57:47,150: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A2828510>>
[INFO]2021-03-18 09:57:47,161: recover can release agv *task[6052b1e3e73748e754a6f0b0][AGV01] AP90(LM89) -> AP50(LM5) [finish]
[INFO]2021-03-18 09:57:47,164: import webFront.main_web
[INFO]2021-03-18 09:57:47,169: import wmqtt.main_wmqtt
[SUCC]2021-03-18 09:57:47,182: utility start, pid=26460, ppid=16724
[DEBUG]2021-03-18 09:57:47,183: start timer
[INFO]2021-03-18 09:57:47,196: load agv file: D:\python_work\AKMfloor\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-18 09:57:47,198: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A2846390>>
[DEBUG]2021-03-18 09:57:47,202: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-18 09:57:47,205: AGV01 start agvList run thread
[INFO]2021-03-18 09:57:47,205: AGV01 start agvList run2 thread
[ERROR]2021-03-18 09:57:47,215: agv check init error False
[INFO]2021-03-18 09:57:47,216: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A28280F0>>
[DEBUG]2021-03-18 09:57:47,219: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-18 09:57:47,221: AGV02 start agvList run thread
[INFO]2021-03-18 09:57:47,222: AGV02 start agvList run2 thread
[INFO]2021-03-18 09:57:47,222: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000255A8698D80>>
[INFO]2021-03-18 09:57:47,226: AGV02 current map famajia
[DEBUG]2021-03-18 09:57:47,229: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-18 09:57:47,229: AGV02 is online
[INFO]2021-03-18 09:57:47,232: AGV03 start agvList run thread
[INFO]2021-03-18 09:57:47,233: AGV03 start agvList run2 thread
[INFO]2021-03-18 09:57:47,243: AGV03 current map famajia
[INFO]2021-03-18 09:57:47,245: AGV03 is online
[INFO]2021-03-18 09:57:47,256: add_ignore: taskStatus
[INFO]2021-03-18 09:57:47,258: add_ignore: api/elevator/status
[INFO]2021-03-18 09:57:47,266: add_ignore: scada/getTask
[INFO]2021-03-18 09:57:47,717: AGV01 current map famajia
[INFO]2021-03-18 09:57:47,720: AGV01 is online
[DEBUG]2021-03-18 09:57:49,716: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-18 09:57:49,731: scadaTask init client agvApi
[DEBUG]2021-03-18 09:57:52,879: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-18 09:57:52,907: used 28ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-18 09:57:52,988: timer_thread[tid:1824] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=1824 count=1 at 0x00000255A8698A20>> ,hold 3793 ms
[INFO]2021-03-18 09:57:53,083: name=timer_thread, pid=26460, tid=1824
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[05] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-18 09:58:48,644: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:58:48,656: GET: http://192.168.252.83:5551/api/manual/tasklist addr: 192.168.252.94
[DEBUG]2021-03-18 09:58:48,684: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:58:48,697: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:58:48,721: used 24ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/manual/tasklist
[DEBUG]2021-03-18 09:58:48,860: GET: http://192.168.252.83:5551/api/agv/agvStatusList?mapId=famajia addr: 192.168.252.94
[DEBUG]2021-03-18 09:58:48,861: used 0ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/manual/seat
[DEBUG]2021-03-18 10:01:05,122: GET: http://192.168.252.83:5551/api/scada/addTask?source=%E8%B4%A8%E6%A3%80%E5%8C%BA&target=%E8%A3%85%E9%85%8D%E4%B8%80%E5%8C%BA addr: 192.168.252.94
[INFO]2021-03-18 10:01:05,172: Scada send a task to the server from 质检区 to 装配一区 payloadId: None
[INFO]2021-03-18 10:01:05,261: create task[6052b46103c6b76b260fd428]: type= scadaTask , 从质检区运送货架到装配一区 {'source': '质检区', 'target': '装配一区', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从质检区运送货架到装配一区', 'createTime': datetime.datetime(2021, 3, 18, 10, 1, 5, 255907), 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 5, 255907), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('6052b46103c6b76b260fd428')}
[INFO]2021-03-18 10:01:05,342: task[6052b46103c6b76b260fd428][-] AP90(LM89) -> AP50(LM5) [waiting] is inside False
[INFO]2021-03-18 10:01:05,388: task cmd: got a task from scada task[6052b46103c6b76b260fd428][-] AP90(LM89) -> AP50(LM5) [waiting]
[INFO]2021-03-18 10:01:06,771: task[6052b46103c6b76b260fd428]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 3, 18, 10, 1, 6, 724706), 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 6, 724706), 'status': 'running'}
[INFO]2021-03-18 10:01:06,805: task: start task[6052b46103c6b76b260fd428][-] AP90(LM89) -> AP50(LM5) [waiting]
[INFO]2021-03-18 10:01:06,850: task[6052b46103c6b76b260fd428] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 6, 844653)}
[DEBUG]2021-03-18 10:01:06,879: task[6052b46103c6b76b260fd428][-] AP90(LM89) -> AP50(LM5) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-03-18 10:01:08,254: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP90&mapId=famajia&taskId=6052b46103c6b76b260fd428&timeout=10 addr: 127.0.0.1
[INFO]2021-03-18 10:01:09,719: apply AGV01 ,taskId: 6052b46103c6b76b260fd428 ,loc famajia.AP90 ,autoLock False , used 1446 ms
[DEBUG]2021-03-18 10:01:09,747: used 1493ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP90&mapId=famajia&taskId=6052b46103c6b76b260fd428&timeout=10
[DEBUG]2021-03-18 10:01:09,817: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV01&appName=scadaTask&taskId=6052b46103c6b76b260fd428 addr: 127.0.0.1
[DEBUG]2021-03-18 10:01:09,842: lock:  AGV01 taskId 6052b46103c6b76b260fd428 app scadaTask
[WARNING]2021-03-18 10:01:10,868: AGV01 clear task finish, cur= famajia.AP34 task_status= 0
[INFO]2021-03-18 10:01:10,908: task[6052b46103c6b76b260fd428][-] AP90(LM89) -> AP50(LM5) [waitForAgv] apply AGV01
[INFO]2021-03-18 10:01:10,937: task[6052b46103c6b76b260fd428] update info: {'agvId': 'AGV01', 'failMsg': '成功分配小车AGV01,检测顶升下降', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 10, 931195)}
[DEBUG]2021-03-18 10:01:10,971: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-03-18 10:01:11,363: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [initJackdown] _jackDown
[DEBUG]2021-03-18 10:01:11,398: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:01:11,495: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-18 10:01:11,537: _jack in jackMgr: AGV01 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}]
[INFO]2021-03-18 10:01:11,601: AGV01 jack down status:  1
[DEBUG]2021-03-18 10:01:11,641: used 146ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:01:11,710: [return] use 312 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[INFO]2021-03-18 10:01:11,800: task[6052b46103c6b76b260fd428] update info: {'failMsg': '前往质检区工位点拉取货架', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 11, 789143)}
[DEBUG]2021-03-18 10:01:11,844: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [startMoveJackup] initJackdown -> startMoveJackup
[DEBUG]2021-03-18 10:01:12,199: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=famajia&isRotate&loc=famajia.AP90&location=AP90&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6052b46103c6b76b260fd428_2&taskType=scadaTask&timeoutSec=86400&use_pgv=True addr: 127.0.0.1
[INFO]2021-03-18 10:01:12,264: Begin: AGV01 move from famajia.AP34 to famajia.AP90 by paths: [('famajia', ['AP34', 'LM39', 'LM38', 'LM37', 'LM120', 'LM87', 'LM30', 'LM91', 'LM94', 'LM89', 'AP90'], 34.94599999999999)] task: 6052b46103c6b76b260fd428_2 timeout 86400 used 55 ms
[DEBUG]2021-03-18 10:01:12,269: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload] startMoveJackup -> loadPlayload
[DEBUG]2021-03-18 10:01:13,127: agvInfo: AGV01 famajia.AP34 move to famajia.LM39 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:15,651: AGV01 turn to wait check cur AP34 next LM38 0.776 False
[DEBUG]2021-03-18 10:01:16,235: agvInfo: AGV01 famajia.AP34 move to famajia.LM38 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:16,630: AGV01 set loc famajia.LM39 ,old AP34 (17.89,1.70)
[DEBUG]2021-03-18 10:01:16,743: AGV01 choise next pos cur LM39 next LM37 pre LM38 2.800 True
[DEBUG]2021-03-18 10:01:16,749: AGV01 choise next pos cur LM39 next LM120 pre LM37 4.899 True
[DEBUG]2021-03-18 10:01:16,753: AGV01 choise next pos cur LM39 next LM87 pre LM120 16.728 True
[DEBUG]2021-03-18 10:01:16,759: AGV01 turn to wait check cur LM39 next LM87 16.728 True
[DEBUG]2021-03-18 10:01:17,287: agvInfo: AGV01 famajia.LM39 move to famajia.LM87 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:18,145: AGV01 set loc famajia.LM38 ,old LM39 (16.55,1.70)
[DEBUG]2021-03-18 10:01:19,663: AGV01 set loc famajia.LM37 ,old LM38 (15.09,1.70)
[DEBUG]2021-03-18 10:01:21,685: AGV01 set loc famajia.LM120 ,old LM37 (12.99,1.70)
[DEBUG]2021-03-18 10:01:23,837: AGV01 choise next pos cur LM120 next LM30 pre LM87 11.847 True
[DEBUG]2021-03-18 10:01:23,839: AGV01 turn to wait check cur LM120 next LM30 11.847 True
[DEBUG]2021-03-18 10:01:24,431: agvInfo: AGV01 famajia.LM120 move to famajia.LM30 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:25,960: AGV01 choise next pos cur LM120 next LM91 pre LM30 11.789 True
[DEBUG]2021-03-18 10:01:25,968: AGV01 turn to wait check cur LM120 next LM91 11.789 True
[DEBUG]2021-03-18 10:01:26,530: agvInfo: AGV01 famajia.LM120 move to famajia.LM91 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:28,054: AGV01 choise next pos cur LM120 next LM94 pre LM91 16.987 True
[DEBUG]2021-03-18 10:01:28,060: AGV01 turn to wait check cur LM120 next LM94 16.987 True
[DEBUG]2021-03-18 10:01:28,615: agvInfo: AGV01 famajia.LM120 move to famajia.LM94 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:33,750: AGV01 set loc famajia.LM87 ,old LM120 (1.17,1.70)
[DEBUG]2021-03-18 10:01:35,678: AGV01 choise next pos cur LM87 next LM89 pre LM94 12.429 False
[DEBUG]2021-03-18 10:01:35,687: AGV01 turn to wait check cur LM87 next LM89 12.429 False
[DEBUG]2021-03-18 10:01:35,777: AGV01 set loc famajia.LM30 ,old LM87 (-0.81,1.70)
[DEBUG]2021-03-18 10:01:36,246: agvInfo: AGV01 famajia.LM30 move to famajia.LM89 ,taskId 6052b46103c6b76b260fd428_2
[DEBUG]2021-03-18 10:01:44,822: AGV01 set loc famajia.LM94 ,old LM30 (-9.81,1.70)
[DEBUG]2021-03-18 10:01:47,307: AGV01 turn to wait check cur LM94 next AP90 0.971 False
[DEBUG]2021-03-18 10:01:47,835: AGV01 set loc famajia.LM89 ,old LM94 (-12.77,1.70)
[DEBUG]2021-03-18 10:01:47,872: agvInfo: AGV01 famajia.LM89 move jackup to famajia.AP90 ,taskId 6052b46103c6b76b260fd428_2
[WARNING]2021-03-18 10:01:49,896: AGV01 waitFinish: loc is diff LM89 AP90 task_status= 2
[WARNING]2021-03-18 10:01:50,406: AGV01 waitFinish: loc is diff LM89 AP90 task_status= 2
[WARNING]2021-03-18 10:01:50,915: AGV01 waitFinish: loc is diff LM89 AP90 task_status= 2
[DEBUG]2021-03-18 10:01:51,357: AGV01 set loc famajia.AP90 ,old LM89 (-12.77,3.71)
[SUCC]2021-03-18 10:01:52,436: Finish:  AGV01 arrived famajia.AP90 ,task: 6052b46103c6b76b260fd428_2
[INFO]2021-03-18 10:01:52,710: task: move finish callback task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload]
[INFO]2021-03-18 10:01:52,715: task[6052b46103c6b76b260fd428] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 52, 712195)}
[DEBUG]2021-03-18 10:01:52,733: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-03-18 10:01:53,055: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload_jackup] _jackUp
[DEBUG]2021-03-18 10:01:53,062: send http_get: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:01:53,085: GET: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-18 10:01:53,097: _jack in jackMgr: AGV01 up [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}]
[INFO]2021-03-18 10:01:53,113: AGV01 jack up status:  1
[DEBUG]2021-03-18 10:01:53,116: used 31ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:01:53,120: [return] use 58 ms,http_get: http://127.0.0.1:5551/api/agv/jackup?agv=AGV01&loc=None&timeoutSec=90
[INFO]2021-03-18 10:01:53,128: task[6052b46103c6b76b260fd428] update info: {'failMsg': '等待装配一区工位点锁', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 53, 126087)}
[DEBUG]2021-03-18 10:01:53,140: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-03-18 10:01:53,446: task: prepoint locked  6052b46103c6b76b260fd428 famajia.AP50
[INFO]2021-03-18 10:01:53,481: task[6052b46103c6b76b260fd428] update info: {'failMsg': '前往AP50工位点放下货架', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 53, 470163)}
[DEBUG]2021-03-18 10:01:53,505: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [dropPayloadMove] waitDestPreLoc -> dropPayloadMove
[DEBUG]2021-03-18 10:01:53,881: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=famajia&isRotate&loc=famajia.AP50&location=AP50&p_direction=0.0&pgv_type=1&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6052b46103c6b76b260fd428_4&taskType=scadaTask&timeoutSec=86400&use_pgv=True addr: 127.0.0.1
[INFO]2021-03-18 10:01:53,893: Begin: AGV01 move from famajia.AP90 to famajia.AP50 by paths: [('famajia', ['AP90', 'LM89', 'LM94', 'LM91', 'LM30', 'LM87', 'LM120', 'LM37', 'LM38', 'LM39', 'LM40', 'LM41', 'LM47', 'LM83', 'LM122', 'LM84', 'LM85', 'LM4', 'LM107', 'LM5', 'AP50'], 83.44699999999999)] task: 6052b46103c6b76b260fd428_4 timeout 86400 used 9 ms
[DEBUG]2021-03-18 10:01:53,894: used 13ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=famajia&isRotate&loc=famajia.AP50&location=AP50&p_direction=0.0&pgv_type=1&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6052b46103c6b76b260fd428_4&taskType=scadaTask&timeoutSec=86400&use_pgv=True
[INFO]2021-03-18 10:01:53,897: task[6052b46103c6b76b260fd428] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 3, 18, 10, 1, 53, 896027)}
[DEBUG]2021-03-18 10:01:53,898: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [dropPayload] dropPayloadMove -> dropPayload
[DEBUG]2021-03-18 10:01:54,501: agvInfo: AGV01 famajia.AP90 move to famajia.LM89 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:01:56,512: AGV01 turn to wait check cur AP90 next LM94 0.953 False
[DEBUG]2021-03-18 10:01:57,055: agvInfo: AGV01 famajia.AP90 move to famajia.LM94 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:01:57,403: AGV01 set loc famajia.LM89 ,old AP90 (-12.77,1.70)
[DEBUG]2021-03-18 10:01:57,575: AGV01 choise next pos cur LM89 next LM91 pre LM94 10.065 True
[DEBUG]2021-03-18 10:01:57,581: AGV01 turn to wait check cur LM89 next LM91 10.065 True
[DEBUG]2021-03-18 10:01:58,136: agvInfo: AGV01 famajia.LM89 move to famajia.LM91 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:01:59,143: AGV01 choise next pos cur LM89 next LM30 pre LM91 11.809 True
[DEBUG]2021-03-18 10:01:59,147: AGV01 turn to wait check cur LM89 next LM30 11.809 True
[DEBUG]2021-03-18 10:01:59,696: agvInfo: AGV01 famajia.LM89 move to famajia.LM30 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:01,213: AGV01 choise next pos cur LM89 next LM87 pre LM30 11.788 True
[DEBUG]2021-03-18 10:02:01,223: AGV01 turn to wait check cur LM89 next LM87 11.788 True
[DEBUG]2021-03-18 10:02:01,786: agvInfo: AGV01 famajia.LM89 move to famajia.LM87 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:03,296: AGV01 choise next pos cur LM89 next LM120 pre LM87 21.651 True
[DEBUG]2021-03-18 10:02:03,299: AGV01 turn to wait check cur LM89 next LM120 21.651 True
[DEBUG]2021-03-18 10:02:03,863: agvInfo: AGV01 famajia.LM89 move to famajia.LM120 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:08,986: AGV01 set loc famajia.LM91 ,old LM89 (-2.75,1.70)
[DEBUG]2021-03-18 10:02:11,010: AGV01 set loc famajia.LM30 ,old LM91 (-0.70,1.70)
[DEBUG]2021-03-18 10:02:13,023: AGV01 set loc famajia.LM87 ,old LM30 (1.27,1.70)
[DEBUG]2021-03-18 10:02:15,466: AGV01 choise next pos cur LM87 next LM37 pre LM120 11.823 True
[DEBUG]2021-03-18 10:02:15,474: AGV01 turn to wait check cur LM87 next LM37 11.823 True
[DEBUG]2021-03-18 10:02:16,071: agvInfo: AGV01 famajia.LM87 move to famajia.LM37 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:17,077: AGV01 choise next pos cur LM87 next LM38 pre LM37 11.268 True
[DEBUG]2021-03-18 10:02:17,081: AGV01 turn to wait check cur LM87 next LM38 11.268 True
[DEBUG]2021-03-18 10:02:17,643: agvInfo: AGV01 famajia.LM87 move to famajia.LM38 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:18,658: AGV01 choise next pos cur LM87 next LM39 pre LM38 11.164 True
[DEBUG]2021-03-18 10:02:18,674: AGV01 turn to wait check cur LM87 next LM39 11.164 True
[DEBUG]2021-03-18 10:02:19,239: agvInfo: AGV01 famajia.LM87 move to famajia.LM39 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:20,249: AGV01 choise next pos cur LM87 next LM40 pre LM39 11.111 True
[DEBUG]2021-03-18 10:02:20,257: AGV01 turn to wait check cur LM87 next LM40 11.111 True
[DEBUG]2021-03-18 10:02:20,844: agvInfo: AGV01 famajia.LM87 move to famajia.LM40 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:21,862: AGV01 choise next pos cur LM87 next LM41 pre LM40 11.007 True
[DEBUG]2021-03-18 10:02:21,874: AGV01 turn to wait check cur LM87 next LM41 11.007 True
[DEBUG]2021-03-18 10:02:21,888: GET: http://192.168.252.83:5551/api/agv/agvStatusList?mapId=famajia addr: 192.168.252.94
[DEBUG]2021-03-18 10:02:21,892: used 4ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/agvStatusList?mapId=famajia
[DEBUG]2021-03-18 10:02:22,449: agvInfo: AGV01 famajia.LM87 move to famajia.LM41 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:23,458: AGV01 choise next pos cur LM87 next LM47 pre LM41 12.338 False
[DEBUG]2021-03-18 10:02:23,461: AGV01 turn to wait check cur LM87 next LM47 12.338 False
[DEBUG]2021-03-18 10:02:24,044: agvInfo: AGV01 famajia.LM87 move to famajia.LM47 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:25,095: AGV01 set loc famajia.LM120 ,old LM87 (13.10,1.70)
[DEBUG]2021-03-18 10:02:26,182: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:02:27,111: AGV01 set loc famajia.LM37 ,old LM120 (15.14,1.70)
[DEBUG]2021-03-18 10:02:28,636: AGV01 set loc famajia.LM38 ,old LM37 (16.60,1.70)
[DEBUG]2021-03-18 10:02:28,701: GET: http://192.168.252.83:5551/api/agv/lock?agv=AGV02&appName=FP-PAD-670d3&taskId=360fd3d7-77b5-4013-a826-1d68195886c7&force=True addr: 192.168.252.94
[DEBUG]2021-03-18 10:02:28,703: lock:  AGV02 taskId 360fd3d7-77b5-4013-a826-1d68195886c7 app FP-PAD-670d3
[DEBUG]2021-03-18 10:02:28,705: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:02:28,708: used 3ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02
[WARNING]2021-03-18 10:02:29,707: AGV02 clear task finish, cur= famajia.AP35 task_status= 0
[DEBUG]2021-03-18 10:02:31,160: AGV01 set loc famajia.LM40 ,old LM38 (19.14,1.70)
[DEBUG]2021-03-18 10:02:32,675: AGV01 set loc famajia.LM41 ,old LM40 (20.75,1.70)
[DEBUG]2021-03-18 10:02:35,140: AGV01 turn to wait check cur LM41 next LM83 0.722 False
[DEBUG]2021-03-18 10:02:35,700: AGV01 set loc famajia.LM47 ,old LM41 (23.48,1.70)
[DEBUG]2021-03-18 10:02:35,713: agvInfo: AGV01 famajia.LM47 move to famajia.LM83 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:37,730: AGV01 turn to wait check cur LM47 next LM122 0.828 False
[DEBUG]2021-03-18 10:02:38,288: agvInfo: AGV01 famajia.LM47 move to famajia.LM122 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:38,719: AGV01 set loc famajia.LM83 ,old LM47 (23.48,3.46)
[DEBUG]2021-03-18 10:02:38,794: AGV01 choise next pos cur LM83 next LM84 pre LM122 8.772 True
[DEBUG]2021-03-18 10:02:38,800: AGV01 choise next pos cur LM83 next LM85 pre LM84 10.595 False
[DEBUG]2021-03-18 10:02:38,808: AGV01 turn to wait check cur LM83 next LM85 10.595 False
[DEBUG]2021-03-18 10:02:39,376: agvInfo: AGV01 famajia.LM83 move to famajia.LM85 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:46,766: AGV01 set loc famajia.LM122 ,old LM83 (30.13,3.46)
[DEBUG]2021-03-18 10:02:48,778: AGV01 set loc famajia.LM84 ,old LM122 (32.15,3.46)
[DEBUG]2021-03-18 10:02:49,953: AGV01 turn to wait check cur LM84 next LM4 0.912 False
[DEBUG]2021-03-18 10:02:50,531: agvInfo: AGV01 famajia.LM84 move to famajia.LM4 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:50,788: AGV01 set loc famajia.LM85 ,old LM84 (34.07,3.46)
[DEBUG]2021-03-18 10:02:53,193: GET: http://192.168.252.83:5551/api/agv/release?taskId=360fd3d7-77b5-4013-a826-1d68195886c7&force=False&appName=FP-PAD-670d3&agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:02:53,193: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:02:53,195: unlock: AGV02 taskId 360fd3d7-77b5-4013-a826-1d68195886c7 app FP-PAD-670d3 force False
[DEBUG]2021-03-18 10:02:53,200: used 7ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/release?taskId=360fd3d7-77b5-4013-a826-1d68195886c7&force=False&appName=FP-PAD-670d3&agv=AGV02
[DEBUG]2021-03-18 10:02:56,572: AGV01 turn to wait check cur LM85 next LM107 0.864 False
[DEBUG]2021-03-18 10:02:57,126: agvInfo: AGV01 famajia.LM85 move to famajia.LM107 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:02:57,319: AGV01 set loc famajia.LM4 ,old LM85 (34.07,9.46)
[DEBUG]2021-03-18 10:03:10,762: AGV01 choise next pos cur LM4 next LM5 pre LM107 12.271 False
[DEBUG]2021-03-18 10:03:10,764: AGV01 turn to wait check cur LM4 next LM5 12.271 False
[DEBUG]2021-03-18 10:03:11,292: agvInfo: AGV01 famajia.LM4 move to famajia.LM5 ,taskId 6052b46103c6b76b260fd428_4
[DEBUG]2021-03-18 10:03:22,375: AGV01 turn to wait check cur LM4 next AP50 0.913 False
[DEBUG]2021-03-18 10:03:22,958: AGV01 set loc famajia.LM5 ,old LM4 (57.88,9.46)
[DEBUG]2021-03-18 10:03:22,967: agvInfo: AGV01 famajia.LM4 move jackdown to famajia.AP50 ,taskId 6052b46103c6b76b260fd428_4
[WARNING]2021-03-18 10:03:24,984: AGV01 waitFinish: loc is diff LM5 AP50 task_status= 2
[WARNING]2021-03-18 10:03:25,492: AGV01 waitFinish: loc is diff LM5 AP50 task_status= 2
[WARNING]2021-03-18 10:03:26,004: AGV01 waitFinish: loc is diff LM5 AP50 task_status= 2
[WARNING]2021-03-18 10:03:26,508: AGV01 waitFinish: loc is diff LM5 AP50 task_status= 2
[WARNING]2021-03-18 10:03:27,026: AGV01 waitFinish: loc is diff LM5 AP50 task_status= 2
[DEBUG]2021-03-18 10:03:27,496: AGV01 set loc famajia.AP50 ,old LM5 (57.88,6.42)
[SUCC]2021-03-18 10:03:28,537: Finish:  AGV01 arrived famajia.AP50 ,task: 6052b46103c6b76b260fd428_4
[INFO]2021-03-18 10:03:28,893: task: move finish callback task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [dropPayload]
[INFO]2021-03-18 10:03:28,916: task[6052b46103c6b76b260fd428] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 3, 18, 10, 3, 28, 912487)}
[INFO]2021-03-18 10:03:29,127: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [dropPayloadJackdown] _jackDown
[DEBUG]2021-03-18 10:03:29,134: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:03:29,140: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-18 10:03:29,142: _jack in jackMgr: AGV01 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}]
[INFO]2021-03-18 10:03:29,147: AGV01 jack down status:  1
[DEBUG]2021-03-18 10:03:29,151: used 11ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:03:29,154: [return] use 20 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:03:29,158: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-03-18 10:03:29,466: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [dropPayloadReset] rotationClear
[DEBUG]2021-03-18 10:03:29,483: send http_get: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV01&timeoutSec=30
[DEBUG]2021-03-18 10:03:29,569: GET: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV01&timeoutSec=30 addr: 127.0.0.1
[INFO]2021-03-18 10:03:30,600: _rotation in rotationMgr: AGV01 None [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}]
[INFO]2021-03-18 10:03:30,675: AGV01 rotation clear status: 1
[DEBUG]2021-03-18 10:03:30,703: used 1134ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV01&timeoutSec=30
[DEBUG]2021-03-18 10:03:30,757: [return] use 1274 ms,http_get: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV01&timeoutSec=30
[INFO]2021-03-18 10:03:30,803: task[6052b46103c6b76b260fd428]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 3, 18, 10, 3, 30, 780506), 'status': 'success'}
[DEBUG]2021-03-18 10:03:30,832: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [finish] dropPayloadReset -> finish
[INFO]2021-03-18 10:03:31,223: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [finish] AGV01 release task, release agv True True False
[DEBUG]2021-03-18 10:03:31,326: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV01&appName=scadaTask&taskId=6052b46103c6b76b260fd428 addr: 127.0.0.1
[DEBUG]2021-03-18 10:03:31,348: used 22ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV01&appName=scadaTask&taskId=6052b46103c6b76b260fd428
[DEBUG]2021-03-18 10:03:31,452: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV01&appName=scadaTask&force=False&taskId=6052b46103c6b76b260fd428 addr: 127.0.0.1
[DEBUG]2021-03-18 10:03:31,493: unlock: AGV01 taskId 6052b46103c6b76b260fd428 app scadaTask force False
[DEBUG]2021-03-18 10:03:31,521: used 69ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV01&appName=scadaTask&force=False&taskId=6052b46103c6b76b260fd428
[INFO]2021-03-18 10:03:31,583: task[6052b46103c6b76b260fd428][AGV01] AP90(LM89) -> AP50(LM5) [finish] let AGV01 gohome
[DEBUG]2021-03-18 10:03:31,650: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV01&appName=scadaTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-03-18 10:03:31,668: AGV01 gohome home_1 force False taskId home_1 : AGV01.AP50 -> famajia.AP34
[INFO]2021-03-18 10:03:32,325: Begin: AGV01 move from famajia.AP50 to famajia.AP34 by paths: [('famajia', ['AP50', 'LM5', 'LM107', 'LM4', 'LM85', 'LM84', 'LM122', 'LM123', 'LM47', 'LM41', 'LM40', 'LM39', 'AP34'], 53.05299999999998)] task: home_1 timeout 10800 used 633 ms
[DEBUG]2021-03-18 10:03:32,360: used 710ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV01&appName=scadaTask&force=False&timeout=10800
[INFO]2021-03-18 10:03:32,423: task: prepoint released2  6052b46103c6b76b260fd428 famajia.AP50
[INFO]2021-03-18 10:03:32,435: task: stop task[6052b46103c6b76b260fd428][-] AP90(LM89) -> AP50(LM5) [finish]
[DEBUG]2021-03-18 10:03:32,441: task: delete task 6052b46103c6b76b260fd428
[DEBUG]2021-03-18 10:03:33,884: agvInfo: AGV01 famajia.AP50 move to famajia.LM5 ,taskId home_1
[DEBUG]2021-03-18 10:03:36,938: AGV01 turn to wait check cur AP50 next LM107 0.961 False
[DEBUG]2021-03-18 10:03:37,650: AGV01 set loc famajia.LM5 ,old AP50 (57.88,9.46)
[DEBUG]2021-03-18 10:03:38,293: agvInfo: AGV01 famajia.LM5 move to famajia.LM107 ,taskId home_1
[DEBUG]2021-03-18 10:03:38,831: AGV01 choise next pos cur LM5 next LM4 pre LM107 23.809 False
[DEBUG]2021-03-18 10:03:38,861: AGV01 turn to wait check cur LM5 next LM4 23.809 False
[DEBUG]2021-03-18 10:03:40,260: agvInfo: AGV01 famajia.LM5 move to famajia.LM4 ,taskId home_1
[DEBUG]2021-03-18 10:03:42,224: AGV01 set loc famajia.LM107 ,old LM5 (55.24,9.46)
[DEBUG]2021-03-18 10:04:04,092: AGV01 turn to wait check cur LM107 next LM85 0.903 False
[DEBUG]2021-03-18 10:04:05,003: AGV01 set loc famajia.LM4 ,old LM107 (34.07,9.46)
[DEBUG]2021-03-18 10:04:05,475: agvInfo: AGV01 famajia.LM4 move to famajia.LM85 ,taskId home_1
[DEBUG]2021-03-18 10:04:12,544: AGV01 turn to wait check cur LM4 next LM84 0.711 False
[DEBUG]2021-03-18 10:04:13,122: AGV01 set loc famajia.LM85 ,old LM4 (34.07,3.46)
[DEBUG]2021-03-18 10:04:13,867: agvInfo: AGV01 famajia.LM85 move to famajia.LM84 ,taskId home_1
[DEBUG]2021-03-18 10:04:14,395: AGV01 choise next pos cur LM85 next LM122 pre LM84 4.047 False
[DEBUG]2021-03-18 10:04:14,419: AGV01 turn to wait check cur LM85 next LM122 4.047 False
[DEBUG]2021-03-18 10:04:15,778: agvInfo: AGV01 famajia.LM85 move to famajia.LM122 ,taskId home_1
[DEBUG]2021-03-18 10:04:19,343: AGV01 turn to wait check cur LM85 next LM123 0.556 False
[DEBUG]2021-03-18 10:04:19,687: AGV01 set loc famajia.LM122 ,old LM85 (30.13,3.46)
[DEBUG]2021-03-18 10:04:20,784: agvInfo: AGV01 famajia.LM122 move to famajia.LM123 ,taskId home_1
[DEBUG]2021-03-18 10:04:23,389: AGV01 turn to wait check cur LM122 next LM47 0.932 False
[DEBUG]2021-03-18 10:04:24,244: AGV01 set loc famajia.LM123 ,old LM122 (30.03,1.70)
[DEBUG]2021-03-18 10:04:24,854: agvInfo: AGV01 famajia.LM123 move to famajia.LM47 ,taskId home_1
[DEBUG]2021-03-18 10:04:25,400: AGV01 choise next pos cur LM123 next LM41 pre LM47 9.332 True
[DEBUG]2021-03-18 10:04:25,423: AGV01 choise next pos cur LM123 next LM40 pre LM41 10.732 True
[DEBUG]2021-03-18 10:04:25,456: AGV01 turn to wait check cur LM123 next LM40 10.732 True
[DEBUG]2021-03-18 10:04:26,901: agvInfo: AGV01 famajia.LM123 move to famajia.LM40 ,taskId home_1
[DEBUG]2021-03-18 10:04:27,437: AGV01 choise next pos cur LM123 next LM39 pre LM40 10.671 False
[DEBUG]2021-03-18 10:04:27,483: AGV01 turn to wait check cur LM123 next LM39 10.671 False
[DEBUG]2021-03-18 10:04:28,911: agvInfo: AGV01 famajia.LM123 move to famajia.LM39 ,taskId home_1
[DEBUG]2021-03-18 10:04:32,871: AGV01 set loc famajia.LM47 ,old LM123 (23.48,1.70)
[DEBUG]2021-03-18 10:04:35,935: AGV01 set loc famajia.LM41 ,old LM47 (20.59,1.70)
[DEBUG]2021-03-18 10:04:38,033: AGV01 turn to wait check cur LM41 next AP34 0.700 False
[DEBUG]2021-03-18 10:04:39,016: AGV01 set loc famajia.LM39 ,old LM41 (17.89,1.70)
[DEBUG]2021-03-18 10:04:39,527: agvInfo: AGV01 famajia.LM39 move to famajia.AP34 ,taskId home_1
[WARNING]2021-03-18 10:04:41,093: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[WARNING]2021-03-18 10:04:41,620: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[WARNING]2021-03-18 10:04:42,154: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[DEBUG]2021-03-18 10:04:42,598: AGV01 set loc famajia.AP34 ,old LM39 (17.89,3.87)
[SUCC]2021-03-18 10:04:44,221: Finish:  AGV01 arrived famajia.AP34 ,task: home_1
[DEBUG]2021-03-18 10:04:44,249: unlock: AGV01 taskId None app None force False
[DEBUG]2021-03-18 10:05:01,649: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:01,684: used 35ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02
[DEBUG]2021-03-18 10:05:37,579: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:37,585: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:37,597: used 12ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02
[DEBUG]2021-03-18 10:05:44,356: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02 addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:44,412: used 56ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/status?agv=AGV02
[DEBUG]2021-03-18 10:05:59,645: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:59,756: used 111ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/manual/seat
[DEBUG]2021-03-18 10:05:59,865: GET: http://192.168.252.83:5551/api/agv/agvStatusList?mapId=famajia addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:59,871: GET: http://192.168.252.83:5551/api/agv/agvStatusList?mapId=famajia addr: 192.168.252.94
[DEBUG]2021-03-18 10:05:59,882: used 11ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/agvStatusList?mapId=famajia
[DEBUG]2021-03-18 10:06:02,913: GET: http://192.168.252.83:5551/api/agv/status?agv=AGV03 addr: 192.168.252.94
[DEBUG]2021-03-18 10:06:02,936: used 23ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/status?agv=AGV03
[DEBUG]2021-03-18 10:06:25,747: GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b09ce73748e754a6f0ae addr: 192.168.252.94
[WARNING]2021-03-18 10:06:25,788: task cmd: switch to pda mode 6052b09ce73748e754a6f0ae
[DEBUG]2021-03-18 10:06:25,878: used 131ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b09ce73748e754a6f0ae
[DEBUG]2021-03-18 10:06:34,792: GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b09ce73748e754a6f0ae addr: 192.168.252.94
[WARNING]2021-03-18 10:06:34,814: task cmd: switch to pda mode 6052b09ce73748e754a6f0ae
[DEBUG]2021-03-18 10:06:34,835: used 43ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b09ce73748e754a6f0ae
[DEBUG]2021-03-18 10:06:36,316: GET: http://192.168.252.83:5551/api/scada/finish?taskId=6052b09ce73748e754a6f0ae&agvId=AGV01&appName=FP-PAD-670d3 addr: 192.168.252.94
[WARNING]2021-03-18 10:06:36,355: task cmd: finish task 6052b09ce73748e754a6f0ae
[INFO]2021-03-18 10:06:36,416: task[6052b09ce73748e754a6f0ae]:  successed {'step': 'finish', 'endTime': datetime.datetime(2021, 3, 18, 10, 6, 36, 411072), 'status': 'success'}
[DEBUG]2021-03-18 10:06:36,450: used 134ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/scada/finish?taskId=6052b09ce73748e754a6f0ae&agvId=AGV01&appName=FP-PAD-670d3
[DEBUG]2021-03-18 10:07:19,374: GET: http://192.168.252.83:5551/api/scada/addTask?source=%E8%B4%A8%E6%A3%80%E5%8C%BA&target=%E8%A3%85%E9%85%8D%E4%B8%80%E5%8C%BA addr: 192.168.252.94
[INFO]2021-03-18 10:07:19,413: Scada send a task to the server from 质检区 to 装配一区 payloadId: None
[INFO]2021-03-18 10:07:19,436: create task[6052b5d703c6b76b260fd429]: type= scadaTask , 从质检区运送货架到装配一区 {'source': '质检区', 'target': '装配一区', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从质检区运送货架到装配一区', 'createTime': datetime.datetime(2021, 3, 18, 10, 7, 19, 430503), 'updateTime': datetime.datetime(2021, 3, 18, 10, 7, 19, 430503), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('6052b5d703c6b76b260fd429')}
[INFO]2021-03-18 10:07:19,518: task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [waiting] is inside False
[INFO]2021-03-18 10:07:19,545: task cmd: got a task from scada task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [waiting]
[DEBUG]2021-03-18 10:07:19,569: used 195ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/scada/addTask?source=%E8%B4%A8%E6%A3%80%E5%8C%BA&target=%E8%A3%85%E9%85%8D%E4%B8%80%E5%8C%BA
[INFO]2021-03-18 10:07:20,831: task[6052b5d703c6b76b260fd429]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 3, 18, 10, 7, 20, 824556), 'updateTime': datetime.datetime(2021, 3, 18, 10, 7, 20, 824556), 'status': 'running'}
[INFO]2021-03-18 10:07:20,871: task: start task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [waiting]
[INFO]2021-03-18 10:07:20,930: task[6052b5d703c6b76b260fd429] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 3, 18, 10, 7, 20, 923250)}
[DEBUG]2021-03-18 10:07:20,959: task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-03-18 10:07:22,281: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP90&mapId=famajia&taskId=6052b5d703c6b76b260fd429&timeout=10 addr: 127.0.0.1
[INFO]2021-03-18 10:07:22,827: apply AGV01 ,taskId: 6052b5d703c6b76b260fd429 ,loc famajia.AP90 ,autoLock False , used 510 ms
[DEBUG]2021-03-18 10:07:22,862: used 581ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP90&mapId=famajia&taskId=6052b5d703c6b76b260fd429&timeout=10
[DEBUG]2021-03-18 10:07:22,964: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV01&appName=scadaTask&taskId=6052b5d703c6b76b260fd429 addr: 127.0.0.1
[DEBUG]2021-03-18 10:07:22,987: lock:  AGV01 taskId 6052b5d703c6b76b260fd429 app scadaTask
[WARNING]2021-03-18 10:07:24,033: AGV01 clear task finish, cur= famajia.AP34 task_status= 0
[INFO]2021-03-18 10:07:24,089: task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [waitForAgv] apply AGV01
[INFO]2021-03-18 10:07:24,123: task[6052b5d703c6b76b260fd429] update info: {'agvId': 'AGV01', 'failMsg': '成功分配小车AGV01,检测顶升下降', 'updateTime': datetime.datetime(2021, 3, 18, 10, 7, 24, 117449)}
[DEBUG]2021-03-18 10:07:24,153: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-03-18 10:07:24,503: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [initJackdown] _jackDown
[DEBUG]2021-03-18 10:07:24,510: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:07:24,564: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-18 10:07:24,624: _jack in jackMgr: AGV01 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}]
[INFO]2021-03-18 10:07:24,654: AGV01 jack down status:  1
[DEBUG]2021-03-18 10:07:24,673: used 109ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[DEBUG]2021-03-18 10:07:24,757: [return] use 247 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV01&loc=None&timeoutSec=90
[INFO]2021-03-18 10:07:24,800: task[6052b5d703c6b76b260fd429] update info: {'failMsg': '前往质检区工位点拉取货架', 'updateTime': datetime.datetime(2021, 3, 18, 10, 7, 24, 787034)}
[DEBUG]2021-03-18 10:07:24,819: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [startMoveJackup] initJackdown -> startMoveJackup
[DEBUG]2021-03-18 10:07:25,181: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV01&agvId=AGV01&appName=scadaTask&direction=None&floorId=famajia&isRotate&loc=famajia.AP90&location=AP90&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=6052b5d703c6b76b260fd429_2&taskType=scadaTask&timeoutSec=86400&use_pgv=True addr: 127.0.0.1
[INFO]2021-03-18 10:07:25,224: Begin: AGV01 move from famajia.AP34 to famajia.AP90 by paths: [('famajia', ['AP34', 'LM39', 'LM38', 'LM37', 'LM120', 'LM87', 'LM30', 'LM91', 'LM94', 'LM89', 'AP90'], 34.94599999999999)] task: 6052b5d703c6b76b260fd429_2 timeout 86400 used 25 ms
[DEBUG]2021-03-18 10:07:25,231: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload] startMoveJackup -> loadPlayload
[DEBUG]2021-03-18 10:07:26,094: agvInfo: AGV01 famajia.AP34 move to famajia.LM39 ,taskId 6052b5d703c6b76b260fd429_2
[DEBUG]2021-03-18 10:07:28,106: AGV01 turn to wait check cur AP34 next LM38 0.828 False
[DEBUG]2021-03-18 10:07:28,708: agvInfo: AGV01 famajia.AP34 move to famajia.LM38 ,taskId 6052b5d703c6b76b260fd429_2
[DEBUG]2021-03-18 10:07:28,781: AGV01 set loc famajia.LM39 ,old AP34 (17.89,1.70)
[DEBUG]2021-03-18 10:07:29,227: AGV01 choise next pos cur LM39 next LM37 pre LM38 2.800 True
[DEBUG]2021-03-18 10:07:29,236: AGV01 choise next pos cur LM39 next LM120 pre LM37 4.899 True
[DEBUG]2021-03-18 10:07:29,254: AGV01 choise next pos cur LM39 next LM87 pre LM120 16.728 True
[DEBUG]2021-03-18 10:07:29,258: AGV01 turn to wait check cur LM39 next LM87 16.728 True
[DEBUG]2021-03-18 10:07:29,863: agvInfo: AGV01 famajia.LM39 move to famajia.LM87 ,taskId 6052b5d703c6b76b260fd429_2
[DEBUG]2021-03-18 10:07:31,310: AGV01 set loc famajia.LM38 ,old LM39 (16.60,1.70)
[DEBUG]2021-03-18 10:07:32,830: AGV01 set loc famajia.LM37 ,old LM38 (15.14,1.70)
[DEBUG]2021-03-18 10:07:34,616: GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b5d703c6b76b260fd429 addr: 192.168.252.94
[WARNING]2021-03-18 10:07:34,624: task cmd: switch to pda mode 6052b5d703c6b76b260fd429
[DEBUG]2021-03-18 10:07:34,653: GET: http://127.0.0.1:5551/api/agv/cancel?agv=AGV01&appName=scadaTask addr: 127.0.0.1
[WARNING]2021-03-18 10:07:34,657: user cancel  AGV01
[WARNING]2021-03-18 10:07:34,663: AGV01 clear task,taskId= 6052b5d703c6b76b260fd429_2 map= famajia paths= AP34,LM39,LM38,LM37,LM120,LM87,LM30,LM91,LM94,LM89,AP90 task_status= 2
[ERROR]2021-03-18 10:07:34,666: AGV01 failed to arrived famajia.AP90 ,task: 6052b5d703c6b76b260fd429_2 error task cancel,6052b5d703c6b76b260fd429_2
[DEBUG]2021-03-18 10:07:34,854: AGV01 set loc famajia.LM120 ,old LM37 (13.05,1.70)
[INFO]2021-03-18 10:07:34,923: task: move finish callback task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload]
[WARNING]2021-03-18 10:07:34,933: task[6052b5d703c6b76b260fd429]:  error {'failMsg': 'task cancel,6052b5d703c6b76b260fd429_2', 'endTime': datetime.datetime(2021, 3, 18, 10, 7, 34, 930050), 'status': 'error'}
[DEBUG]2021-03-18 10:07:41,104: GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b5d703c6b76b260fd429 addr: 192.168.252.94
[DEBUG]2021-03-18 10:07:43,665: GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b5d703c6b76b260fd429 addr: 192.168.252.94
[DEBUG]2021-03-18 10:07:47,535: AGV01 set loc famajia.LM87 ,old LM120 (1.32,1.70)
[WARNING]2021-03-18 10:07:48,745: AGV01 clear task finish, cur= famajia.LM87 task_status= 0
[WARNING]2021-03-18 10:07:48,842: worker 5[tid:24904] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=24904 count=1 at 0x00000255A8698A20>> ,hold 14218 ms
[INFO]2021-03-18 10:07:48,981: name=worker 5, pid=26460, tid=24904
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "C:/Python38/lib/socketserver.py", line 360, in finish_request() 
[06] File "C:/Python38/lib/socketserver.py", line 720, in __init__() 
[07] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "C:/Python38/lib/http/server.py", line 426, in handle() 
[09] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Python38/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Python38/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "C:/Python38/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "C:/Python38/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "C:/Python38/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "D:/python_work/AKMfloor/common/webutility.py", line 465, in _enable_cors() 
[17] File "D:/python_work/AKMfloor/common/webutility.py", line 481, in _enable_cors() 
[18] File "D:/python_work/AKMfloor/common/scadaUtility.py", line 45, in __call() 
[19] File "D:/python_work/AKMfloor/pharmapackCtrl/main_scadaCtrl.py", line 126, in urlSwithchMode() 
[20] File "D:/python_work/AKMfloor/common/lock.py", line 120, in _call() 
[21] File "D:/python_work/AKMfloor/pharmapackCtrl/runTasks.py", line 121, in switchMode() 
[22] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[23] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[24] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-03-18 10:07:49,028: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload] stop thread, running  True
[WARNING]2021-03-18 10:07:49,085: scada.6052b5d703c6b76b260fd429[tid:26172] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=26172 count=1 at 0x00000255A8698A20>> ,hold 14395 ms
[DEBUG]2021-03-18 10:07:49,172: GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b5d703c6b76b260fd429 addr: 192.168.252.94
[INFO]2021-03-18 10:07:49,183: name=scada.6052b5d703c6b76b260fd429, pid=26460, tid=26172
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/utility.py", line 167, in __call() 
[03] File "D:/python_work/AKMfloor/pharmapackCtrl/runTasks.py", line 739, in _taskFunc() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[05] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-18 10:07:49,240: timer_thread[tid:1824] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=1824 count=1 at 0x00000255A8698A20>> ,hold 14270 ms
[INFO]2021-03-18 10:07:49,301: name=timer_thread, pid=26460, tid=1824
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[05] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-18 10:07:49,349: task cmd: switch to pda mode 6052b5d703c6b76b260fd429
[WARNING]2021-03-18 10:07:49,400: task[6052b5d703c6b76b260fd429]:  error {'failMsg': 'task canceled - task cancel,6052b5d703c6b76b260fd429_2', 'endTime': datetime.datetime(2021, 3, 18, 10, 7, 49, 389586), 'status': 'error'}
[WARNING]2021-03-18 10:07:49,446: worker 7[tid:13284] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=13284 count=1 at 0x00000255A8698A20>> ,hold 8319 ms
[INFO]2021-03-18 10:07:49,550: name=worker 7, pid=26460, tid=13284
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "C:/Python38/lib/socketserver.py", line 360, in finish_request() 
[06] File "C:/Python38/lib/socketserver.py", line 720, in __init__() 
[07] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "C:/Python38/lib/http/server.py", line 426, in handle() 
[09] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Python38/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Python38/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "C:/Python38/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "C:/Python38/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "C:/Python38/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "D:/python_work/AKMfloor/common/webutility.py", line 465, in _enable_cors() 
[17] File "D:/python_work/AKMfloor/common/webutility.py", line 481, in _enable_cors() 
[18] File "D:/python_work/AKMfloor/common/scadaUtility.py", line 45, in __call() 
[19] File "D:/python_work/AKMfloor/pharmapackCtrl/main_scadaCtrl.py", line 126, in urlSwithchMode() 
[20] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[21] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[22] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[23] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-18 10:07:49,616: used 444ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/scada/cancelTask?agv=AGV01&appName=FP-PAD-670d3&taskId=6052b5d703c6b76b260fd429
[WARNING]2021-03-18 10:07:49,617: task cmd: switch to pda mode 6052b5d703c6b76b260fd429
[WARNING]2021-03-18 10:07:49,685: task[6052b5d703c6b76b260fd429]:  error {'failMsg': 'task canceled - task canceled - task cancel,6052b5d703c6b76b260fd429_2', 'endTime': datetime.datetime(2021, 3, 18, 10, 7, 49, 680101), 'status': 'error'}
[WARNING]2021-03-18 10:07:49,731: worker 8[tid:22492] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=22492 count=1 at 0x00000255A8698A20>> ,hold 6049 ms
[INFO]2021-03-18 10:07:49,868: name=worker 8, pid=26460, tid=22492
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "C:/Python38/lib/socketserver.py", line 360, in finish_request() 
[06] File "C:/Python38/lib/socketserver.py", line 720, in __init__() 
[07] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "C:/Python38/lib/http/server.py", line 426, in handle() 
[09] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "C:/Python38/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "C:/Python38/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Python38/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "C:/Python38/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "C:/Python38/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "C:/Python38/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "D:/python_work/AKMfloor/common/webutility.py", line 465, in _enable_cors() 
[17] File "D:/python_work/AKMfloor/common/webutility.py", line 481, in _enable_cors() 
[18] File "D:/python_work/AKMfloor/common/scadaUtility.py", line 45, in __call() 
[19] File "D:/python_work/AKMfloor/pharmapackCtrl/main_scadaCtrl.py", line 126, in urlSwithchMode() 
[20] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[21] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[22] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[23] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-18 10:07:49,909: task cmd: switch to pda mode 6052b5d703c6b76b260fd429
[WARNING]2021-03-18 10:07:49,960: task[6052b5d703c6b76b260fd429]:  error {'failMsg': 'task canceled - task canceled - task canceled - task cancel,6052b5d703c6b76b260fd429_2', 'endTime': datetime.datetime(2021, 3, 18, 10, 7, 49, 948084), 'status': 'error'}
[INFO]2021-03-18 10:07:49,982: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload] AGV01 release task, release agv True True False
[DEBUG]2021-03-18 10:07:50,043: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV01&appName=scadaTask&taskId=6052b5d703c6b76b260fd429 addr: 127.0.0.1
[DEBUG]2021-03-18 10:07:50,089: used 46ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV01&appName=scadaTask&taskId=6052b5d703c6b76b260fd429
[DEBUG]2021-03-18 10:07:50,167: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV01&appName=scadaTask&force=False&taskId=6052b5d703c6b76b260fd429 addr: 127.0.0.1
[DEBUG]2021-03-18 10:07:50,207: unlock: AGV01 taskId 6052b5d703c6b76b260fd429 app scadaTask force False
[DEBUG]2021-03-18 10:07:50,229: used 62ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV01&appName=scadaTask&force=False&taskId=6052b5d703c6b76b260fd429
[INFO]2021-03-18 10:07:50,281: task[6052b5d703c6b76b260fd429][AGV01] AP90(LM89) -> AP50(LM5) [loadPlayload] let AGV01 gohome
[DEBUG]2021-03-18 10:07:50,391: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV01&appName=scadaTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-03-18 10:07:50,429: AGV01 gohome home_2 force False taskId home_2 : AGV01.LM87 -> famajia.AP34
[INFO]2021-03-18 10:07:51,252: Begin: AGV01 move from famajia.LM87 to famajia.AP34 by paths: [('famajia', ['LM87', 'LM120', 'LM37', 'LM38', 'LM39', 'AP34'], 19.003999999999998)] task: home_2 timeout 10800 used 791 ms
[DEBUG]2021-03-18 10:07:51,304: used 913ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV01&appName=scadaTask&force=False&timeout=10800
[INFO]2021-03-18 10:07:51,354: task: stop task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [loadPlayload]
[WARNING]2021-03-18 10:07:51,426: task[6052b5d703c6b76b260fd429]:  error {'failMsg': 'task canceled - 前往质检区工位点拉取货架', 'endTime': datetime.datetime(2021, 3, 18, 10, 7, 51, 414858), 'status': 'error'}
[DEBUG]2021-03-18 10:07:52,920: agvInfo: AGV01 famajia.LM87 move to famajia.LM120 ,taskId home_2
[DEBUG]2021-03-18 10:07:53,833: GET: http://192.168.252.83:5551/api/scada/fail?taskId=6052b5d703c6b76b260fd429&agvId=AGV01&appName=FP-PAD-670d3 addr: 192.168.252.94
[WARNING]2021-03-18 10:07:53,885: task cmd: fail task 6052b5d703c6b76b260fd429
[INFO]2021-03-18 10:07:53,926: task[6052b5d703c6b76b260fd429][-] AP90(LM89) -> AP50(LM5) [loadPlayload] stop thread, running  False
[WARNING]2021-03-18 10:07:53,974: task[6052b5d703c6b76b260fd429]: failed, {'failMsg': 'task fail by PDA', 'endTime': datetime.datetime(2021, 3, 18, 10, 7, 53, 963201), 'status': 'fail'}
[DEBUG]2021-03-18 10:07:53,997: used 164ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/scada/fail?taskId=6052b5d703c6b76b260fd429&agvId=AGV01&appName=FP-PAD-670d3
[DEBUG]2021-03-18 10:07:57,490: AGV01 choise next pos cur LM87 next LM37 pre LM120 11.672 True
[DEBUG]2021-03-18 10:07:57,518: AGV01 turn to wait check cur LM87 next LM37 11.672 True
[DEBUG]2021-03-18 10:07:59,010: agvInfo: AGV01 famajia.LM87 move to famajia.LM37 ,taskId home_2
[DEBUG]2021-03-18 10:07:59,537: AGV01 choise next pos cur LM87 next LM38 pre LM37 11.268 True
[DEBUG]2021-03-18 10:07:59,560: AGV01 turn to wait check cur LM87 next LM38 11.268 True
[DEBUG]2021-03-18 10:08:00,915: agvInfo: AGV01 famajia.LM87 move to famajia.LM38 ,taskId home_2
[DEBUG]2021-03-18 10:08:01,440: AGV01 choise next pos cur LM87 next LM39 pre LM38 10.813 False
[DEBUG]2021-03-18 10:08:01,481: AGV01 turn to wait check cur LM87 next LM39 10.813 False
[DEBUG]2021-03-18 10:08:02,855: agvInfo: AGV01 famajia.LM87 move to famajia.LM39 ,taskId home_2
[DEBUG]2021-03-18 10:08:07,794: AGV01 set loc famajia.LM120 ,old LM87 (13.05,1.70)
[DEBUG]2021-03-18 10:08:09,848: AGV01 set loc famajia.LM37 ,old LM120 (15.09,1.70)
[DEBUG]2021-03-18 10:08:11,387: AGV01 set loc famajia.LM38 ,old LM37 (16.39,1.70)
[DEBUG]2021-03-18 10:08:11,975: AGV01 turn to wait check cur LM38 next AP34 0.969 False
[DEBUG]2021-03-18 10:08:12,926: AGV01 set loc famajia.LM39 ,old LM38 (17.89,1.70)
[DEBUG]2021-03-18 10:08:13,361: agvInfo: AGV01 famajia.LM39 move to famajia.AP34 ,taskId home_2
[WARNING]2021-03-18 10:08:15,420: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[WARNING]2021-03-18 10:08:15,953: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[WARNING]2021-03-18 10:08:16,501: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[DEBUG]2021-03-18 10:08:17,002: AGV01 set loc famajia.AP34 ,old LM39 (17.89,3.98)
[WARNING]2021-03-18 10:08:17,019: AGV01 waitFinish: loc is diff LM39 AP34 task_status= 2
[SUCC]2021-03-18 10:08:18,622: Finish:  AGV01 arrived famajia.AP34 ,task: home_2
[DEBUG]2021-03-18 10:08:18,645: unlock: AGV01 taskId None app None force False
