[INFO]2021-06-10 22:31:47,625: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-10 22:31:47,627: find module account.main_account
[INFO]2021-06-10 22:31:47,629: find module agvCtrl.main_agv
[INFO]2021-06-10 22:31:47,634: find module agvDevice.main_agvDevice
[INFO]2021-06-10 22:31:47,636: find module akmCtrl.main_akmCtrl
[INFO]2021-06-10 22:31:47,638: find module alarm.main_alarm
[INFO]2021-06-10 22:31:47,640: find module auth.main_auth
[INFO]2021-06-10 22:31:47,642: find module door.main_door
[INFO]2021-06-10 22:31:47,644: find module elevator.main_elevator
[INFO]2021-06-10 22:31:47,646: find module feed.main_feed
[INFO]2021-06-10 22:31:47,651: find module remoteio.main_remoteio
[INFO]2021-06-10 22:31:47,653: import account.main_account
[INFO]2021-06-10 22:31:47,989: import agvCtrl.main_agv
[INFO]2021-06-10 22:31:49,076: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BDC1ED78>>
[INFO]2021-06-10 22:31:49,079: ------acceptCallback-------------->>>> add
[INFO]2021-06-10 22:31:49,081: -------------------self._listenThread------------- <Thread(tcplisten.port_6789, initial)>
[INFO]2021-06-10 22:31:49,085: ----------------------------------try---------------------
[INFO]2021-06-10 22:31:49,138: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BDC1EEE0>>
[INFO]2021-06-10 22:31:49,502: create lock <lock name:timer.lock_2137786388776,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BDF94BC0>>
[ERROR]2021-06-10 22:31:49,551: mqtt is disabled
[INFO]2021-06-10 22:31:49,556: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-10 22:31:49,558: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-10 22:31:52,686: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-10 22:31:52,742: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE257080>>
[WARNING]2021-06-10 22:31:52,772: use mockAgvCtrl
[INFO]2021-06-10 22:31:52,781: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BC45EC60>>
[INFO]2021-06-10 22:31:53,348: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE308030>>
[INFO]2021-06-10 22:31:53,352: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE308F58>>
[INFO]2021-06-10 22:31:53,556: charge policy 1 , fix time
[INFO]2021-06-10 22:31:53,643: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE3833F0>>
[INFO]2021-06-10 22:31:54,533: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-10 22:31:54,787: elevator thread start
[INFO]2021-06-10 22:31:54,813: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 321 ms
[INFO]2021-06-10 22:31:54,826: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-10 22:31:54,899: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 84 ms
[INFO]2021-06-10 22:31:54,911: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-10 22:31:55,202: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 301 ms
[INFO]2021-06-10 22:31:55,249: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-10 22:31:55,531: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 323 ms
[INFO]2021-06-10 22:31:55,578: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-10 22:31:55,739: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 203 ms
[INFO]2021-06-10 22:31:55,755: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-10 22:31:55,905: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 164 ms
[INFO]2021-06-10 22:31:55,919: import agvDevice.main_agvDevice
[INFO]2021-06-10 22:31:55,924: import akmCtrl.main_akmCtrl
[INFO]2021-06-10 22:31:56,024: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE7D60F8>>
[INFO]2021-06-10 22:31:56,063: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE806530>>
[INFO]2021-06-10 22:31:56,124: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE738B48>>
[INFO]2021-06-10 22:31:56,131: create lock <lock name:timer.lock_2137830411064,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BE7389E0>>
[INFO]2021-06-10 22:31:56,142: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BD052210>>
[INFO]2021-06-10 22:31:56,282: import alarm.main_alarm
[INFO]2021-06-10 22:31:56,294: import auth.main_auth
[INFO]2021-06-10 22:31:58,270: import door.main_door
[INFO]2021-06-10 22:31:58,326: import elevator.main_elevator
[INFO]2021-06-10 22:31:58,334: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BD052D00>>
[INFO]2021-06-10 22:31:58,342: import feed.main_feed
[INFO]2021-06-10 22:31:58,383: IP: 127.0.0.1 port: 10001
[INFO]2021-06-10 22:31:58,390: ------------准备start--------
[INFO]2021-06-10 22:31:58,649: ----------------准备打印------------
[INFO]2021-06-10 22:31:59,257: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:31:59,261: ----------------准备打印------------
[INFO]2021-06-10 22:31:59,569: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:31:59,575: ----------------准备打印------------
[INFO]2021-06-10 22:31:59,898: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:31:59,904: ----------------准备打印------------
[INFO]2021-06-10 22:32:00,178: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:00,183: ----------------准备打印------------
[INFO]2021-06-10 22:32:00,485: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:00,491: ----------------准备打印------------
[INFO]2021-06-10 22:32:00,793: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:00,799: ----------------准备打印------------
[INFO]2021-06-10 22:32:01,062: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-10 22:32:01,071: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F1BF6733A0>>
[DEBUG]2021-06-10 22:32:01,084: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-10 22:32:01,091: AGV30 start agvList run thread
[INFO]2021-06-10 22:32:01,093: AGV30 start agvList run2 thread
[INFO]2021-06-10 22:32:01,101: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:01,113: ----------------准备打印------------
[ERROR]2021-06-10 22:32:01,114: agv check init error False
[INFO]2021-06-10 22:32:01,410: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:01,421: ----------------准备打印------------
[INFO]2021-06-10 22:32:01,632: AGV30 current map meiwei428
[INFO]2021-06-10 22:32:01,635: AGV30 is online
[INFO]2021-06-10 22:32:03,604: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:03,612: ----------------准备打印------------
[INFO]2021-06-10 22:32:03,968: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:03,973: ----------------准备打印------------
[INFO]2021-06-10 22:32:04,373: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:04,379: ----------------准备打印------------
[INFO]2021-06-10 22:32:04,602: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:04,608: ----------------准备打印------------
[INFO]2021-06-10 22:32:04,869: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:04,874: ----------------准备打印------------
[INFO]2021-06-10 22:32:06,319: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:06,322: ----------------准备打印------------
[INFO]2021-06-10 22:32:06,374: b'\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:06,383: ----------------准备打印------------
[INFO]2021-06-10 22:32:06,431: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:06,438: ----------------准备打印------------
[INFO]2021-06-10 22:32:06,790: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:06,799: ----------------准备打印------------
[INFO]2021-06-10 22:32:07,138: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:07,145: ----------------准备打印------------
[INFO]2021-06-10 22:32:07,443: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:07,449: ----------------准备打印------------
[INFO]2021-06-10 22:32:07,751: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:07,757: ----------------准备打印------------
[INFO]2021-06-10 22:32:08,057: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:08,062: ----------------准备打印------------
[INFO]2021-06-10 22:32:08,364: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:08,370: ----------------准备打印------------
[INFO]2021-06-10 22:32:08,672: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:08,677: ----------------准备打印------------
[INFO]2021-06-10 22:32:08,979: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:08,985: ----------------准备打印------------
[INFO]2021-06-10 22:32:09,286: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:09,292: ----------------准备打印------------
[INFO]2021-06-10 22:32:09,695: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:09,701: ----------------准备打印------------
[INFO]2021-06-10 22:32:10,003: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:10,009: ----------------准备打印------------
[INFO]2021-06-10 22:32:10,310: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:10,317: ----------------准备打印------------
[INFO]2021-06-10 22:32:10,619: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:10,626: ----------------准备打印------------
[INFO]2021-06-10 22:32:10,924: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:10,930: ----------------准备打印------------
[INFO]2021-06-10 22:32:11,173: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:11,178: ----------------准备打印------------
[INFO]2021-06-10 22:32:11,554: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:11,594: ----------------准备打印------------
[INFO]2021-06-10 22:32:11,847: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:11,852: ----------------准备打印------------
[INFO]2021-06-10 22:32:12,110: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:12,115: ----------------准备打印------------
[INFO]2021-06-10 22:32:12,867: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:12,873: ----------------准备打印------------
[INFO]2021-06-10 22:32:12,915: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:12,920: ----------------准备打印------------
[INFO]2021-06-10 22:32:13,084: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:13,090: ----------------准备打印------------
[INFO]2021-06-10 22:32:13,452: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:13,460: ----------------准备打印------------
[INFO]2021-06-10 22:32:13,788: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:13,793: ----------------准备打印------------
[INFO]2021-06-10 22:32:14,094: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:32:14,099: ----------------准备打印------------
[INFO]2021-06-10 22:32:14,402: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:32:14,409: ----------------准备打印------------
[INFO]2021-06-10 22:32:24,424: import remoteio.main_remoteio
[SUCC]2021-06-10 22:32:24,473: utility start, pid=11164, ppid=23576
[DEBUG]2021-06-10 22:32:24,480: start timer
[DEBUG]2021-06-10 22:32:24,487: start timer
[INFO]2021-06-10 22:32:24,505: startCharge is false
[INFO]2021-06-10 22:32:24,521: add_ignore: taskStatus
[INFO]2021-06-10 22:32:24,524: add_ignore: api/elevator/status
[INFO]2021-06-10 22:32:24,526: add_ignore: scada/getTask
[CRITICAL]2021-06-10 22:32:26,603: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'MeiWeiTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=11164, ppid=23576, tid=6068
Traceback (most recent call last):
  File "C:\Python37\lib\urllib\request.py", line 1317, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "C:\Python37\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "C:\Python37\lib\http\client.py", line 956, in send
    self.connect()
  File "C:\Python37\lib\http\client.py", line 928, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "C:\Python37\lib\socket.py", line 727, in create_connection
    raise err
  File "C:\Python37\lib\socket.py", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1319, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "..\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "..\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'MeiWeiTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[DEBUG]2021-06-10 22:32:27,639: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-10 22:32:27,649: MeiWeiTask init client agvApi
[DEBUG]2021-06-10 22:32:27,654: used 15ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-10 22:32:30,746: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-10 22:32:30,825: used 79ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-10 22:32:30,946: timer_thread[tid:6068] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=6068 count=1 at 0x000001F1BE7D60F8>> ,hold 6454 ms
[INFO]2021-06-10 22:32:31,302: name=timer_thread, pid=11164, tid=6068
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
