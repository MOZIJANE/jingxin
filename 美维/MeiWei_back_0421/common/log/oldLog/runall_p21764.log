[INFO]2021-03-18 09:34:49,180: log files at D:\python_work\AKMfloor\common\log
[INFO]2021-03-18 09:34:49,180: find module account.main_account
[INFO]2021-03-18 09:34:49,181: find module agvCtrl.main_agv
[INFO]2021-03-18 09:34:49,181: find module agvDevice.main_agvDevice
[INFO]2021-03-18 09:34:49,182: find module alarm.main_alarm
[INFO]2021-03-18 09:34:49,182: find module auth.main_auth
[INFO]2021-03-18 09:34:49,183: find module door.main_door
[INFO]2021-03-18 09:34:49,183: find module elevator.main_elevator
[INFO]2021-03-18 09:34:49,183: find module menu.main_menu
[INFO]2021-03-18 09:34:49,184: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-18 09:34:49,184: find module webFront.main_web
[INFO]2021-03-18 09:34:49,185: find module wmqtt.main_wmqtt
[INFO]2021-03-18 09:34:49,185: import account.main_account
[INFO]2021-03-18 09:34:49,292: import agvCtrl.main_agv
[INFO]2021-03-18 09:34:49,738: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE1271B40>>
[INFO]2021-03-18 09:34:49,745: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE1281480>>
[INFO]2021-03-18 09:34:49,887: create lock <lock name:timer.lock_3280840908608,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE15C00C0>>
[ERROR]2021-03-18 09:34:49,905: mqtt is disabled
[INFO]2021-03-18 09:34:49,906: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-18 09:34:49,907: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-18 09:34:52,941: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-18 09:34:52,998: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE180EB40>>
[WARNING]2021-03-18 09:34:53,020: use mockAgvCtrl
[INFO]2021-03-18 09:34:53,024: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBDFB3F1E0>>
[INFO]2021-03-18 09:34:53,567: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE18519C0>>
[INFO]2021-03-18 09:34:53,574: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE1931ED0>>
[INFO]2021-03-18 09:34:53,646: charge policy 1 , fix time
[INFO]2021-03-18 09:34:53,685: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBE1942AB0>>
[INFO]2021-03-18 09:34:55,089: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\20190911_F1.smap
[DEBUG]2021-03-18 09:35:00,082: elevator thread start
[INFO]2021-03-18 09:35:01,076: load map D:\python_work\AKMfloor\agvCtrl\projects\test\20190911_F1.smap ,used 5997 ms
[INFO]2021-03-18 09:35:01,090: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\408.smap
[INFO]2021-03-18 09:35:01,771: load map D:\python_work\AKMfloor\agvCtrl\projects\test\408.smap ,used 693 ms
[INFO]2021-03-18 09:35:01,785: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\510.smap
[INFO]2021-03-18 09:35:02,715: load map D:\python_work\AKMfloor\agvCtrl\projects\test\510.smap ,used 939 ms
[INFO]2021-03-18 09:35:02,726: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\8-222.smap
[INFO]2021-03-18 09:35:03,461: load map D:\python_work\AKMfloor\agvCtrl\projects\test\8-222.smap ,used 744 ms
[INFO]2021-03-18 09:35:06,958: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-03-18 09:35:07,645: load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmt.smap ,used 699 ms
[INFO]2021-03-18 09:35:07,657: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-03-18 09:35:10,253: load map D:\python_work\AKMfloor\agvCtrl\projects\test\akmsmtMap.smap ,used 2605 ms
[INFO]2021-03-18 09:35:10,266: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\bell.smap
[INFO]2021-03-18 09:35:10,748: load map D:\python_work\AKMfloor\agvCtrl\projects\test\bell.smap ,used 494 ms
[INFO]2021-03-18 09:35:10,760: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\big.smap
[INFO]2021-03-18 09:35:45,255: load map D:\python_work\AKMfloor\agvCtrl\projects\test\big.smap ,used 34505 ms
[INFO]2021-03-18 09:35:45,269: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-03-18 09:35:54,274: load map D:\python_work\AKMfloor\agvCtrl\projects\test\desai-all-20191223.smap ,used 9017 ms
[INFO]2021-03-18 09:35:54,287: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\famajia.smap
[INFO]2021-03-18 09:36:01,306: load map D:\python_work\AKMfloor\agvCtrl\projects\test\famajia.smap ,used 7030 ms
[INFO]2021-03-18 09:36:01,344: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp-neiwei.smap
[INFO]2021-03-18 09:36:31,038: load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp-neiwei.smap ,used 29727 ms
[INFO]2021-03-18 09:36:31,050: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp20190712-1.smap
[INFO]2021-03-18 09:37:13,380: load map D:\python_work\AKMfloor\agvCtrl\projects\test\fp20190712-1.smap ,used 42340 ms
[INFO]2021-03-18 09:37:13,390: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\shuqin.smap
[INFO]2021-03-18 09:37:13,821: load map D:\python_work\AKMfloor\agvCtrl\projects\test\shuqin.smap ,used 440 ms
[INFO]2021-03-18 09:37:13,837: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\test430.smap
[INFO]2021-03-18 09:37:14,505: load map D:\python_work\AKMfloor\agvCtrl\projects\test\test430.smap ,used 682 ms
[INFO]2021-03-18 09:37:14,521: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\testdesay.smap
[INFO]2021-03-18 09:37:15,613: load map D:\python_work\AKMfloor\agvCtrl\projects\test\testdesay.smap ,used 1106 ms
[INFO]2021-03-18 09:37:15,625: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\testmap.smap
[INFO]2021-03-18 09:37:16,070: load map D:\python_work\AKMfloor\agvCtrl\projects\test\testmap.smap ,used 455 ms
[INFO]2021-03-18 09:37:16,082: start load map D:\python_work\AKMfloor\agvCtrl\projects\test\testscada.smap
[INFO]2021-03-18 09:37:17,282: load map D:\python_work\AKMfloor\agvCtrl\projects\test\testscada.smap ,used 1210 ms
[WARNING]2021-03-18 09:37:17,287: MainThread[tid:12496] <lock name:mapMgr.lock,<locked _thread.RLock object owner=12496 count=1 at 0x000002FBDFB3F1E0>> ,hold 143599 ms
[INFO]2021-03-18 09:37:17,291: name=MainThread, pid=21764, tid=12496
[01] File "D:/python_work/AKMfloor/common/run_all.py", line 57, in <module>() 
[02] File "D:/python_work/AKMfloor/common/run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "D:/python_work/AKMfloor/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[10] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[11] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[12] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-03-18 09:37:17,298: import agvDevice.main_agvDevice
[INFO]2021-03-18 09:37:17,300: import alarm.main_alarm
[INFO]2021-03-18 09:37:17,300: import auth.main_auth
[INFO]2021-03-18 09:37:17,311: import door.main_door
[INFO]2021-03-18 09:37:17,316: import elevator.main_elevator
[INFO]2021-03-18 09:37:17,329: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF4F91780>>
[INFO]2021-03-18 09:37:17,332: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF4F83C60>>
[INFO]2021-03-18 09:37:17,334: import menu.main_menu
[INFO]2021-03-18 09:37:17,339: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-18 09:37:18,326: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF5092DB0>>
[INFO]2021-03-18 09:37:18,330: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF562AED0>>
[INFO]2021-03-18 09:37:18,337: import webFront.main_web
[INFO]2021-03-18 09:37:18,344: import wmqtt.main_wmqtt
[SUCC]2021-03-18 09:37:18,358: utility start, pid=21764, ppid=12268
[DEBUG]2021-03-18 09:37:18,360: start timer
[INFO]2021-03-18 09:37:18,370: load agv file: D:\python_work\AKMfloor\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-18 09:37:18,371: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF563A9F0>>
[DEBUG]2021-03-18 09:37:18,378: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-18 09:37:18,380: AGV01 start agvList run thread
[INFO]2021-03-18 09:37:18,380: AGV01 start agvList run2 thread
[INFO]2021-03-18 09:37:18,385: create lock <lock name:agvList.AGV02.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF569C390>>
[ERROR]2021-03-18 09:37:18,389: agv check init error False
[DEBUG]2021-03-18 09:37:18,391: create aliveObj AGV02 AGV离线异常 timeout 300
[INFO]2021-03-18 09:37:18,394: AGV02 start agvList run thread
[INFO]2021-03-18 09:37:18,395: AGV02 start agvList run2 thread
[INFO]2021-03-18 09:37:18,395: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002FBF569C780>>
[INFO]2021-03-18 09:37:18,398: AGV02 current map famajia
[DEBUG]2021-03-18 09:37:18,402: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-18 09:37:18,403: AGV02 is online
[INFO]2021-03-18 09:37:18,404: AGV03 start agvList run thread
[INFO]2021-03-18 09:37:18,405: AGV03 start agvList run2 thread
[INFO]2021-03-18 09:37:18,406: startCharge is false
[INFO]2021-03-18 09:37:18,417: AGV03 current map famajia
[INFO]2021-03-18 09:37:18,420: AGV03 is online
[INFO]2021-03-18 09:37:18,427: add_ignore: taskStatus
[INFO]2021-03-18 09:37:18,430: add_ignore: api/elevator/status
[WARNING]2021-03-18 09:37:18,432: clear alarm obj=AGV03, typeId=49997, id=5ff02fe6bcdb499da0141e3b
[INFO]2021-03-18 09:37:18,432: add_ignore: scada/getTask
[INFO]2021-03-18 09:37:18,891: AGV01 current map famajia
[INFO]2021-03-18 09:37:18,893: AGV01 is online
[WARNING]2021-03-18 09:37:18,905: clear alarm obj=AGV01, typeId=49997, id=5ff031dbbcdb499da014266f
[DEBUG]2021-03-18 09:37:20,431: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-18 09:37:20,439: scadaTask init client agvApi
[DEBUG]2021-03-18 09:37:20,454: used 23ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-18 09:37:23,517: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-18 09:37:23,556: used 39ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-18 09:37:23,618: timer_thread[tid:7584] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=7584 count=1 at 0x000002FBF5092DB0>> ,hold 3200 ms
[INFO]2021-03-18 09:37:23,676: name=timer_thread, pid=21764, tid=7584
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[05] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-18 09:38:40,289: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,295: GET: http://192.168.252.83:5551/api/manual/tasklist addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,301: GET: http://192.168.252.83:5551/api/manual/tasklist addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,312: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,312: used 0ms 200 OK , GET: http://192.168.252.83:5551/api/manual/seat
[DEBUG]2021-03-18 09:38:40,313: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,335: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,335: used 0ms 200 OK , GET: http://192.168.252.83:5551/api/manual/tasklist
[DEBUG]2021-03-18 09:38:40,336: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:38:40,359: used 23ms 200 OK , GET: http://192.168.252.83:5551/api/manual/tasklist
[DEBUG]2021-03-18 09:39:03,059: GET: http://192.168.252.83:5551/api/agv/agvStatusList addr: 192.168.252.94
[DEBUG]2021-03-18 09:39:03,089: used 30ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/agvStatusList
[DEBUG]2021-03-18 09:39:03,792: GET: http://192.168.252.83:5551/api/agv/agvStatusList addr: 192.168.252.94
[DEBUG]2021-03-18 09:39:03,816: used 24ms 200 OK application/json;charset=utf-8, GET: http://192.168.252.83:5551/api/agv/agvStatusList
[DEBUG]2021-03-18 09:40:11,061: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:40:11,084: used 23ms 200 OK , GET: http://192.168.252.83:5551/api/manual/seat
[DEBUG]2021-03-18 09:40:11,096: GET: http://192.168.252.83:5551/api/manual/tasklist addr: 192.168.252.94
[DEBUG]2021-03-18 09:40:11,114: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:40:11,127: GET: http://192.168.252.83:5551/api/manual/seat addr: 192.168.252.94
[DEBUG]2021-03-18 09:40:11,161: used 34ms 200 OK , GET: http://192.168.252.83:5551/api/manual/tasklist
