[INFO]2021-06-15 09:24:58,872: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-15 09:24:58,872: find module account.main_account
[INFO]2021-06-15 09:24:58,873: find module agvCtrl.main_agv
[INFO]2021-06-15 09:24:58,873: find module agvDevice.main_agvDevice
[INFO]2021-06-15 09:24:58,873: find module akmCtrl.main_akmCtrl
[INFO]2021-06-15 09:24:58,874: find module alarm.main_alarm
[INFO]2021-06-15 09:24:58,874: find module auth.main_auth
[INFO]2021-06-15 09:24:58,878: find module door.main_door
[INFO]2021-06-15 09:24:58,878: find module elevator.main_elevator
[INFO]2021-06-15 09:24:58,879: find module feed.main_feed
[INFO]2021-06-15 09:24:58,880: find module remoteio.main_remoteio
[INFO]2021-06-15 09:24:58,880: import account.main_account
[INFO]2021-06-15 09:24:58,961: import agvCtrl.main_agv
[INFO]2021-06-15 09:24:59,538: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D182F4EDA0>>
[INFO]2021-06-15 09:24:59,554: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D182F4EF08>>
[INFO]2021-06-15 09:24:59,642: create lock <lock name:timer.lock_1999360909832,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D1832B7C10>>
[ERROR]2021-06-15 09:24:59,655: mqtt is disabled
[INFO]2021-06-15 09:24:59,657: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-15 09:24:59,658: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-15 09:25:02,693: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-15 09:25:02,722: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D1835870D0>>
[WARNING]2021-06-15 09:25:02,739: use mockAgvCtrl
[INFO]2021-06-15 09:25:02,744: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D1FFF8DC88>>
[INFO]2021-06-15 09:25:03,016: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D183638030>>
[INFO]2021-06-15 09:25:03,021: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D183638C88>>
[INFO]2021-06-15 09:25:03,082: charge policy 1 , fix time
[INFO]2021-06-15 09:25:03,113: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D1836B1440>>
[INFO]2021-06-15 09:25:03,738: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-15 09:25:03,837: elevator thread start
[INFO]2021-06-15 09:25:03,855: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 125 ms
[INFO]2021-06-15 09:25:03,864: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-15 09:25:03,909: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 53 ms
[INFO]2021-06-15 09:25:03,919: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-15 09:25:04,050: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 139 ms
[INFO]2021-06-15 09:25:04,064: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-15 09:25:04,175: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 119 ms
[INFO]2021-06-15 09:25:04,186: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-15 09:25:04,254: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 77 ms
[INFO]2021-06-15 09:25:04,264: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-15 09:25:04,312: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 56 ms
[INFO]2021-06-15 09:25:04,316: import agvDevice.main_agvDevice
[INFO]2021-06-15 09:25:04,318: import akmCtrl.main_akmCtrl
[INFO]2021-06-15 09:25:04,340: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D183B46198>>
[INFO]2021-06-15 09:25:04,357: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D183BDB968>>
[INFO]2021-06-15 09:25:04,379: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D183B46648>>
[INFO]2021-06-15 09:25:04,380: create lock <lock name:timer.lock_1999404664480,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D183A47E40>>
[INFO]2021-06-15 09:25:04,382: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D182389260>>
[INFO]2021-06-15 09:25:04,429: import alarm.main_alarm
[INFO]2021-06-15 09:25:04,774: import auth.main_auth
[INFO]2021-06-15 09:25:04,851: import door.main_door
[INFO]2021-06-15 09:25:04,856: import elevator.main_elevator
[INFO]2021-06-15 09:25:04,861: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D182389D50>>
[INFO]2021-06-15 09:25:04,862: import feed.main_feed
[INFO]2021-06-15 09:25:04,864: IP: 0.0.0.0 port: 10001
[INFO]2021-06-15 09:25:04,866: import remoteio.main_remoteio
[SUCC]2021-06-15 09:25:04,883: utility start, pid=15676, ppid=17280
[DEBUG]2021-06-15 09:25:04,886: start timer
[INFO]2021-06-15 09:25:04,902: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-15 09:25:04,906: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D1859A2508>>
[DEBUG]2021-06-15 09:25:04,912: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-15 09:25:04,914: AGV30 start agvList run thread
[INFO]2021-06-15 09:25:04,915: AGV30 start agvList run2 thread
[DEBUG]2021-06-15 09:25:04,922: start timer
[ERROR]2021-06-15 09:25:04,930: agv check init error False
[WARNING]2021-06-15 09:25:04,934: Local server start! version 3.7.3, path C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common, pid 15676
[INFO]2021-06-15 09:25:04,936: add_ignore: taskStatus
[INFO]2021-06-15 09:25:04,938: add_ignore: api/elevator/status
[INFO]2021-06-15 09:25:04,940: add_ignore: scada/getTask
[INFO]2021-06-15 09:25:05,435: AGV30 current map meiwei428
[INFO]2021-06-15 09:25:05,437: AGV30 is online
[INFO]2021-06-15 09:25:05,776: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61546
[DEBUG]2021-06-15 09:25:05,940: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-15 09:25:05,942: MeiWeiTask init client agvApi
[DEBUG]2021-06-15 09:25:05,946: used 6ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-15 09:25:09,138: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-15 09:25:09,228: used 90ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-15 09:25:09,556: timer_thread[tid:16124] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=16124 count=1 at 0x000001D183B46198>> ,hold 3620 ms
[INFO]2021-06-15 09:25:09,959: name=timer_thread, pid=15676, tid=16124
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-15 09:25:15,784: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61546
[WARNING]2021-06-15 09:25:15,876: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61546
[INFO]2021-06-15 09:25:16,015: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61547
[INFO]2021-06-15 09:25:21,021: {'21': {'loc': 'Locl', 'map': 'meiwei428'}, '23': {'loc': 'Loc2', 'map': 'meiwei428'}}
[INFO]2021-06-15 09:25:21,099: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-06-15 09:25:21,175: 21 0
[CRITICAL]2021-06-15 09:25:21,551: 192.168.252.159:10001 <--> 192.168.252.148:61547 error:  cause a error: 'function' object does not support item assignment
pid=15676, ppid=17280, tid=11720
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 171, in _handle
    objectUtil.setAllownext(devID=devID, sig=0)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\akmCtrl\utils\objectUtil.py", line 84, in setAllownext
    g_allowNext[devID] = sig
TypeError: 'function' object does not support item assignment

[INFO]2021-06-15 09:25:21,719: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61547
[WARNING]2021-06-15 09:25:21,782: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61547
[INFO]2021-06-15 09:25:21,918: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61548
[INFO]2021-06-15 09:25:32,027: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61548
[WARNING]2021-06-15 09:25:32,089: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61548
[INFO]2021-06-15 09:25:32,167: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61549
