[INFO]2021-03-31 10:08:38,678: log files at E:\安捷利电梯项目\AKMfloor\common\log
[INFO]2021-03-31 10:08:38,680: find module account.main_account
[INFO]2021-03-31 10:08:38,681: find module agvCtrl.main_agv
[INFO]2021-03-31 10:08:38,682: find module agvDevice.main_agvDevice
[INFO]2021-03-31 10:08:38,683: find module alarm.main_alarm
[INFO]2021-03-31 10:08:38,684: find module auth.main_auth
[INFO]2021-03-31 10:08:38,685: find module door.main_door
[INFO]2021-03-31 10:08:38,686: find module elevator.main_elevator
[INFO]2021-03-31 10:08:38,687: find module feed.main_feed
[INFO]2021-03-31 10:08:38,688: find module menu.main_menu
[INFO]2021-03-31 10:08:38,692: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-31 10:08:38,694: find module webFront.main_web
[INFO]2021-03-31 10:08:38,695: find module wmqtt.main_wmqtt
[INFO]2021-03-31 10:08:38,696: import account.main_account
[INFO]2021-03-31 10:08:38,783: import agvCtrl.main_agv
[INFO]2021-03-31 10:08:39,162: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F19C77FC0>>
[INFO]2021-03-31 10:08:39,168: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F19C81900>>
[INFO]2021-03-31 10:08:39,282: create lock <lock name:timer.lock_2813640390448,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A0938A0>>
[ERROR]2021-03-31 10:08:39,295: mqtt is disabled
[INFO]2021-03-31 10:08:39,298: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-31 10:08:39,298: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-31 10:08:42,338: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-31 10:08:42,371: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A2F3F60>>
[INFO]2021-03-31 10:08:42,373: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A2F3300>>
[INFO]2021-03-31 10:08:42,672: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A2F9F00>>
[INFO]2021-03-31 10:08:42,946: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A3F09C0>>
[INFO]2021-03-31 10:08:42,950: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A48FED0>>
[INFO]2021-03-31 10:08:43,022: charge policy 1 , fix time
[INFO]2021-03-31 10:08:43,058: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A49BAB0>>
[INFO]2021-03-31 10:08:43,283: start load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap
[DEBUG]2021-03-31 10:08:43,425: create aliveObj DOOR13 门控离线异常 timeout 60
[DEBUG]2021-03-31 10:08:43,442: create aliveObj DOOR27 门控离线异常 timeout 60
[DEBUG]2021-03-31 10:08:43,484: elevator thread start
[INFO]2021-03-31 10:08:43,519: load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap ,used 244 ms
[INFO]2021-03-31 10:08:43,533: start load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap
[INFO]2021-03-31 10:08:43,622: load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap ,used 101 ms
[INFO]2021-03-31 10:08:43,627: import agvDevice.main_agvDevice
[INFO]2021-03-31 10:08:43,628: import alarm.main_alarm
[INFO]2021-03-31 10:08:43,630: import auth.main_auth
[INFO]2021-03-31 10:08:43,640: import door.main_door
[INFO]2021-03-31 10:08:43,644: import elevator.main_elevator
[INFO]2021-03-31 10:08:43,646: import feed.main_feed
[INFO]2021-03-31 10:08:43,659: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A76D6F0>>
[INFO]2021-03-31 10:08:43,667: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1A77B900>>
[INFO]2021-03-31 10:08:44,314: import menu.main_menu
[INFO]2021-03-31 10:08:44,320: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-31 10:08:44,443: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F1AC0F660>>
[INFO]2021-03-31 10:08:44,445: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F207D5120>>
[INFO]2021-03-31 10:08:44,451: import webFront.main_web
[INFO]2021-03-31 10:08:44,456: import wmqtt.main_wmqtt
[SUCC]2021-03-31 10:08:44,468: utility start, pid=17380, ppid=11688
[DEBUG]2021-03-31 10:08:44,469: start timer
[INFO]2021-03-31 10:08:44,482: load agv file: E:\安捷利电梯项目\AKMfloor\agvCtrl/projects/AKMfloor/agv.cfg
[INFO]2021-03-31 10:08:44,484: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F207E4AE0>>
[DEBUG]2021-03-31 10:08:44,488: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-31 10:08:44,489: AGV03 start agvList run thread
[INFO]2021-03-31 10:08:44,490: AGV03 start agvList run2 thread
[INFO]2021-03-31 10:08:44,491: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000028F207EE6C0>>
[DEBUG]2021-03-31 10:08:44,493: try connect AGV03 192.168.20.183:19204
[INFO]2021-03-31 10:08:44,495: add_ignore: taskStatus
[INFO]2021-03-31 10:08:44,497: add_ignore: api/elevator/status
[INFO]2021-03-31 10:08:44,500: add_ignore: scada/getTask
[DEBUG]2021-03-31 10:08:46,504: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-31 10:08:46,506: scadaTask init client agvApi
[DEBUG]2021-03-31 10:08:46,509: used 6ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-03-31 10:08:49,769: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-31 10:08:49,846: used 77ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-03-31 10:08:50,053: timer_thread[tid:3884] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=3884 count=1 at 0x0000028F1AC0F660>> ,hold 3566 ms
[INFO]2021-03-31 10:08:50,306: name=timer_thread, pid=17380, tid=3884
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-03-31 10:08:52,048: clear alarm obj=AGV03, typeId=49999, id=6063d4fe7b43eb40d2c8d240
[ERROR]2021-03-31 10:08:54,524: connect AGV03 failed timed out
[DEBUG]2021-03-31 10:08:54,620: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:09:04,791: connect AGV03 failed timed out
[INFO]2021-03-31 10:09:04,883: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:09:04,979: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 20486 ms
[INFO]2021-03-31 10:09:05,169: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:09:07,292: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:09:17,514: connect AGV03 failed timed out
[INFO]2021-03-31 10:09:17,607: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:09:17,671: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10379 ms
[INFO]2021-03-31 10:09:17,845: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:09:19,985: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:09:30,118: connect AGV03 failed timed out
[INFO]2021-03-31 10:09:30,196: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:09:30,276: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10291 ms
[INFO]2021-03-31 10:09:30,452: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:09:32,638: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:09:42,775: connect AGV03 failed timed out
[INFO]2021-03-31 10:09:42,868: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:09:42,946: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10308 ms
[INFO]2021-03-31 10:09:43,133: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:09:45,229: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:09:45,611: raise alarm obj=DOOR13, typeId=39998, desc=门控离线异常, id=6063d9e97b43eb40d2c8d707
[ERROR]2021-03-31 10:09:45,735: raise alarm obj=DOOR27, typeId=39998, desc=门控离线异常, id=6063d9e97b43eb40d2c8d709
[ERROR]2021-03-31 10:09:55,452: connect AGV03 failed timed out
[INFO]2021-03-31 10:09:55,564: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:09:55,644: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10415 ms
[INFO]2021-03-31 10:09:55,833: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:09:57,945: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:10:08,123: connect AGV03 failed timed out
[INFO]2021-03-31 10:10:08,199: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:10:08,308: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10363 ms
[INFO]2021-03-31 10:10:08,516: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:10:10,659: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:10:20,810: connect AGV03 failed timed out
[INFO]2021-03-31 10:10:20,903: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:10:20,980: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10321 ms
[INFO]2021-03-31 10:10:21,154: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-31 10:10:23,284: try connect AGV03 192.168.20.183:19204
[ERROR]2021-03-31 10:10:30,034: user press Ctrl+C, system quit!
[ERROR]2021-03-31 10:10:30,522: user press Ctrl+C, system quit!
[ERROR]2021-03-31 10:10:33,402: connect AGV03 failed timed out
[INFO]2021-03-31 10:10:33,405: AGV03 checkLink failed 192.168.20.183 19204
[WARNING]2021-03-31 10:10:33,410: agvThread.AGV03[tid:16596] <lock name:agv.AGV03.lock_status,<locked _thread.RLock object owner=16596 count=1 at 0x0000028F207EE6C0>> ,hold 10126 ms
[INFO]2021-03-31 10:10:33,414: name=agvThread.AGV03, pid=17380, tid=16596
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/agvCtrl/agvList.py", line 570, in run() 
[03] File "../driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "../driver/seerAgv/agvApi.py", line 186, in checkLink() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
