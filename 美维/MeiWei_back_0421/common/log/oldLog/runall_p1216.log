[INFO]2021-06-11 16:05:44,062: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-11 16:05:44,064: find module account.main_account
[INFO]2021-06-11 16:05:44,066: find module agvCtrl.main_agv
[INFO]2021-06-11 16:05:44,068: find module agvDevice.main_agvDevice
[INFO]2021-06-11 16:05:44,070: find module akmCtrl.main_akmCtrl
[INFO]2021-06-11 16:05:44,072: find module alarm.main_alarm
[INFO]2021-06-11 16:05:44,076: find module auth.main_auth
[INFO]2021-06-11 16:05:44,078: find module door.main_door
[INFO]2021-06-11 16:05:44,080: find module elevator.main_elevator
[INFO]2021-06-11 16:05:44,082: find module feed.main_feed
[INFO]2021-06-11 16:05:44,084: find module remoteio.main_remoteio
[INFO]2021-06-11 16:05:44,085: import account.main_account
[INFO]2021-06-11 16:05:44,416: import agvCtrl.main_agv
[INFO]2021-06-11 16:05:45,530: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB40EEDDA0>>
[INFO]2021-06-11 16:05:45,602: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB40EEDF08>>
[INFO]2021-06-11 16:05:45,789: create lock <lock name:timer.lock_1972483412488,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB41265BE8>>
[ERROR]2021-06-11 16:05:45,808: mqtt is disabled
[INFO]2021-06-11 16:05:45,809: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-11 16:05:45,810: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-11 16:05:48,861: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-11 16:05:48,893: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB41527080>>
[WARNING]2021-06-11 16:05:48,915: use mockAgvCtrl
[INFO]2021-06-11 16:05:48,920: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB3F72EC88>>
[INFO]2021-06-11 16:05:49,442: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB415D9030>>
[INFO]2021-06-11 16:05:49,457: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB415D9F58>>
[INFO]2021-06-11 16:05:49,667: charge policy 1 , fix time
[INFO]2021-06-11 16:05:49,790: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB41651080>>
[INFO]2021-06-11 16:05:51,106: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-11 16:05:51,236: elevator thread start
[INFO]2021-06-11 16:05:51,306: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 208 ms
[INFO]2021-06-11 16:05:51,332: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-11 16:05:51,421: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 112 ms
[INFO]2021-06-11 16:05:51,433: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-11 16:05:51,642: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 219 ms
[INFO]2021-06-11 16:05:51,656: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-11 16:05:51,878: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 235 ms
[INFO]2021-06-11 16:05:51,890: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-11 16:05:52,053: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 173 ms
[INFO]2021-06-11 16:05:52,081: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-11 16:05:52,221: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 164 ms
[INFO]2021-06-11 16:05:52,234: import agvDevice.main_agvDevice
[INFO]2021-06-11 16:05:52,238: import akmCtrl.main_akmCtrl
[INFO]2021-06-11 16:05:52,363: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB41AA9170>>
[INFO]2021-06-11 16:05:52,402: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB41AD85F8>>
[INFO]2021-06-11 16:05:52,474: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB419E8CD8>>
[INFO]2021-06-11 16:05:52,482: create lock <lock name:timer.lock_1972451347312,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB41A2D2D8>>
[INFO]2021-06-11 16:05:52,493: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB403291C0>>
[INFO]2021-06-11 16:05:52,722: import alarm.main_alarm
[INFO]2021-06-11 16:05:54,485: import auth.main_auth
[INFO]2021-06-11 16:05:54,708: import door.main_door
[INFO]2021-06-11 16:05:54,722: import elevator.main_elevator
[INFO]2021-06-11 16:05:54,734: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB40329CB0>>
[INFO]2021-06-11 16:05:54,740: import feed.main_feed
[INFO]2021-06-11 16:05:54,750: IP: 0.0.0.0 port: 10001
[INFO]2021-06-11 16:05:54,755: import remoteio.main_remoteio
[SUCC]2021-06-11 16:05:54,792: utility start, pid=1216, ppid=18264
[DEBUG]2021-06-11 16:05:54,798: start timer
[INFO]2021-06-11 16:05:54,818: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-11 16:05:54,822: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CB42995648>>
[DEBUG]2021-06-11 16:05:54,833: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-11 16:05:54,836: AGV30 start agvList run thread
[INFO]2021-06-11 16:05:54,836: AGV30 start agvList run2 thread
[ERROR]2021-06-11 16:05:54,854: agv check init error False
[DEBUG]2021-06-11 16:05:54,857: start timer
[INFO]2021-06-11 16:05:54,881: add_ignore: taskStatus
[INFO]2021-06-11 16:05:54,886: add_ignore: api/elevator/status
[INFO]2021-06-11 16:05:54,891: add_ignore: scada/getTask
[INFO]2021-06-11 16:05:55,316: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.147:62485
[INFO]2021-06-11 16:05:55,318: **************回复线程启动**************
[INFO]2021-06-11 16:05:55,363: AGV30 current map meiwei428
[INFO]2021-06-11 16:05:55,365: AGV30 is online
[DEBUG]2021-06-11 16:05:55,891: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-11 16:05:55,894: MeiWeiTask init client agvApi
[DEBUG]2021-06-11 16:05:55,898: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-11 16:05:58,964: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-11 16:05:59,132: used 167ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-11 16:05:59,224: timer_thread[tid:17116] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=17116 count=1 at 0x000001CB41AA9170>> ,hold 4361 ms
[INFO]2021-06-11 16:05:59,440: name=timer_thread, pid=1216, tid=17116
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-11 16:06:04,342: 1
[INFO]2021-06-11 16:06:04,482: {'21': {'loc': 1, 'map': 'test'}, '23': {'loc': 3, 'map': 'test'}}
[INFO]2021-06-11 16:06:04,545: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-06-11 16:06:04,608: 3
[INFO]2021-06-11 16:06:04,749: ---------------------runTask01--------------------addTaskByButton-----
[INFO]2021-06-11 16:06:04,827: ----------------------scadaTask----------------
[CRITICAL]2021-06-11 16:06:05,233: 192.168.252.159:10001 <--> 192.168.252.147:62485 error:  cause a error: 'scadaTask' object has no attribute 'source'
pid=1216, ppid=18264, tid=10472
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 179, in _handle
    addTaskByButton(target=target)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 219, in addTaskByButton
    taskId = runTasks01.addTaskByButton(source, target, payloadId, priority, btTag, taskKind)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\akmCtrl\runTasks01.py", line 87, in addTaskByButton
    task = scadaTaskBean.scadaTask(source, target, payloadId, int(priority),btTag,taskKind)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\akmCtrl\beans\scadaTaskBean.py", line 46, in __init__
    log.info(self.source,self.target)
AttributeError: 'scadaTask' object has no attribute 'source'

[INFO]2021-06-11 16:06:05,357: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.147:62485
[WARNING]2021-06-11 16:06:05,511: disconnect 192.168.252.159:10001 <--> 192.168.252.147:62485
[INFO]2021-06-11 16:06:05,745: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.147:62486
[INFO]2021-06-11 16:06:05,932: **************回复线程启动**************
[CRITICAL]2021-06-11 16:06:15,994: 192.168.252.159:10001 <--> 192.168.252.147:62486 time out cause a error: <tcpSocket.client object at 0x000001CB41BCE9B0>
pid=1216, ppid=18264, tid=964
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 131, in _handle
    data = client.recv(6)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\tcpSocket.py", line 179, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-06-11 16:06:16,117: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.147:62486
[WARNING]2021-06-11 16:06:16,195: disconnect 192.168.252.159:10001 <--> 192.168.252.147:62486
[INFO]2021-06-11 16:06:16,415: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.147:62487
[INFO]2021-06-11 16:06:16,541: **************回复线程启动**************
[CRITICAL]2021-06-11 16:06:26,604: 192.168.252.159:10001 <--> 192.168.252.147:62487 time out cause a error: <tcpSocket.client object at 0x000001CB41BCEA58>
pid=1216, ppid=18264, tid=21496
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 131, in _handle
    data = client.recv(6)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\tcpSocket.py", line 179, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-06-11 16:06:26,749: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.147:62487
[WARNING]2021-06-11 16:06:26,778: disconnect 192.168.252.159:10001 <--> 192.168.252.147:62487
[INFO]2021-06-11 16:06:26,932: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.147:62488
[INFO]2021-06-11 16:06:27,025: **************回复线程启动**************
[CRITICAL]2021-06-11 16:06:37,062: 192.168.252.159:10001 <--> 192.168.252.147:62488 time out cause a error: <tcpSocket.client object at 0x000001CB45F9CCF8>
pid=1216, ppid=18264, tid=20564
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 131, in _handle
    data = client.recv(6)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\tcpSocket.py", line 179, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

