[INFO]2021-04-27 17:07:52,295: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-04-27 17:07:52,297: find module account.main_account
[INFO]2021-04-27 17:07:52,299: find module agvCtrl.main_agv
[INFO]2021-04-27 17:07:52,301: find module agvDevice.main_agvDevice
[INFO]2021-04-27 17:07:52,302: find module akmCtrl.main_akmCtrl
[INFO]2021-04-27 17:07:52,303: find module alarm.main_alarm
[INFO]2021-04-27 17:07:52,304: find module auth.main_auth
[INFO]2021-04-27 17:07:52,304: find module door.main_door
[INFO]2021-04-27 17:07:52,305: find module elevator.main_elevator
[INFO]2021-04-27 17:07:52,306: find module feed.main_feed
[INFO]2021-04-27 17:07:52,307: find module feed.main_feed_0427
[INFO]2021-04-27 17:07:52,308: find module remoteio.main_remoteio
[INFO]2021-04-27 17:07:52,309: import account.main_account
[INFO]2021-04-27 17:07:52,399: import agvCtrl.main_agv
[INFO]2021-04-27 17:07:52,736: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530B516EA0>>
[INFO]2021-04-27 17:07:53,655: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530B52B420>>
[INFO]2021-04-27 17:07:53,765: create lock <lock name:timer.lock_2555702055504,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BB693C0>>
[ERROR]2021-04-27 17:07:53,778: mqtt is disabled
[INFO]2021-04-27 17:07:53,779: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-27 17:07:53,780: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-27 17:07:56,818: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-27 17:07:56,840: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BD7CDB0>>
[WARNING]2021-04-27 17:07:56,853: use mockAgvCtrl
[INFO]2021-04-27 17:07:56,855: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025309DF4360>>
[INFO]2021-04-27 17:07:57,195: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BE14840>>
[INFO]2021-04-27 17:07:57,199: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BEBBD80>>
[INFO]2021-04-27 17:07:57,270: charge policy 1 , fix time
[INFO]2021-04-27 17:07:57,306: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BEC5960>>
[INFO]2021-04-27 17:07:57,846: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-27 17:07:57,958: elevator thread start
[INFO]2021-04-27 17:07:57,979: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 143 ms
[INFO]2021-04-27 17:07:57,988: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-27 17:07:58,047: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 68 ms
[INFO]2021-04-27 17:07:58,058: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-27 17:07:58,184: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 135 ms
[INFO]2021-04-27 17:07:58,194: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-27 17:07:58,337: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 151 ms
[INFO]2021-04-27 17:07:58,347: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-04-27 17:07:58,401: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 62 ms
[INFO]2021-04-27 17:07:58,410: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap
[INFO]2021-04-27 17:07:58,455: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap ,used 54 ms
[INFO]2021-04-27 17:07:58,458: import agvDevice.main_agvDevice
[INFO]2021-04-27 17:07:58,462: import akmCtrl.main_akmCtrl
[INFO]2021-04-27 17:07:58,480: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530C18DF60>>
[INFO]2021-04-27 17:07:58,495: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530C1B1DB0>>
[INFO]2021-04-27 17:07:58,511: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BF074B0>>
[INFO]2021-04-27 17:07:58,512: create lock <lock name:timer.lock_2555705818464,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530BEFFF00>>
[INFO]2021-04-27 17:07:58,513: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530A90E0C0>>
[INFO]2021-04-27 17:07:58,991: import alarm.main_alarm
[INFO]2021-04-27 17:07:58,993: import auth.main_auth
[INFO]2021-04-27 17:07:59,003: import door.main_door
[INFO]2021-04-27 17:07:59,005: import elevator.main_elevator
[INFO]2021-04-27 17:07:59,009: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530E2A0600>>
[INFO]2021-04-27 17:07:59,012: import feed.main_feed
[INFO]2021-04-27 17:07:59,040: IP: 0.0.0.0 port: 10001
[INFO]2021-04-27 17:07:59,042: import feed.main_feed_0427
[INFO]2021-04-27 17:07:59,050: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530E2CB2A0>>
[INFO]2021-04-27 17:07:59,094: import remoteio.main_remoteio
[SUCC]2021-04-27 17:07:59,105: utility start, pid=3132, ppid=17380
[DEBUG]2021-04-27 17:07:59,106: start timer
[INFO]2021-04-27 17:07:59,113: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-27 17:07:59,115: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002530E2E48D0>>
[DEBUG]2021-04-27 17:07:59,117: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-04-27 17:07:59,119: AGV30 start agvList run thread
[INFO]2021-04-27 17:07:59,120: AGV30 start agvList run2 thread
[ERROR]2021-04-27 17:07:59,129: agv check init error False
[DEBUG]2021-04-27 17:07:59,130: start timer
[INFO]2021-04-27 17:07:59,136: add_ignore: taskStatus
[INFO]2021-04-27 17:07:59,137: add_ignore: api/elevator/status
[INFO]2021-04-27 17:07:59,138: add_ignore: scada/getTask
[INFO]2021-04-27 17:07:59,636: AGV30 current map meiwei423
[INFO]2021-04-27 17:07:59,640: AGV30 is online
[DEBUG]2021-04-27 17:08:00,147: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-04-27 17:08:00,150: MeiWeiTask init client agvApi
[DEBUG]2021-04-27 17:08:00,154: used 6ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[INFO]2021-04-27 17:08:00,361: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60412
[INFO]2021-04-27 17:08:00,470: **************回复线程启动**************
[DEBUG]2021-04-27 17:08:03,554: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-04-27 17:08:03,633: used 80ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-04-27 17:08:03,743: timer_thread[tid:8436] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=8436 count=1 at 0x000002530C18DF60>> ,hold 3604 ms
[INFO]2021-04-27 17:08:03,995: name=timer_thread, pid=3132, tid=8436
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[CRITICAL]2021-04-27 17:08:17,656: : 192.168.252.237:10001 <--> 192.168.252.242:60412 time out cause a error: <tcpSocket.client object at 0x000002530E374760>
pid=3132, ppid=17380, tid=996
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(128)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:08:17,767: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60412
[WARNING]2021-04-27 17:08:17,847: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60412
[INFO]2021-04-27 17:08:17,991: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60413
[INFO]2021-04-27 17:08:18,102: **************回复线程启动**************
[INFO]2021-04-27 17:08:35,734: ****************接受到的数据**************： devID: 23 keyID: 175
[CRITICAL]2021-04-27 17:08:36,195: : 192.168.252.237:10001 <--> 192.168.252.242:60413 error:  cause a error: 'int' object has no attribute 'lower'
pid=3132, ppid=17380, tid=10724
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 60, in _handle
    getButtonInfo(devID,keyID)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 132, in getButtonInfo
    type,source,target = local.get(devID,keyID).split(",")
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\local.py", line 84, in get
    return _get_cfg().get(section,key,default)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\config.py", line 103, in get
    if self.has_key(section,key):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\config.py", line 93, in has_key
    if not self.has_section(section.lower()):
AttributeError: 'int' object has no attribute 'lower'

[INFO]2021-04-27 17:08:36,402: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60413
[WARNING]2021-04-27 17:08:36,497: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60413
[INFO]2021-04-27 17:08:36,686: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60414
[INFO]2021-04-27 17:08:36,828: **************回复线程启动**************
[CRITICAL]2021-04-27 17:08:48,122: : 192.168.252.237:10001 <--> 192.168.252.242:60414 time out cause a error: <tcpSocket.client object at 0x000002530E5075E0>
pid=3132, ppid=17380, tid=1888
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(128)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:08:48,218: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60414
[WARNING]2021-04-27 17:08:48,298: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60414
[INFO]2021-04-27 17:08:48,422: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60415
[INFO]2021-04-27 17:08:48,550: **************回复线程启动**************
[CRITICAL]2021-04-27 17:08:58,577: : 192.168.252.237:10001 <--> 192.168.252.242:60415 time out cause a error: <tcpSocket.client object at 0x000002530E514FD0>
pid=3132, ppid=17380, tid=4312
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(128)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:08:58,689: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60415
[WARNING]2021-04-27 17:08:58,769: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60415
[INFO]2021-04-27 17:08:58,926: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60416
[INFO]2021-04-27 17:08:59,049: **************回复线程启动**************
[ERROR]2021-04-27 17:09:01,450: user press Ctrl+C, system quit!
[WARNING]2021-04-27 17:09:01,546: runTask:stop save file
[ERROR]2021-04-27 17:09:01,641: user press Ctrl+C, system quit!
[ERROR]2021-04-27 17:09:01,703: process exited, living 0:01:03.231080 seconds
