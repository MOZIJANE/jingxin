[INFO]2021-06-14 17:38:12,738: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-14 17:38:12,739: find module account.main_account
[INFO]2021-06-14 17:38:12,739: find module agvCtrl.main_agv
[INFO]2021-06-14 17:38:12,739: find module agvDevice.main_agvDevice
[INFO]2021-06-14 17:38:12,740: find module akmCtrl.main_akmCtrl
[INFO]2021-06-14 17:38:12,740: find module alarm.main_alarm
[INFO]2021-06-14 17:38:12,741: find module auth.main_auth
[INFO]2021-06-14 17:38:12,742: find module door.main_door
[INFO]2021-06-14 17:38:12,742: find module elevator.main_elevator
[INFO]2021-06-14 17:38:12,742: find module feed.main_feed
[INFO]2021-06-14 17:38:12,743: find module remoteio.main_remoteio
[INFO]2021-06-14 17:38:12,743: import account.main_account
[INFO]2021-06-14 17:38:12,875: import agvCtrl.main_agv
[INFO]2021-06-14 17:38:13,694: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019746B7EDA0>>
[INFO]2021-06-14 17:38:13,834: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019746B7EF08>>
[INFO]2021-06-14 17:38:13,999: create lock <lock name:timer.lock_1749242179936,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019746EE7C10>>
[ERROR]2021-06-14 17:38:14,018: mqtt is disabled
[INFO]2021-06-14 17:38:14,019: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-14 17:38:14,020: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-14 17:38:17,138: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-14 17:38:17,191: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000197471B70D0>>
[WARNING]2021-06-14 17:38:17,203: use mockAgvCtrl
[INFO]2021-06-14 17:38:17,206: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000197453BDC88>>
[INFO]2021-06-14 17:38:17,553: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019747257030>>
[INFO]2021-06-14 17:38:17,559: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019747257C88>>
[INFO]2021-06-14 17:38:17,616: charge policy 1 , fix time
[INFO]2021-06-14 17:38:17,649: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000197473660D0>>
[INFO]2021-06-14 17:38:18,329: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-14 17:38:18,515: elevator thread start
[INFO]2021-06-14 17:38:18,553: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 231 ms
[INFO]2021-06-14 17:38:18,563: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-14 17:38:18,627: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 72 ms
[INFO]2021-06-14 17:38:18,637: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-14 17:38:18,804: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 176 ms
[INFO]2021-06-14 17:38:18,814: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-14 17:38:18,971: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 166 ms
[INFO]2021-06-14 17:38:18,982: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-14 17:38:19,068: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 95 ms
[INFO]2021-06-14 17:38:19,080: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-14 17:38:19,146: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 77 ms
[INFO]2021-06-14 17:38:19,154: import agvDevice.main_agvDevice
[INFO]2021-06-14 17:38:19,156: import akmCtrl.main_akmCtrl
[INFO]2021-06-14 17:38:19,225: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000197477E61C0>>
[INFO]2021-06-14 17:38:19,238: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000197476EA648>>
[INFO]2021-06-14 17:38:19,277: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001974767A0A8>>
[INFO]2021-06-14 17:38:19,289: create lock <lock name:timer.lock_1749247814904,<unlocked _thread.RLock object owner=0 count=0 at 0x000001974767A2D8>>
[INFO]2021-06-14 17:38:19,292: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019745FB8210>>
[INFO]2021-06-14 17:38:19,354: import alarm.main_alarm
[INFO]2021-06-14 17:38:19,359: import auth.main_auth
[INFO]2021-06-14 17:38:19,368: import door.main_door
[INFO]2021-06-14 17:38:19,371: import elevator.main_elevator
[INFO]2021-06-14 17:38:19,376: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019745FB8B20>>
[INFO]2021-06-14 17:38:19,379: import feed.main_feed
[INFO]2021-06-14 17:38:19,385: IP: 0.0.0.0 port: 10001
[INFO]2021-06-14 17:38:19,386: import remoteio.main_remoteio
[SUCC]2021-06-14 17:38:19,400: utility start, pid=1240, ppid=13792
[DEBUG]2021-06-14 17:38:19,402: start timer
[INFO]2021-06-14 17:38:19,423: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-14 17:38:19,424: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000197477AD2D8>>
[DEBUG]2021-06-14 17:38:19,429: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-14 17:38:19,430: AGV30 start agvList run thread
[INFO]2021-06-14 17:38:19,431: AGV30 start agvList run2 thread
[DEBUG]2021-06-14 17:38:19,445: start timer
[INFO]2021-06-14 17:38:19,457: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54765
[WARNING]2021-06-14 17:38:19,469: Local server start! version 3.7.3, path C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common, pid 1240
[INFO]2021-06-14 17:38:19,469: add_ignore: taskStatus
[INFO]2021-06-14 17:38:19,470: add_ignore: api/elevator/status
[INFO]2021-06-14 17:38:19,471: add_ignore: scada/getTask
[WARNING]2021-06-14 17:38:19,555: clear alarm obj=AGV30, typeId=49999, id=60c5b0356970549072c4a88f
[ERROR]2021-06-14 17:38:19,895: agv check init error False
[INFO]2021-06-14 17:38:20,418: AGV30 current map meiwei428
[INFO]2021-06-14 17:38:20,422: AGV30 is online
[DEBUG]2021-06-14 17:38:20,455: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-14 17:38:20,522: MeiWeiTask init client agvApi
[DEBUG]2021-06-14 17:38:20,526: used 71ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-14 17:38:23,867: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-14 17:38:23,977: used 110ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-14 17:38:24,181: timer_thread[tid:4812] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=4812 count=1 at 0x00000197477E61C0>> ,hold 3731 ms
[INFO]2021-06-14 17:38:24,467: name=timer_thread, pid=1240, tid=4812
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-14 17:38:29,475: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54765
[WARNING]2021-06-14 17:38:29,585: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54765
[INFO]2021-06-14 17:38:30,724: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54766
[INFO]2021-06-14 17:38:36,231: {'21': {'loc': 'Locl', 'map': 'meiwei428'}, '23': {'loc': 'Loc2', 'map': 'meiwei428'}}
[INFO]2021-06-14 17:38:36,295: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-06-14 17:38:36,356: source Loc8
[INFO]2021-06-14 17:38:36,418: target Loc2
[INFO]2021-06-14 17:38:36,465: ---------------------runTask01--------------------addTaskByButton-----
[INFO]2021-06-14 17:38:36,526: ----------------------scadaTask----------------
[INFO]2021-06-14 17:38:36,588: Loc8 Loc2
[INFO]2021-06-14 17:38:36,682: create task[60c7239c97f2467f76e3c113]: type= scadaTask , 从Loc8运送货架到Loc2 {'source': 'Loc8', 'target': 'Loc2', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从Loc8运送货架到Loc2', 'createTime': datetime.datetime(2021, 6, 14, 17, 38, 36, 650406), 'updateTime': datetime.datetime(2021, 6, 14, 17, 38, 36, 650406), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('60c7239c97f2467f76e3c113')}
[INFO]2021-06-14 17:38:36,758: 60c7239c97f2467f76e3c113
[INFO]2021-06-14 17:38:36,958: {'prepoint': '10', 'location': '8', 'floorId': 'meiwei428', 'direction': None, 'payloadId': None, 'p_direction': 0.0, 'WorkPlace': 'true'}
[INFO]2021-06-14 17:38:37,083: task[60c7239c97f2467f76e3c113]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 6, 14, 17, 38, 37, 51368), 'updateTime': datetime.datetime(2021, 6, 14, 17, 38, 37, 51368), 'status': 'running'}
[INFO]2021-06-14 17:38:37,161: task: start task[60c7239c97f2467f76e3c113][-] 8(10) -> 3(4) [waiting]
[INFO]2021-06-14 17:38:37,238: ===========================> waiting
[INFO]2021-06-14 17:38:37,408: task[60c7239c97f2467f76e3c113] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 6, 14, 17, 38, 37, 394185)}
[DEBUG]2021-06-14 17:38:37,486: task[60c7239c97f2467f76e3c113][-] 8(10) -> 3(4) [waitForAgv] waiting -> waitForAgv
[INFO]2021-06-14 17:38:38,559: ===========================> waitForAgv
[INFO]2021-06-14 17:38:38,622: ================叫车======================
[INFO]2021-06-14 17:38:38,686: ******************url********************: http://127.0.0.1:5551
[DEBUG]2021-06-14 17:38:38,858: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=10&mapId=meiwei428&taskId=60c7239c97f2467f76e3c113&timeout=10 addr: 127.0.0.1
[INFO]2021-06-14 17:38:41,117: apply AGV30 ,taskId: 60c7239c97f2467f76e3c113 ,loc meiwei428.10 ,autoLock False , used 2088 ms
[DEBUG]2021-06-14 17:38:41,165: used 2307ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=10&mapId=meiwei428&taskId=60c7239c97f2467f76e3c113&timeout=10
[DEBUG]2021-06-14 17:38:41,388: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=60c7239c97f2467f76e3c113 addr: 127.0.0.1
[DEBUG]2021-06-14 17:38:41,451: lock:  AGV30 taskId 60c7239c97f2467f76e3c113 app MeiWeiTask
[WARNING]2021-06-14 17:38:42,541: AGV30 clear task finish, cur= meiwei428.9 task_status= 0
[DEBUG]2021-06-14 17:38:42,694: used 1306ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=60c7239c97f2467f76e3c113
[INFO]2021-06-14 17:38:42,803: task[60c7239c97f2467f76e3c113][-] 8(10) -> 3(4) [waitForAgv] apply AGV30
[INFO]2021-06-14 17:38:42,913: task[60c7239c97f2467f76e3c113] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 6, 14, 17, 38, 42, 897897)}
[WARNING]2021-06-14 17:38:42,974: scada.60c7239c97f2467f76e3c113[tid:1436] <locked _thread.RLock object owner=1436 count=1 at 0x0000019748F27DF0> ,hold 4415 ms
[INFO]2021-06-14 17:38:43,244: name=scada.60c7239c97f2467f76e3c113, pid=1240, tid=1436
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 803, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-06-14 17:38:43,336: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-06-14 17:38:43,761: ===========================> initJackdown
[INFO]2021-06-14 17:38:43,823: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [initJackdown] _jackDown
[DEBUG]2021-06-14 17:38:43,900: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-06-14 17:38:44,039: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-06-14 17:38:44,101: ************run jackDownOld********************
[DEBUG]2021-06-14 17:38:45,199: used 1160ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-06-14 17:38:45,340: [return] use 1440 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-06-14 17:38:45,436: task[60c7239c97f2467f76e3c113] update info: {'failMsg': '前往Loc8工位点拉取货架', 'updateTime': datetime.datetime(2021, 6, 14, 17, 38, 45, 420486)}
[DEBUG]2021-06-14 17:38:45,547: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [moveToPreSrc] initJackdown -> moveToPreSrc
[INFO]2021-06-14 17:38:46,034: ===========================> moveToPreSrc
[INFO]2021-06-14 17:38:46,082: ***************调用move方法
[DEBUG]2021-06-14 17:38:46,131: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei428&isRotate&loc=meiwei428.10&location=10&taskId=60c7239c97f2467f76e3c113_2&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-06-14 17:38:46,147: Begin: AGV30 move from meiwei428.9 to meiwei428.10 by paths: [('meiwei428', ['9', '7', '12', '11', '10'], 9.63634650917636)] task: 60c7239c97f2467f76e3c113_2 timeout 86400 used 11 ms
[INFO]2021-06-14 17:38:46,149: 移动到source的前置点 10
[DEBUG]2021-06-14 17:38:46,151: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [moveToPreSrc_onfinish] moveToPreSrc -> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:46,459: ===========================> moveToPreSrc_onfinish
[DEBUG]2021-06-14 17:38:46,763: agvInfo: AGV30 meiwei428.9 move to meiwei428.10 ,taskId 60c7239c97f2467f76e3c113_2
[INFO]2021-06-14 17:38:46,769: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:46,988: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54766
[WARNING]2021-06-14 17:38:46,991: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54766
[INFO]2021-06-14 17:38:47,006: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54767
[INFO]2021-06-14 17:38:47,082: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:47,395: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:47,706: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:48,018: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:48,327: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:48,638: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:48,947: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:49,256: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:49,566: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:49,877: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:50,187: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:50,496: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:50,807: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:51,116: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:51,426: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:51,736: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:52,048: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:52,360: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:52,669: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:52,979: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:53,288: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:53,600: ===========================> moveToPreSrc_onfinish
[DEBUG]2021-06-14 17:38:53,645: AGV30 set loc meiwei428.7 ,old 9 (23.56,0.77)
[INFO]2021-06-14 17:38:53,916: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:54,223: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:54,531: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:54,842: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:55,152: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:55,464: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:55,781: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:56,092: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:56,407: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:56,719: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:57,017: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54767
[WARNING]2021-06-14 17:38:57,019: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54767
[INFO]2021-06-14 17:38:57,033: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:57,034: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54768
[INFO]2021-06-14 17:38:57,345: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:57,660: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:57,975: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:58,281: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:58,587: ===========================> moveToPreSrc_onfinish
[DEBUG]2021-06-14 17:38:58,730: AGV30 set loc meiwei428.11 ,old 7 (19.28,0.57)
[INFO]2021-06-14 17:38:58,904: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:59,217: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:59,526: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:38:59,836: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:39:00,147: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:39:00,462: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:39:00,780: ===========================> moveToPreSrc_onfinish
[DEBUG]2021-06-14 17:39:00,780: AGV30 set loc meiwei428.10 ,old 11 (17.75,0.56)
[INFO]2021-06-14 17:39:01,096: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:39:01,412: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:39:01,727: ===========================> moveToPreSrc_onfinish
[INFO]2021-06-14 17:39:02,042: ===========================> moveToPreSrc_onfinish
[SUCC]2021-06-14 17:39:02,057: Finish:  AGV30 arrived meiwei428.10 ,task: 60c7239c97f2467f76e3c113_2
[INFO]2021-06-14 17:39:02,289: task: move finish callback task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [moveToPreSrc_onfinish]
[INFO]2021-06-14 17:39:02,291: ***********下料，到达source前置点，等待进入信号*************
[INFO]2021-06-14 17:39:02,295: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:02,297: 无料，继续等待： 2021-06-14 17:39:02
[INFO]2021-06-14 17:39:02,298: 等待次数: 1
[INFO]2021-06-14 17:39:02,811: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:02,814: 无料，继续等待： 2021-06-14 17:39:02
[INFO]2021-06-14 17:39:02,818: 等待次数: 2
[INFO]2021-06-14 17:39:03,322: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:03,325: 无料，继续等待： 2021-06-14 17:39:03
[INFO]2021-06-14 17:39:03,329: 等待次数: 3
[INFO]2021-06-14 17:39:03,847: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:03,849: 无料，继续等待： 2021-06-14 17:39:03
[INFO]2021-06-14 17:39:03,852: 等待次数: 4
[INFO]2021-06-14 17:39:04,358: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:04,364: 无料，继续等待： 2021-06-14 17:39:04
[INFO]2021-06-14 17:39:04,366: 等待次数: 5
[INFO]2021-06-14 17:39:04,869: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:04,871: 无料，继续等待： 2021-06-14 17:39:04
[INFO]2021-06-14 17:39:04,875: 等待次数: 6
[INFO]2021-06-14 17:39:05,381: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:05,383: 无料，继续等待： 2021-06-14 17:39:05
[INFO]2021-06-14 17:39:05,386: 等待次数: 7
[INFO]2021-06-14 17:39:05,893: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:05,897: 无料，继续等待： 2021-06-14 17:39:05
[INFO]2021-06-14 17:39:05,900: 等待次数: 8
[INFO]2021-06-14 17:39:06,404: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:06,406: 无料，继续等待： 2021-06-14 17:39:06
[INFO]2021-06-14 17:39:06,410: 等待次数: 9
[INFO]2021-06-14 17:39:06,913: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:06,918: 无料，继续等待： 2021-06-14 17:39:06
[INFO]2021-06-14 17:39:06,921: 等待次数: 10
[INFO]2021-06-14 17:39:07,049: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54768
[WARNING]2021-06-14 17:39:07,053: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54768
[INFO]2021-06-14 17:39:07,071: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54769
[INFO]2021-06-14 17:39:07,428: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:07,430: 无料，继续等待： 2021-06-14 17:39:07
[INFO]2021-06-14 17:39:07,434: 等待次数: 11
[INFO]2021-06-14 17:39:07,941: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:07,944: 无料，继续等待： 2021-06-14 17:39:07
[INFO]2021-06-14 17:39:07,948: 等待次数: 12
[INFO]2021-06-14 17:39:08,463: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:08,465: 无料，继续等待： 2021-06-14 17:39:08
[INFO]2021-06-14 17:39:08,468: 等待次数: 13
[INFO]2021-06-14 17:39:08,972: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:08,976: 无料，继续等待： 2021-06-14 17:39:08
[INFO]2021-06-14 17:39:08,977: 等待次数: 14
[INFO]2021-06-14 17:39:09,482: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:09,483: 无料，继续等待： 2021-06-14 17:39:09
[INFO]2021-06-14 17:39:09,487: 等待次数: 15
[INFO]2021-06-14 17:39:09,488: ****等待15次无料****
[WARNING]2021-06-14 17:39:09,489: Thread-4[tid:1616] <locked _thread.RLock object owner=1616 count=1 at 0x0000019748F27DF0> ,hold 7200 ms
[INFO]2021-06-14 17:39:09,491: name=Thread-4, pid=1240, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-14 17:39:09,493: ===========================> comeInUnloadPosition
[INFO]2021-06-14 17:39:09,494: ***************调用move方法
[DEBUG]2021-06-14 17:39:09,495: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.8&location=8&p_direction=0.0&result=True&resultDesc=None&taskId=60c7239c97f2467f76e3c113_3&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-06-14 17:39:09,501: Begin: AGV30 move from meiwei428.10 to meiwei428.8 by paths: [('meiwei428', ['10', '8'], 1.8044640304941097)] task: 60c7239c97f2467f76e3c113_3 timeout 86400 used 5 ms
[DEBUG]2021-06-14 17:39:09,502: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.8&location=8&p_direction=0.0&result=True&resultDesc=None&taskId=60c7239c97f2467f76e3c113_3&taskType=scadaTask&timeoutSec=86400
[INFO]2021-06-14 17:39:09,504: ==============================runTasks.comeInUnloadPosition结束====================================
[INFO]2021-06-14 17:39:09,505: ****当前的状态为： loadPlayload
[WARNING]2021-06-14 17:39:09,505: scada.60c7239c97f2467f76e3c113[tid:1436] <locked _thread.RLock object owner=1436 count=1 at 0x0000019748F27DF0> ,hold 7146 ms
[INFO]2021-06-14 17:39:09,507: name=scada.60c7239c97f2467f76e3c113, pid=1240, tid=1436
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 803, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-06-14 17:39:09,508: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [loadPlayload] moveToPreSrc_onfinish -> loadPlayload
[INFO]2021-06-14 17:39:09,812: ===========================> loadPlayload
[INFO]2021-06-14 17:39:10,126: ===========================> loadPlayload
[DEBUG]2021-06-14 17:39:10,245: agvInfo: AGV30 meiwei428.10 move to meiwei428.8 ,taskId 60c7239c97f2467f76e3c113_3
[INFO]2021-06-14 17:39:10,441: ===========================> loadPlayload
[INFO]2021-06-14 17:39:10,756: ===========================> loadPlayload
[INFO]2021-06-14 17:39:11,070: ===========================> loadPlayload
[INFO]2021-06-14 17:39:11,384: ===========================> loadPlayload
[INFO]2021-06-14 17:39:11,700: ===========================> loadPlayload
[INFO]2021-06-14 17:39:12,016: ===========================> loadPlayload
[INFO]2021-06-14 17:39:12,330: ===========================> loadPlayload
[INFO]2021-06-14 17:39:12,647: ===========================> loadPlayload
[INFO]2021-06-14 17:39:12,962: ===========================> loadPlayload
[DEBUG]2021-06-14 17:39:13,038: AGV30 set loc meiwei428.8 ,old 10 (15.95,0.56)
[INFO]2021-06-14 17:39:13,276: ===========================> loadPlayload
[INFO]2021-06-14 17:39:13,584: ===========================> loadPlayload
[INFO]2021-06-14 17:39:13,904: ===========================> loadPlayload
[INFO]2021-06-14 17:39:14,211: ===========================> loadPlayload
[SUCC]2021-06-14 17:39:14,317: Finish:  AGV30 arrived meiwei428.8 ,task: 60c7239c97f2467f76e3c113_3
[INFO]2021-06-14 17:39:14,518: ===========================> loadPlayload
[INFO]2021-06-14 17:39:14,627: task: move finish callback task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [loadPlayload]
[INFO]2021-06-14 17:39:14,631: ***************进入onFinish.loadPlayload**********************
[INFO]2021-06-14 17:39:14,633: task[60c7239c97f2467f76e3c113] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 6, 14, 17, 39, 14, 632464)}
[INFO]2021-06-14 17:39:14,634: *********发送下料到位信号********* 0,0,1,0
[INFO]2021-06-14 17:39:14,634: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:14,635: 无离开下料位信号，继续等待： 2021-06-14 17:39:14
[INFO]2021-06-14 17:39:14,636: 等待次数: 1
[INFO]2021-06-14 17:39:15,140: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:15,142: 无离开下料位信号，继续等待： 2021-06-14 17:39:15
[INFO]2021-06-14 17:39:15,143: 等待次数: 2
[INFO]2021-06-14 17:39:15,661: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:15,663: 无离开下料位信号，继续等待： 2021-06-14 17:39:15
[INFO]2021-06-14 17:39:15,667: 等待次数: 3
[INFO]2021-06-14 17:39:16,178: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:16,180: 无离开下料位信号，继续等待： 2021-06-14 17:39:16
[INFO]2021-06-14 17:39:16,184: 等待次数: 4
[INFO]2021-06-14 17:39:16,690: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:16,693: 无离开下料位信号，继续等待： 2021-06-14 17:39:16
[INFO]2021-06-14 17:39:16,696: 等待次数: 5
[INFO]2021-06-14 17:39:17,082: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54769
[WARNING]2021-06-14 17:39:17,087: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54769
[INFO]2021-06-14 17:39:17,104: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54770
[INFO]2021-06-14 17:39:17,209: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:17,211: 无离开下料位信号，继续等待： 2021-06-14 17:39:17
[INFO]2021-06-14 17:39:17,215: 等待次数: 6
[INFO]2021-06-14 17:39:17,721: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:17,723: 无离开下料位信号，继续等待： 2021-06-14 17:39:17
[INFO]2021-06-14 17:39:17,727: 等待次数: 7
[INFO]2021-06-14 17:39:18,235: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:18,238: 无离开下料位信号，继续等待： 2021-06-14 17:39:18
[INFO]2021-06-14 17:39:18,242: 等待次数: 8
[INFO]2021-06-14 17:39:18,750: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:18,752: 无离开下料位信号，继续等待： 2021-06-14 17:39:18
[INFO]2021-06-14 17:39:18,756: 等待次数: 9
[INFO]2021-06-14 17:39:19,265: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:19,268: 无离开下料位信号，继续等待： 2021-06-14 17:39:19
[INFO]2021-06-14 17:39:19,271: 等待次数: 10
[INFO]2021-06-14 17:39:19,782: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:19,785: 无离开下料位信号，继续等待： 2021-06-14 17:39:19
[INFO]2021-06-14 17:39:19,788: 等待次数: 11
[INFO]2021-06-14 17:39:20,293: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:20,296: 无离开下料位信号，继续等待： 2021-06-14 17:39:20
[INFO]2021-06-14 17:39:20,300: 等待次数: 12
[INFO]2021-06-14 17:39:20,808: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:20,811: 无离开下料位信号，继续等待： 2021-06-14 17:39:20
[INFO]2021-06-14 17:39:20,815: 等待次数: 13
[INFO]2021-06-14 17:39:21,321: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:21,324: 无离开下料位信号，继续等待： 2021-06-14 17:39:21
[INFO]2021-06-14 17:39:21,328: 等待次数: 14
[INFO]2021-06-14 17:39:21,837: 当前信号： {'status': [0, 0, 0, 0, 0, 0, 0, 0]}
[INFO]2021-06-14 17:39:21,840: 无离开下料位信号，继续等待： 2021-06-14 17:39:21
[INFO]2021-06-14 17:39:21,843: 等待次数: 15
[INFO]2021-06-14 17:39:21,845: ****等待15次无离开信号****
[WARNING]2021-06-14 17:39:21,847: Thread-4[tid:1616] <locked _thread.RLock object owner=1616 count=1 at 0x0000019748F27DF0> ,hold 7220 ms
[INFO]2021-06-14 17:39:21,850: name=Thread-4, pid=1240, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-14 17:39:21,852: ===========================> loadPlayload_readqr
[WARNING]2021-06-14 17:39:21,857: scada.60c7239c97f2467f76e3c113[tid:1436] <locked _thread.RLock object owner=1436 count=1 at 0x0000019748F27DF0> ,hold 7033 ms
[INFO]2021-06-14 17:39:21,860: name=scada.60c7239c97f2467f76e3c113, pid=1240, tid=1436
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 803, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-06-14 17:39:21,863: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-06-14 17:39:22,180: ===========================> loadPlayload_jackup
[INFO]2021-06-14 17:39:22,184: task[60c7239c97f2467f76e3c113] update info: {'failMsg': '等待Loc2工位点锁', 'updateTime': datetime.datetime(2021, 6, 14, 17, 39, 22, 182577)}
[DEBUG]2021-06-14 17:39:22,186: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-06-14 17:39:22,510: ===========================> waitDestPreLoc
[INFO]2021-06-14 17:39:22,572: task: prepoint locked  60c7239c97f2467f76e3c113 meiwei428.3
[INFO]2021-06-14 17:39:22,652: task[60c7239c97f2467f76e3c113] update info: {'failMsg': '前往3工位点放下货架', 'updateTime': datetime.datetime(2021, 6, 14, 17, 39, 22, 636138)}
[DEBUG]2021-06-14 17:39:22,714: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [movePreSource] waitDestPreLoc -> movePreSource
[INFO]2021-06-14 17:39:23,245: ===========================> movePreSource
[INFO]2021-06-14 17:39:23,275: *************进入目的地的前置点***********
[INFO]2021-06-14 17:39:23,323: ***************调用move方法
[DEBUG]2021-06-14 17:39:23,387: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.4&location=4&p_direction=0.0&result=True&resultDesc=None&taskId=60c7239c97f2467f76e3c113_4&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-06-14 17:39:23,398: Begin: AGV30 move from meiwei428.8 to meiwei428.4 by paths: [('meiwei428', ['8', '6', '5', '4'], 15.811155245274772)] task: 60c7239c97f2467f76e3c113_4 timeout 86400 used 4 ms
[DEBUG]2021-06-14 17:39:23,400: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [movePreSourceStep] movePreSource -> movePreSourceStep
[INFO]2021-06-14 17:39:23,715: ===========================> movePreSourceStep
[DEBUG]2021-06-14 17:39:24,008: agvInfo: AGV30 meiwei428.8 move to meiwei428.4 ,taskId 60c7239c97f2467f76e3c113_4
[INFO]2021-06-14 17:39:24,031: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:24,345: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:24,662: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:24,978: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:25,291: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:25,603: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:25,918: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:26,234: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:26,547: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:26,858: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:27,108: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54770
[WARNING]2021-06-14 17:39:27,111: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54770
[INFO]2021-06-14 17:39:27,126: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54771
[INFO]2021-06-14 17:39:27,169: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:27,483: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:27,797: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:28,106: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:28,420: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:28,733: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:29,044: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:29,355: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:29,670: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:29,982: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:30,299: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:30,613: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:30,929: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:31,242: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:31,553: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:31,866: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:32,179: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:32,489: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:32,799: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:33,107: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:33,416: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:33,724: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:34,036: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:34,345: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:34,657: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:34,967: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:35,275: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:35,583: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:35,894: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:36,202: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:36,513: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:36,821: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:37,130: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54771
[INFO]2021-06-14 17:39:37,130: ===========================> movePreSourceStep
[WARNING]2021-06-14 17:39:37,132: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54771
[INFO]2021-06-14 17:39:37,146: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54772
[INFO]2021-06-14 17:39:37,438: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:37,748: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:38,055: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:38,362: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:38,672: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:38,981: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:39,292: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:39,600: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:39,911: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:40,222: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:40,530: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:40,839: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:41,150: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:41,458: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:41,770: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:42,080: ===========================> movePreSourceStep
[DEBUG]2021-06-14 17:39:42,174: AGV30 set loc meiwei428.6 ,old 8 (2.05,0.26)
[INFO]2021-06-14 17:39:42,390: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:42,701: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:43,011: ===========================> movePreSourceStep
[DEBUG]2021-06-14 17:39:43,197: AGV30 set loc meiwei428.5 ,old 6 (1.25,0.23)
[INFO]2021-06-14 17:39:43,322: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:43,632: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:43,944: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:44,256: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:44,568: ===========================> movePreSourceStep
[DEBUG]2021-06-14 17:39:44,737: AGV30 set loc meiwei428.4 ,old 5 (0.14,0.21)
[INFO]2021-06-14 17:39:44,880: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:45,190: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:45,501: ===========================> movePreSourceStep
[INFO]2021-06-14 17:39:45,811: ===========================> movePreSourceStep
[SUCC]2021-06-14 17:39:45,920: Finish:  AGV30 arrived meiwei428.4 ,task: 60c7239c97f2467f76e3c113_4
[INFO]2021-06-14 17:39:45,956: task: move finish callback task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [movePreSourceStep]
[INFO]2021-06-14 17:39:45,958: *****发送完全离开了下料点的信号***** 0,0,0,1
[INFO]2021-06-14 17:39:45,962: *****三个工位点移动*****
[INFO]2021-06-14 17:39:45,963: *****移动到下料工作站1*****
[INFO]2021-06-14 17:39:46,122: ===========================> move2workstation1
[INFO]2021-06-14 17:39:46,123: ***************调用move方法
[DEBUG]2021-06-14 17:39:46,153: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.10&location=10&p_direction=0.0&result=True&resultDesc=None&taskId=60c7239c97f2467f76e3c113_5&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-06-14 17:39:46,165: Begin: AGV30 move from meiwei428.4 to meiwei428.10 by paths: [('meiwei428', ['4', '5', '6', '8', '10'], 17.615619275768882)] task: 60c7239c97f2467f76e3c113_5 timeout 86400 used 8 ms
[DEBUG]2021-06-14 17:39:46,167: used 14ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=true&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.10&location=10&p_direction=0.0&result=True&resultDesc=None&taskId=60c7239c97f2467f76e3c113_5&taskType=scadaTask&timeoutSec=86400
[DEBUG]2021-06-14 17:39:46,172: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [move2workstation1_onfinish] move2workstation1 -> move2workstation1_onfinish
[INFO]2021-06-14 17:39:46,493: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:46,805: ===========================> move2workstation1_onfinish
[DEBUG]2021-06-14 17:39:46,970: agvInfo: AGV30 meiwei428.4 move to meiwei428.10 ,taskId 60c7239c97f2467f76e3c113_5
[INFO]2021-06-14 17:39:47,116: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:47,148: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54772
[WARNING]2021-06-14 17:39:47,150: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54772
[INFO]2021-06-14 17:39:47,429: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:47,730: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54773
[INFO]2021-06-14 17:39:47,743: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:48,053: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:48,364: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:48,675: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:48,985: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:49,298: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:49,607: ===========================> move2workstation1_onfinish
[DEBUG]2021-06-14 17:39:49,854: AGV30 set loc meiwei428.5 ,old 4 (1.04,0.22)
[INFO]2021-06-14 17:39:49,916: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:50,227: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:50,538: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:50,849: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:51,159: ===========================> move2workstation1_onfinish
[DEBUG]2021-06-14 17:39:51,394: AGV30 set loc meiwei428.6 ,old 5 (2.25,0.27)
[INFO]2021-06-14 17:39:51,471: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:51,783: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:52,093: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:52,402: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:52,714: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:53,025: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:53,337: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:53,646: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:53,961: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:54,273: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:54,585: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:54,896: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:55,204: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:55,515: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:55,825: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:56,134: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:56,445: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:56,758: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:57,072: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:57,382: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:57,691: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:57,737: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54773
[WARNING]2021-06-14 17:39:57,739: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54773
[INFO]2021-06-14 17:39:57,758: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54774
[INFO]2021-06-14 17:39:58,003: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:58,313: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:58,623: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:58,935: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:59,245: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:59,554: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:39:59,864: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:00,176: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:00,490: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:00,800: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:01,113: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:01,421: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:01,734: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:02,044: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:02,355: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:02,667: ===========================> move2workstation1_onfinish
[INFO]2021-06-14 17:40:07,769: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54774
[DEBUG]2021-06-14 17:40:08,282: AGV30 set loc meiwei428.8 ,old 6 (15.95,0.56)
[CRITICAL]2021-06-14 17:40:47,771: checkFinish cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/taskStatus', {'taskId': '60c7239c97f2467f76e3c113_5', 'appName': 'MeiWeiTask'}, 'error:', 'timed out')
pid=1240, ppid=13792, tid=1616
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1320, in do_open
    r = h.getresponse()
  File "C:\Python37\lib\http\client.py", line 1321, in getresponse
    response.begin()
  File "C:\Python37\lib\http\client.py", line 296, in begin
    version, status, reason = self._read_status()
  File "C:\Python37\lib\http\client.py", line 257, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "C:\Python37\lib\socket.py", line 589, in readinto
    return self._sock.recv_into(b)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "..\agvCtrl\agvApi.py", line 244, in _checkFinish
    status = getTaskStatus(ids)
  File "..\agvCtrl\agvApi.py", line 74, in getTaskStatus
    return _http_get(url + '/api/agv/taskStatus',{"taskId": taskId})["taskList"]
  File "..\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/taskStatus', {'taskId': '60c7239c97f2467f76e3c113_5', 'appName': 'MeiWeiTask'}, 'error:', 'timed out')

[INFO]2021-06-14 17:44:58,778: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54775
[ERROR]2021-06-14 17:45:09,587: raise alarm obj=AGV30, typeId=49999, desc=AGV离线异常, id=60c72525991edc5fa58d888f
[INFO]2021-06-14 17:49:57,943: name=Thread-13, pid=1240, tid=4300
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/feed/main_feed.py", line 186, in _handle() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/tcpSocket.py", line 58, in closeClient() 
[04] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 210, in info() 
[05] File "C:/Python37/lib/logging/__init__.py", line 1383, in info() 
[06] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[07] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[08] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[09] File "C:/Python37/lib/logging/__init__.py", line 903, in handle() 
[10] File "C:/Python37/lib/logging/__init__.py", line 854, in acquire() 

name=mock.move, pid=1240, tid=10116
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../driver/seerAgv_0427/mockAgvCtrl.py", line 298, in moveFunc() 
[03] File "../driver/seerAgv_0427/mockAgvCtrl.py", line 345, in move() 

name=scada.60c7239c97f2467f76e3c113, pid=1240, tid=1436
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 803, in _taskFunc() 
[04] File "../common/lock.py", line 120, in _call() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 568, in handle() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 210, in info() 
[07] File "C:/Python37/lib/logging/__init__.py", line 1383, in info() 
[08] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[09] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[10] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[11] File "C:/Python37/lib/logging/__init__.py", line 905, in handle() 
[12] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/winConsole.py", line 104, in emit() 
[13] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/winConsole.py", line 74, in printColor() 

name=Thread-4, pid=1240, tid=1616
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../agvCtrl/agvApi.py", line 290, in _checkFinish() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 259, in exception() 
[04] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 154, in _write_exception_log() 
[05] File "C:/Python37/lib/logging/__init__.py", line 1430, in critical() 
[06] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[07] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[08] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[09] File "C:/Python37/lib/logging/__init__.py", line 903, in handle() 
[10] File "C:/Python37/lib/logging/__init__.py", line 854, in acquire() 

name=agv.hasDeadlock, pid=1240, tid=2832
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/agvControl.py", line 1024, in _threadFunc() 

name=worker 9, pid=1240, tid=7560
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 8, pid=1240, tid=7596
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 7, pid=1240, tid=880
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 6, pid=1240, tid=8140
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 5, pid=1240, tid=8752
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "C:/Python37/lib/socketserver.py", line 360, in finish_request() 
[06] File "C:/Python37/lib/socketserver.py", line 720, in __init__() 
[07] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "C:/Python37/lib/http/server.py", line 426, in handle() 
[09] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 305, in wsgi_execute() 
[11] File "C:/Python37/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "C:/Python37/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "C:/Python37/lib/site-packages/bottle.py", line 966, in wsgi() 
[14] File "C:/Python37/lib/site-packages/paste/translogger.py", line 67, in replacement_start_response() 
[15] File "C:/Python37/lib/site-packages/paste/translogger.py", line 100, in write_log() 
[16] File "C:/Python37/lib/logging/__init__.py", line 1449, in log() 
[17] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[18] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[19] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[20] File "C:/Python37/lib/logging/__init__.py", line 905, in handle() 
[21] File "C:/Python37/lib/logging/__init__.py", line 1037, in emit() 

name=worker 4, pid=1240, tid=11284
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 3, pid=1240, tid=2552
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 2, pid=1240, tid=8684
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 1, pid=1240, tid=2296
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=worker 0, pid=1240, tid=4508
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "C:/Python37/lib/queue.py", line 170, in get() 
[04] File "C:/Python37/lib/threading.py", line 296, in wait() 

name=Thread-3, pid=1240, tid=876
[01] File "C:/Python37/lib/site-packages/bottle.py", line 3181, in run() 

name=timer_thread, pid=1240, tid=4812
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 117, in _loop() 

name=agvThread2.AGV30, pid=1240, tid=11128
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/agvList.py", line 601, in run2() 

name=agvThread.AGV30, pid=1240, tid=7188
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/agvList.py", line 578, in run() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/agvList.py", line 870, in readStatus1() 
[04] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/agvList.py", line 937, in _checkLocation() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 199, in debug() 
[06] File "C:/Python37/lib/logging/__init__.py", line 1371, in debug() 
[07] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[08] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[09] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[10] File "C:/Python37/lib/logging/__init__.py", line 903, in handle() 
[11] File "C:/Python37/lib/logging/__init__.py", line 854, in acquire() 

name=timer_thread, pid=1240, tid=14376
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/mytimer.py", line 113, in _loop() 
[03] File "../alarm/aliveApi.py", line 45, in _checkTimeout() 
[04] File "../alarm/aliveApi.py", line 59, in _alarm() 
[05] File "../alarm/alarmApi.py", line 43, in alarm() 
[06] File "../alarm/alarmApi.py", line 66, in _alarm() 
[07] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 232, in error() 
[08] File "C:/Python37/lib/logging/__init__.py", line 1412, in error() 
[09] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[10] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[11] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[12] File "C:/Python37/lib/logging/__init__.py", line 903, in handle() 
[13] File "C:/Python37/lib/logging/__init__.py", line 854, in acquire() 

name=tcplisten.port_10001, pid=1240, tid=8072
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/tcpSocket.py", line 74, in _acceptThread() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/log.py", line 210, in info() 
[04] File "C:/Python37/lib/logging/__init__.py", line 1383, in info() 
[05] File "C:/Python37/lib/logging/__init__.py", line 1519, in _log() 
[06] File "C:/Python37/lib/logging/__init__.py", line 1529, in handle() 
[07] File "C:/Python37/lib/logging/__init__.py", line 1591, in callHandlers() 
[08] File "C:/Python37/lib/logging/__init__.py", line 903, in handle() 
[09] File "C:/Python37/lib/logging/__init__.py", line 854, in acquire() 

name=Thread-1, pid=1240, tid=6088
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/main_agv.py", line 332, in showThread() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/agvControl.py", line 1369, in show() 
[04] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/mainFrame.py", line 236, in show() 

name=door.meiwei428.ping, pid=1240, tid=5816
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 194, in check() 

name=door.meiwei428, pid=1240, tid=13060
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 185, in run() 

name=door.meiwei423.ping, pid=1240, tid=8236
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 194, in check() 

name=door.meiwei423, pid=1240, tid=5204
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 185, in run() 

name=door.desai-all-20191223.ping, pid=1240, tid=14904
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 194, in check() 

name=door.desai-all-20191223, pid=1240, tid=13396
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 185, in run() 

name=door.akmsmtMap.ping, pid=1240, tid=12196
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 194, in check() 

name=door.akmsmtMap, pid=1240, tid=12152
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 185, in run() 

name=door.akmsmt.ping, pid=1240, tid=2260
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 194, in check() 

name=door.akmsmt, pid=1240, tid=15276
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 185, in run() 

name=elevator.keep, pid=1240, tid=6564
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/elevatorMgr.py", line 497, in keepOpenThread() 

name=door.AKM2F.ping, pid=1240, tid=868
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 194, in check() 

name=door.AKM2F, pid=1240, tid=13672
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/agvCtrl/doorMgr.py", line 185, in run() 

name=pymongo_kill_cursors_thread, pid=1240, tid=13776
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/pymongo/periodic_executor.py", line 140, in _run() 

name=pymongo_server_monitor_thread, pid=1240, tid=13548
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Python37/lib/site-packages/pymongo/periodic_executor.py", line 140, in _run() 

name=tcplisten.port_6789, pid=1240, tid=9428
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/tcpSocket.py", line 66, in _acceptThread() 
[03] File "C:/Python37/lib/socket.py", line 212, in accept() 

name=MainThread, pid=1240, tid=11104
[01] File "run_all.py", line 60, in <module>() 
[02] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/webutility.py", line 319, in run() 
[03] File "C:/Python37/lib/site-packages/bottle.py", line 3133, in run() 
[04] File "C:/Python37/lib/site-packages/bottle.py", line 2830, in run() 
[05] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1361, in serve() 
[06] File "C:/Python37/lib/site-packages/paste/httpserver.py", line 1107, in serve_forever() 
[07] File "C:/Python37/lib/socketserver.py", line 294, in handle_request() 
[08] File "C:/Python37/lib/selectors.py", line 323, in select() 
[09] File "C:/Python37/lib/selectors.py", line 314, in _select() 
[10] File "../common/utility.py", line 598, in exit() 
[11] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 256, in getTrace() 
[12] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-06-14 17:57:03,836: scada.60c7239c97f2467f76e3c113[tid:1436] <locked _thread.RLock object owner=1436 count=1 at 0x0000019748F27DF0> ,hold 1021169 ms
[INFO]2021-06-14 17:57:03,847: lock info: count 0

try lock info: count 0
[INFO]2021-06-14 17:57:03,853: tcp server [0.0.0.0][10001] ,connectedLen: 3, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54776
[CRITICAL]2021-06-14 17:57:03,853: 192.168.3.105:10001 <--> 192.168.3.106:54775 error:  cause a error: 192.168.3.105:10001 <--> 192.168.3.106:54775 tcp recv closed
pid=1240, ppid=13792, tid=1408
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 131, in _handle
    data = client.recv(6)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\tcpSocket.py", line 181, in recv
    raise Exception(self.desc+" tcp recv closed")
Exception: 192.168.3.105:10001 <--> 192.168.3.106:54775 tcp recv closed

[WARNING]2021-06-14 17:57:03,863: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54774
[INFO]2021-06-14 17:57:03,864: name=scada.60c7239c97f2467f76e3c113, pid=1240, tid=1436
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 803, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[ERROR]2021-06-14 17:57:03,865: user press Ctrl+C, print thread stack
[INFO]2021-06-14 17:57:03,871: tcp server [0.0.0.0][10001] ,connectedLen: 4, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54777
[CRITICAL]2021-06-14 17:57:03,871: 192.168.3.105:10001 <--> 192.168.3.106:54776 error:  cause a error: 192.168.3.105:10001 <--> 192.168.3.106:54776 tcp recv closed
pid=1240, ppid=13792, tid=11556
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 131, in _handle
    data = client.recv(6)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\tcpSocket.py", line 181, in recv
    raise Exception(self.desc+" tcp recv closed")
Exception: 192.168.3.105:10001 <--> 192.168.3.106:54776 tcp recv closed

[INFO]2021-06-14 17:57:03,872: tcp server [0.0.0.0][10001] ,connectedLen: 4, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54775
[INFO]2021-06-14 17:57:03,882: tcp server [0.0.0.0][10001] ,connectedLen: 3, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54776
[WARNING]2021-06-14 17:57:03,882: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54775
[WARNING]2021-06-14 17:57:03,883: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54776
[ERROR]2021-06-14 17:57:04,186: AGV30 is inactived, task failed 60c7239c97f2467f76e3c113_5
[INFO]2021-06-14 17:57:04,186: ===========================> move2workstation1_onfinish
[WARNING]2021-06-14 17:57:04,189: AGV30 clear task,taskId= 60c7239c97f2467f76e3c113_5 map= meiwei428 paths= 4,5,6,8,10 task_status= 2
[WARNING]2021-06-14 17:57:04,193: wait stop AGV30 is inactived
[WARNING]2021-06-14 17:57:04,195: AGV30 clear task finish, cur= meiwei428.8 task_status= 2
[ERROR]2021-06-14 17:57:04,200: AGV30 handle callback return false
[WARNING]2021-06-14 17:57:04,203: wait stop AGV30 is inactived
[WARNING]2021-06-14 17:57:04,205: AGV30 clear task finish, cur= meiwei428.8 task_status= 2
[ERROR]2021-06-14 17:57:04,206: AGV30 failed to arrived meiwei428.10 ,task: 60c7239c97f2467f76e3c113_5 error AGV30 is disconnected
[INFO]2021-06-14 17:57:04,373: task: move finish callback task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [move2workstation1_onfinish]
[WARNING]2021-06-14 17:57:04,380: clear alarm obj=AGV30, typeId=49999, id=60c72525991edc5fa58d888f
[DEBUG]2021-06-14 17:57:04,382: AGV30 set loc meiwei428.10 ,old 8 (17.75,0.56)
[WARNING]2021-06-14 17:57:04,400: task[60c7239c97f2467f76e3c113]:  error {'failMsg': 'AGV30 is disconnected', 'endTime': datetime.datetime(2021, 6, 14, 17, 57, 4, 379820), 'status': 'error'}
[INFO]2021-06-14 17:57:04,492: task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [move2workstation1_onfinish] AGV30 release task, release agv False False False
[INFO]2021-06-14 17:57:04,495: task: prepoint released2  60c7239c97f2467f76e3c113 meiwei428.3
[INFO]2021-06-14 17:57:04,497: **********上一个按钮任务结束，重置状态，允许继续接受按钮任务************
[INFO]2021-06-14 17:57:04,501: 运行结束，重置running
[INFO]2021-06-14 17:57:04,503: task: stop task[60c7239c97f2467f76e3c113][AGV30] 8(10) -> 3(4) [move2workstation1_onfinish]
[INFO]2021-06-14 17:57:13,887: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54777
[WARNING]2021-06-14 17:57:13,932: disconnect 192.168.3.105:10001 <--> 192.168.3.106:54777
[INFO]2021-06-14 17:57:14,058: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54778
[INFO]2021-06-14 17:57:23,075: {'21': {'loc': 'Locl', 'map': 'meiwei428'}, '23': {'loc': 'Loc2', 'map': 'meiwei428'}}
[INFO]2021-06-14 17:57:23,138: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-06-14 17:57:23,154: source Loc8
[INFO]2021-06-14 17:57:23,290: target Loc2
[INFO]2021-06-14 17:57:23,413: ---------------------runTask01--------------------addTaskByButton-----
[INFO]2021-06-14 17:57:23,489: ----------------------scadaTask----------------
[INFO]2021-06-14 17:57:23,583: Loc8 Loc2
[INFO]2021-06-14 17:57:23,753: create task[60c7280397f2467f76e3c115]: type= scadaTask , 从Loc8运送货架到Loc2 {'source': 'Loc8', 'target': 'Loc2', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从Loc8运送货架到Loc2', 'createTime': datetime.datetime(2021, 6, 14, 17, 57, 23, 677226), 'updateTime': datetime.datetime(2021, 6, 14, 17, 57, 23, 677226), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('60c7280397f2467f76e3c115')}
[INFO]2021-06-14 17:57:23,830: 60c7280397f2467f76e3c115
[INFO]2021-06-14 17:57:24,031: {'prepoint': '10', 'location': '8', 'floorId': 'meiwei428', 'direction': None, 'payloadId': None, 'p_direction': 0.0, 'WorkPlace': 'true'}
[INFO]2021-06-14 17:57:24,125: task[60c7280397f2467f76e3c115]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 6, 14, 17, 57, 24, 93707), 'updateTime': datetime.datetime(2021, 6, 14, 17, 57, 24, 93707), 'status': 'running'}
[INFO]2021-06-14 17:57:24,252: task: start task[60c7280397f2467f76e3c115][-] 8(10) -> 3(4) [waiting]
[INFO]2021-06-14 17:57:24,392: ===========================> waiting
[INFO]2021-06-14 17:57:24,504: task[60c7280397f2467f76e3c115] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 6, 14, 17, 57, 24, 488679)}
[DEBUG]2021-06-14 17:57:24,550: task[60c7280397f2467f76e3c115][-] 8(10) -> 3(4) [waitForAgv] waiting -> waitForAgv
[INFO]2021-06-14 17:57:25,733: ===========================> waitForAgv
[INFO]2021-06-14 17:57:38,631: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:54778
[INFO]2021-06-14 18:02:15,061: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:54779
