[INFO]2021-04-26 10:04:54,285: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-04-26 10:04:54,287: find module account.main_account
[INFO]2021-04-26 10:04:54,290: find module agvCtrl.main_agv
[INFO]2021-04-26 10:04:54,292: find module agvDevice.main_agvDevice
[INFO]2021-04-26 10:04:54,294: find module akmCtrl.main_akmCtrl
[INFO]2021-04-26 10:04:54,296: find module alarm.main_alarm
[INFO]2021-04-26 10:04:54,299: find module auth.main_auth
[INFO]2021-04-26 10:04:54,302: find module door.main_door
[INFO]2021-04-26 10:04:54,305: find module elevator.main_elevator
[INFO]2021-04-26 10:04:54,311: find module feed.main_feed
[INFO]2021-04-26 10:04:54,312: find module remoteio.main_remoteio
[INFO]2021-04-26 10:04:54,314: import account.main_account
[INFO]2021-04-26 10:04:54,409: import agvCtrl.main_agv
[INFO]2021-04-26 10:04:54,779: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019062376EA0>>
[INFO]2021-04-26 10:04:55,685: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000190623B0420>>
[INFO]2021-04-26 10:04:55,805: create lock <lock name:timer.lock_1719641412224,<unlocked _thread.RLock object owner=0 count=0 at 0x00000190629D93F0>>
[ERROR]2021-04-26 10:04:55,818: mqtt is disabled
[INFO]2021-04-26 10:04:55,819: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-26 10:04:55,820: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-26 10:04:58,857: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-26 10:04:58,891: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019062BF5AB0>>
[INFO]2021-04-26 10:04:58,894: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019062BE9E10>>
[INFO]2021-04-26 10:04:59,099: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019062C03A50>>
[INFO]2021-04-26 10:04:59,391: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019063CFB2A0>>
[INFO]2021-04-26 10:04:59,394: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019063D2C540>>
[INFO]2021-04-26 10:04:59,399: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019063D2CF00>>
[INFO]2021-04-26 10:04:59,472: charge policy 1 , fix time
[INFO]2021-04-26 10:04:59,511: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019063D41510>>
[INFO]2021-04-26 10:05:00,084: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\AKM2F.smap
[DEBUG]2021-04-26 10:05:00,204: elevator thread start
[INFO]2021-04-26 10:05:00,224: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\AKM2F.smap ,used 151 ms
[INFO]2021-04-26 10:05:00,235: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\AKM4F.smap
[INFO]2021-04-26 10:05:00,320: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\AKM4F.smap ,used 94 ms
[INFO]2021-04-26 10:05:00,330: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\akmsmtMap.smap
[INFO]2021-04-26 10:05:00,531: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\akmsmtMap.smap ,used 210 ms
[INFO]2021-04-26 10:05:00,542: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\meiwei423.smap
[INFO]2021-04-26 10:05:04,283: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\meiwei423.smap ,used 3751 ms
[INFO]2021-04-26 10:05:04,296: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\untitled_20210420032952.smap
[INFO]2021-04-26 10:05:04,346: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\AKMfloor\untitled_20210420032952.smap ,used 62 ms
[WARNING]2021-04-26 10:05:04,346: MainThread[tid:14940] <lock name:mapMgr.lock,<locked _thread.RLock object owner=14940 count=1 at 0x0000019062C03A50>> ,hold 4834 ms
[INFO]2021-04-26 10:05:04,348: name=MainThread, pid=16228, tid=14940
[01] File "run_all.py", line 57, in <module>() 
[02] File "run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 122, in _call() 
[10] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 100, in release() 
[11] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[12] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-26 10:05:04,352: import agvDevice.main_agvDevice
[INFO]2021-04-26 10:05:04,353: import akmCtrl.main_akmCtrl
[INFO]2021-04-26 10:05:04,378: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064352F00>>
[INFO]2021-04-26 10:05:04,400: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000190642C3D20>>
[INFO]2021-04-26 10:05:04,402: create lock <lock name:timer.lock_1719667110336,<unlocked _thread.RLock object owner=0 count=0 at 0x000001906425B210>>
[INFO]2021-04-26 10:05:04,404: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000190643EF9C0>>
[INFO]2021-04-26 10:05:05,087: import alarm.main_alarm
[INFO]2021-04-26 10:05:05,088: import auth.main_auth
[INFO]2021-04-26 10:05:05,098: import door.main_door
[INFO]2021-04-26 10:05:05,118: import elevator.main_elevator
[INFO]2021-04-26 10:05:05,119: import feed.main_feed
[INFO]2021-04-26 10:05:05,128: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064DCD1E0>>
[INFO]2021-04-26 10:05:05,186: import remoteio.main_remoteio
[SUCC]2021-04-26 10:05:05,195: utility start, pid=16228, ppid=15032
[DEBUG]2021-04-26 10:05:05,196: start timer
[INFO]2021-04-26 10:05:05,208: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/AKMfloor/agv.cfg
[INFO]2021-04-26 10:05:05,209: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064E33120>>
[DEBUG]2021-04-26 10:05:05,212: create aliveObj AGV30 AGVÀëÏßÒì³£ timeout 300
[INFO]2021-04-26 10:05:05,213: AGV30 start agvList run thread
[INFO]2021-04-26 10:05:05,214: AGV30 start agvList run2 thread
[INFO]2021-04-26 10:05:05,215: create lock <lock name:agv.AGV30.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064E572A0>>
[DEBUG]2021-04-26 10:05:05,216: try connect AGV30 192.168.8.68:19204
[DEBUG]2021-04-26 10:05:05,218: start timer
[INFO]2021-04-26 10:05:05,219: add_ignore: taskStatus
[INFO]2021-04-26 10:05:05,220: add_ignore: api/elevator/status
[INFO]2021-04-26 10:05:05,221: add_ignore: scada/getTask
[INFO]2021-04-26 10:05:05,248: AGV30 connected 192.168.8.68 19204
[INFO]2021-04-26 10:05:05,250: create lock <lock name:agv.AGV30.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064E57240>>
[DEBUG]2021-04-26 10:05:05,251: try connect AGV30 192.168.8.68:19205
[INFO]2021-04-26 10:05:05,280: AGV30 connected 192.168.8.68 19205
[INFO]2021-04-26 10:05:05,281: create lock <lock name:agv.AGV30.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064E57270>>
[DEBUG]2021-04-26 10:05:05,283: try connect AGV30 192.168.8.68:19206
[INFO]2021-04-26 10:05:05,316: AGV30 connected 192.168.8.68 19206
[INFO]2021-04-26 10:05:05,318: create lock <lock name:agv.AGV30.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064E57120>>
[DEBUG]2021-04-26 10:05:05,319: try connect AGV30 192.168.8.68:19207
[INFO]2021-04-26 10:05:05,352: AGV30 connected 192.168.8.68 19207
[INFO]2021-04-26 10:05:05,353: create lock <lock name:agv.AGV30.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064EAEC60>>
[DEBUG]2021-04-26 10:05:05,354: try connect AGV30 192.168.8.68:19208
[INFO]2021-04-26 10:05:05,388: AGV30 connected 192.168.8.68 19208
[INFO]2021-04-26 10:05:05,389: create lock <lock name:agv.AGV30.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000019064EAECC0>>
[DEBUG]2021-04-26 10:05:05,390: try connect AGV30 192.168.8.68:19210
[INFO]2021-04-26 10:05:05,420: AGV30 connected 192.168.8.68 19210
[INFO]2021-04-26 10:05:05,500: AGV30 current map meiwei423
[INFO]2021-04-26 10:05:05,544: AGV30 is online
[DEBUG]2021-04-26 10:05:06,248: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-04-26 10:05:06,250: **********************×´Ì¬************: False
[INFO]2021-04-26 10:05:06,251: MeiWeiTask init client agvApi
[DEBUG]2021-04-26 10:05:06,253: used 5ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-04-26 10:05:09,381: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-04-26 10:05:09,444: used 63ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-04-26 10:05:09,617: timer_thread[tid:12720] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=12720 count=1 at 0x0000019063D2CF00>> ,hold 3386 ms
[INFO]2021-04-26 10:05:09,982: name=timer_thread, pid=16228, tid=12720
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-26 10:05:18,150: AGV30 require control
[ERROR]2021-04-26 10:06:03,137: process exited, living 0:01:08.975049 seconds
[INFO]2021-04-26 10:06:06,445: name=agv.hasDeadlock, pid=16228, tid=15620
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/agvControl.py", line 1014, in _threadFunc() 

name=worker 9, pid=16228, tid=17056
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 8, pid=16228, tid=10652
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 7, pid=16228, tid=16328
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 6, pid=16228, tid=8508
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 5, pid=16228, tid=10968
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 4, pid=16228, tid=1512
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 3, pid=16228, tid=5652
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 2, pid=16228, tid=7808
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 1, pid=16228, tid=17940
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=worker 0, pid=16228, tid=11292
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 891, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/queue.py", line 170, in get() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 302, in wait() 

name=pymongo_kill_cursors_thread, pid=16228, tid=16168
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/pymongo/periodic_executor.py", line 140, in _run() 

name=pymongo_server_monitor_thread, pid=16228, tid=16540
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/pymongo/periodic_executor.py", line 140, in _run() 

name=tcplisten.port_6789, pid=16228, tid=16760
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/tcpSocket.py", line 65, in _acceptThread() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socket.py", line 292, in accept() 

name=MainThread, pid=16228, tid=14940
[01] File "run_all.py", line 60, in <module>() 
[02] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/webutility.py", line 321, in run() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 3137, in run() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 2829, in run() 
[05] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 1361, in serve() 
[06] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 1107, in serve_forever() 
[07] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socketserver.py", line 294, in handle_request() 
[08] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/selectors.py", line 323, in select() 
[09] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/selectors.py", line 314, in _select() 
[10] File "../common/utility.py", line 598, in exit() 
[11] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 256, in getTrace() 
[12] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[ERROR]2021-04-26 10:06:06,457: user press Ctrl+C, system quit!
[WARNING]2021-04-26 10:06:06,463: runTask:stop save file
[ERROR]2021-04-26 10:06:06,465: process exited, living 0:01:02.103705 seconds
