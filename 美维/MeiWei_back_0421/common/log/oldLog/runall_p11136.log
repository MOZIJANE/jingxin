[INFO]2021-04-20 17:06:04,945: log files at E:\projects_by_myself\MeiWei\common\log
[INFO]2021-04-20 17:06:04,946: find module account.main_account
[INFO]2021-04-20 17:06:04,947: find module agvCtrl.main_agv
[INFO]2021-04-20 17:06:04,948: find module agvDevice.main_agvDevice
[INFO]2021-04-20 17:06:04,950: find module akmCtrl.main_akmCtrl
[INFO]2021-04-20 17:06:04,951: find module alarm.main_alarm
[INFO]2021-04-20 17:06:04,952: find module auth.main_auth
[INFO]2021-04-20 17:06:04,953: find module door.main_door
[INFO]2021-04-20 17:06:04,954: find module elevator.main_elevator
[INFO]2021-04-20 17:06:04,955: find module feed.main_feed
[INFO]2021-04-20 17:06:04,959: find module remoteio.main_remoteio
[INFO]2021-04-20 17:06:04,960: import account.main_account
[INFO]2021-04-20 17:06:05,049: import agvCtrl.main_agv
[INFO]2021-04-20 17:06:05,371: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A144BE70>>
[INFO]2021-04-20 17:06:06,254: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A146A3F0>>
[INFO]2021-04-20 17:06:06,368: create lock <lock name:timer.lock_2167375823392,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A1AA8390>>
[ERROR]2021-04-20 17:06:06,380: mqtt is disabled
[INFO]2021-04-20 17:06:06,381: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-20 17:06:06,383: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-20 17:06:09,446: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-20 17:06:09,469: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A1CB9D80>>
[WARNING]2021-04-20 17:06:09,482: use mockAgvCtrl
[INFO]2021-04-20 17:06:09,485: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F89FD33330>>
[INFO]2021-04-20 17:06:10,370: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A1D53690>>
[INFO]2021-04-20 17:06:10,374: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A1DF64E0>>
[INFO]2021-04-20 17:06:10,521: charge policy 1 , fix time
[INFO]2021-04-20 17:06:10,599: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A1E000C0>>
[INFO]2021-04-20 17:06:11,207: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-20 17:06:11,445: elevator thread start
[INFO]2021-04-20 17:06:11,502: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\AKM2F.smap ,used 315 ms
[INFO]2021-04-20 17:06:11,538: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-20 17:06:11,634: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmt.smap ,used 116 ms
[INFO]2021-04-20 17:06:11,655: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-20 17:06:11,907: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmtMap.smap ,used 272 ms
[INFO]2021-04-20 17:06:11,933: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-20 17:06:12,196: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\desai-all-20191223.smap ,used 287 ms
[INFO]2021-04-20 17:06:12,201: import agvDevice.main_agvDevice
[INFO]2021-04-20 17:06:12,204: import akmCtrl.main_akmCtrl
[INFO]2021-04-20 17:06:12,214: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A219C9C0>>
[INFO]2021-04-20 17:06:12,219: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A07B5330>>
[INFO]2021-04-20 17:06:12,831: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A3D4D690>>
[INFO]2021-04-20 17:06:12,855: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A3D4D210>>
[INFO]2021-04-20 17:06:12,889: create lock <lock name:timer.lock_2167411317200,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A3C81A20>>
[INFO]2021-04-20 17:06:12,892: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A3C9A5A0>>
[INFO]2021-04-20 17:06:12,959: import alarm.main_alarm
[INFO]2021-04-20 17:06:12,962: import auth.main_auth
[INFO]2021-04-20 17:06:12,971: import door.main_door
[INFO]2021-04-20 17:06:12,974: import elevator.main_elevator
[INFO]2021-04-20 17:06:12,979: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A361CC60>>
[INFO]2021-04-20 17:06:12,981: import feed.main_feed
[INFO]2021-04-20 17:06:12,987: import remoteio.main_remoteio
[SUCC]2021-04-20 17:06:13,000: utility start, pid=11136, ppid=10084
[DEBUG]2021-04-20 17:06:13,001: start timer
[INFO]2021-04-20 17:06:13,012: load agv file: E:\projects_by_myself\MeiWei\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-20 17:06:13,014: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F8A363D660>>
[DEBUG]2021-04-20 17:06:13,017: create aliveObj AGV30 AGV¿Îœﬂ“Ï≥£ timeout 300
[INFO]2021-04-20 17:06:13,018: AGV30 start agvList run thread
[INFO]2021-04-20 17:06:13,019: AGV30 start agvList run2 thread
[ERROR]2021-04-20 17:06:13,028: agv check init error False
[DEBUG]2021-04-20 17:06:13,029: start timer
[INFO]2021-04-20 17:06:13,042: add_ignore: taskStatus
[INFO]2021-04-20 17:06:13,043: add_ignore: api/elevator/status
[INFO]2021-04-20 17:06:13,044: add_ignore: scada/getTask
[INFO]2021-04-20 17:06:13,541: AGV30 current map AKM2F
[INFO]2021-04-20 17:06:13,544: AGV30 is online
[DEBUG]2021-04-20 17:06:15,061: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask_meiwei addr: 127.0.0.1
[INFO]2021-04-20 17:06:15,062: scadaTask_meiwei init client agvApi
[DEBUG]2021-04-20 17:06:15,064: used 4ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask_meiwei
[DEBUG]2021-04-20 17:06:18,237: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask_meiwei addr: 127.0.0.1
[DEBUG]2021-04-20 17:06:18,316: used 79ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask_meiwei
[WARNING]2021-04-20 17:06:18,426: timer_thread[tid:5412] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=5412 count=1 at 0x000001F8A3D4D690>> ,hold 3382 ms
[INFO]2021-04-20 17:06:18,777: name=timer_thread, pid=11136, tid=5412
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/MeiWei/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/MeiWei/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-20 17:07:03,683: user press moveAgv AGV30 button
[DEBUG]2021-04-20 17:07:06,689: lock:  AGV30 taskId user_1618909626689 app user
[WARNING]2021-04-20 17:07:07,725: AGV30 clear task finish, cur= AKM2F.AP29 task_status= 0
[INFO]2021-04-20 17:07:08,211: Begin: AGV30 move from AKM2F.AP29 to AKM2F.CP26 by paths: [('AKM2F', ['AP29', 'LM31', 'LM30', 'LM27', 'CP26'], 4.317)] task: user_1618909626689 timeout 150 used 456 ms
[DEBUG]2021-04-20 17:07:09,445: agvInfo: AGV30 AKM2F.AP29 move to AKM2F.LM31 ,taskId user_1618909626689
[DEBUG]2021-04-20 17:07:11,175: AGV30 turn to wait check cur AP29 next LM30 0.835 False
[DEBUG]2021-04-20 17:07:12,077: AGV30 set loc AKM2F.LM31 ,old AP29 (-13.70,-15.15)
[DEBUG]2021-04-20 17:07:12,612: agvInfo: AGV30 AKM2F.LM31 move to AKM2F.LM30 ,taskId user_1618909626689
[DEBUG]2021-04-20 17:07:13,299: AGV30 choise next pos cur LM31 next LM27 pre LM30 2.229 False
[DEBUG]2021-04-20 17:07:13,390: AGV30 turn to wait check cur LM31 next LM27 2.229 False
[DEBUG]2021-04-20 17:07:15,097: agvInfo: AGV30 AKM2F.LM31 move to AKM2F.LM27 ,taskId user_1618909626689
[DEBUG]2021-04-20 17:07:15,811: AGV30 set loc AKM2F.LM30 ,old LM31 (-13.86,-13.88)
[DEBUG]2021-04-20 17:07:16,192: AGV30 turn to wait check cur LM30 next CP26 0.961 False
[DEBUG]2021-04-20 17:07:17,503: AGV30 set loc AKM2F.LM27 ,old LM30 (-13.86,-12.92)
[DEBUG]2021-04-20 17:07:17,931: agvInfo: AGV30 AKM2F.LM27 move to AKM2F.CP26 ,taskId user_1618909626689
[WARNING]2021-04-20 17:07:21,227: AGV30 waitFinish: loc is diff LM27 CP26 task_status= 2
[WARNING]2021-04-20 17:07:21,823: AGV30 waitFinish: loc is diff LM27 CP26 task_status= 2
[DEBUG]2021-04-20 17:07:22,027: AGV30 set loc AKM2F.CP26 ,old LM27 (-12.82,-12.92)
[WARNING]2021-04-20 17:07:22,584: AGV30 clearTask: reset lockTaskId user_1618909626689 app user
[SUCC]2021-04-20 17:07:23,686: Finish:  AGV30 arrived AKM2F.CP26 ,task: user_1618909626689
[INFO]2021-04-20 17:07:24,710: AGV30 finish charge,batteryLevel= 1
[INFO]2021-04-20 17:07:35,517: AGV30 finish charge,batteryLevel= 1
[INFO]2021-04-20 17:07:46,080: AGV30 finish charge,batteryLevel= 1
[INFO]2021-04-20 17:07:55,122: user press unlock AGV30 button
[DEBUG]2021-04-20 17:07:55,218: unlock: AGV30 taskId None app user force True
[INFO]2021-04-20 17:07:56,855: AGV30 finish charge,batteryLevel= 1
[INFO]2021-04-20 17:07:56,885: AGV30 gohome home_1 force False taskId home_1 : AGV30.CP26 -> AKM2F.AP29
[INFO]2021-04-20 17:07:57,496: Begin: AGV30 move from AKM2F.CP26 to AKM2F.AP29 by paths: [('AKM2F', ['CP26', 'LM27', 'LM30', 'LM31', 'AP29'], 4.317)] task: home_1 timeout 7200 used 588 ms
[INFO]2021-04-20 17:07:57,576: AGV30 charge finish, go home,batteryLevel= 1
[DEBUG]2021-04-20 17:07:59,689: agvInfo: AGV30 AKM2F.CP26 move to AKM2F.LM27 ,taskId home_1
[DEBUG]2021-04-20 17:08:00,907: AGV30 turn to wait check cur CP26 next LM30 0.940 False
[DEBUG]2021-04-20 17:08:02,542: AGV30 set loc AKM2F.LM27 ,old CP26 (-13.86,-12.92)
[DEBUG]2021-04-20 17:08:02,951: agvInfo: AGV30 AKM2F.LM27 move to AKM2F.LM30 ,taskId home_1
[DEBUG]2021-04-20 17:08:03,569: AGV30 choise next pos cur LM27 next LM31 pre LM30 2.229 False
[DEBUG]2021-04-20 17:08:03,628: AGV30 turn to wait check cur LM27 next LM31 2.229 False
[DEBUG]2021-04-20 17:08:05,210: agvInfo: AGV30 AKM2F.LM27 move to AKM2F.LM31 ,taskId home_1
[DEBUG]2021-04-20 17:08:07,241: AGV30 set loc AKM2F.LM30 ,old LM27 (-13.86,-14.09)
[DEBUG]2021-04-20 17:08:07,904: AGV30 turn to wait check cur LM30 next AP29 0.580 False
[DEBUG]2021-04-20 17:08:08,327: AGV30 set loc AKM2F.LM31 ,old LM30 (-13.86,-14.99)
[DEBUG]2021-04-20 17:08:09,340: agvInfo: AGV30 AKM2F.LM31 move to AKM2F.AP29 ,taskId home_1
[WARNING]2021-04-20 17:08:10,977: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[DEBUG]2021-04-20 17:08:11,462: AGV30 set loc AKM2F.AP29 ,old LM31 (-12.92,-15.15)
[SUCC]2021-04-20 17:08:13,271: Finish:  AGV30 arrived AKM2F.AP29 ,task: home_1
[DEBUG]2021-04-20 17:08:13,428: unlock: AGV30 taskId None app None force False
[INFO]2021-04-20 17:08:41,761: user press moveAgv AGV30 button
[ERROR]2021-04-20 17:09:18,683: user press Ctrl+C, system quit!
[ERROR]2021-04-20 17:09:18,856: user press Ctrl+C, system quit!
[WARNING]2021-04-20 17:09:18,933: runTask:stop save file
[ERROR]2021-04-20 17:09:19,013: process exited, living 0:03:06.159600 seconds
[ERROR]2021-04-20 17:09:19,044: user press Ctrl+C, system quit!
[WARNING]2021-04-20 17:09:19,124: runTask:stop save file
[ERROR]2021-04-20 17:09:19,250: process exited, living 0:03:06.396925 seconds
