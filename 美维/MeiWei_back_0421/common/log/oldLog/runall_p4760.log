[INFO]2021-04-28 14:52:52,549: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-04-28 14:52:52,550: find module account.main_account
[INFO]2021-04-28 14:52:52,551: find module agvCtrl.main_agv
[INFO]2021-04-28 14:52:52,552: find module agvDevice.main_agvDevice
[INFO]2021-04-28 14:52:52,554: find module akmCtrl.main_akmCtrl
[INFO]2021-04-28 14:52:52,555: find module alarm.main_alarm
[INFO]2021-04-28 14:52:52,556: find module auth.main_auth
[INFO]2021-04-28 14:52:52,557: find module door.main_door
[INFO]2021-04-28 14:52:52,557: find module elevator.main_elevator
[INFO]2021-04-28 14:52:52,563: find module feed.main_feed
[INFO]2021-04-28 14:52:52,564: find module feed.main_feed_0427
[INFO]2021-04-28 14:52:52,565: find module remoteio.main_remoteio
[INFO]2021-04-28 14:52:52,566: import account.main_account
[INFO]2021-04-28 14:52:52,664: import agvCtrl.main_agv
[INFO]2021-04-28 14:52:53,006: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E850626EA0>>
[INFO]2021-04-28 14:52:53,901: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E85066B420>>
[INFO]2021-04-28 14:52:54,019: create lock <lock name:timer.lock_2097299427920,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E850C993C0>>
[ERROR]2021-04-28 14:52:54,031: mqtt is disabled
[INFO]2021-04-28 14:52:54,033: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-28 14:52:54,036: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-28 14:52:57,074: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-28 14:52:57,129: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E850EACDB0>>
[WARNING]2021-04-28 14:52:57,144: use mockAgvCtrl
[INFO]2021-04-28 14:52:57,146: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E84EF14360>>
[INFO]2021-04-28 14:52:57,490: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E850F43840>>
[INFO]2021-04-28 14:52:57,495: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E850FEBD80>>
[INFO]2021-04-28 14:52:57,571: charge policy 1 , fix time
[INFO]2021-04-28 14:52:57,608: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E850FF5960>>
[INFO]2021-04-28 14:52:58,357: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-28 14:52:58,476: elevator thread start
[INFO]2021-04-28 14:52:58,497: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 149 ms
[INFO]2021-04-28 14:52:58,507: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-28 14:52:58,560: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 61 ms
[INFO]2021-04-28 14:52:58,573: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-28 14:52:58,706: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 145 ms
[INFO]2021-04-28 14:52:58,718: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-28 14:52:58,871: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 163 ms
[INFO]2021-04-28 14:52:58,882: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-04-28 14:52:58,940: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 67 ms
[INFO]2021-04-28 14:52:58,953: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-04-28 14:52:59,016: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 75 ms
[INFO]2021-04-28 14:52:59,028: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap
[INFO]2021-04-28 14:52:59,069: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap ,used 51 ms
[INFO]2021-04-28 14:52:59,074: import agvDevice.main_agvDevice
[INFO]2021-04-28 14:52:59,076: import akmCtrl.main_akmCtrl
[INFO]2021-04-28 14:52:59,096: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E84F9D3030>>
[INFO]2021-04-28 14:52:59,111: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E84FA047E0>>
[INFO]2021-04-28 14:52:59,130: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8523D9B10>>
[INFO]2021-04-28 14:52:59,132: create lock <lock name:timer.lock_2097323866624,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8523E76C0>>
[INFO]2021-04-28 14:52:59,135: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E84FA44330>>
[INFO]2021-04-28 14:52:59,708: import alarm.main_alarm
[INFO]2021-04-28 14:52:59,714: import auth.main_auth
[INFO]2021-04-28 14:52:59,731: import door.main_door
[INFO]2021-04-28 14:52:59,734: import elevator.main_elevator
[INFO]2021-04-28 14:52:59,739: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8554804E0>>
[INFO]2021-04-28 14:52:59,740: import feed.main_feed
[INFO]2021-04-28 14:52:59,768: IP: 0.0.0.0 port: 10001
[INFO]2021-04-28 14:52:59,770: import feed.main_feed_0427
[INFO]2021-04-28 14:52:59,778: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8554A30C0>>
[INFO]2021-04-28 14:52:59,825: import remoteio.main_remoteio
[SUCC]2021-04-28 14:52:59,837: utility start, pid=4760, ppid=12760
[DEBUG]2021-04-28 14:52:59,838: start timer
[INFO]2021-04-28 14:52:59,845: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-28 14:52:59,847: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001E8554BAAE0>>
[DEBUG]2021-04-28 14:52:59,850: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-04-28 14:52:59,851: AGV30 start agvList run thread
[INFO]2021-04-28 14:52:59,851: AGV30 start agvList run2 thread
[ERROR]2021-04-28 14:52:59,858: agv check init error False
[DEBUG]2021-04-28 14:52:59,859: start timer
[INFO]2021-04-28 14:52:59,867: add_ignore: taskStatus
[INFO]2021-04-28 14:52:59,867: add_ignore: api/elevator/status
[INFO]2021-04-28 14:52:59,868: add_ignore: scada/getTask
[INFO]2021-04-28 14:53:00,375: AGV30 current map meiwei428
[INFO]2021-04-28 14:53:00,377: AGV30 is online
[INFO]2021-04-28 14:53:00,763: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58299
[INFO]2021-04-28 14:53:00,765: **************回复线程启动**************
[DEBUG]2021-04-28 14:53:00,877: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-04-28 14:53:00,879: MeiWeiTask init client agvApi
[DEBUG]2021-04-28 14:53:00,881: used 4ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-04-28 14:53:04,102: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-04-28 14:53:04,198: used 96ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-04-28 14:53:04,387: timer_thread[tid:17404] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=17404 count=1 at 0x000001E84F9D3030>> ,hold 3513 ms
[INFO]2021-04-28 14:53:04,659: name=timer_thread, pid=4760, tid=17404
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 14:53:15,424: 按钮任务状态： False
[INFO]2021-04-28 14:53:15,549: ****************接受到的数据**************： devID: 223 keyID: 4
[INFO]2021-04-28 14:53:15,629: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-04-28 14:53:15,880: create task[6089065be6bcb7bc63aa86bb]: type= scadaTask , 从MeiWeiSource运送货架到MeiWeiTarget {'source': 'MeiWeiSource', 'target': 'MeiWeiTarget', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从MeiWeiSource运送货架到MeiWeiTarget', 'createTime': datetime.datetime(2021, 4, 28, 14, 53, 15, 693348), 'updateTime': datetime.datetime(2021, 4, 28, 14, 53, 15, 693348), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('6089065be6bcb7bc63aa86bb')}
[INFO]2021-04-28 14:53:16,259: task[6089065be6bcb7bc63aa86bb]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 28, 14, 53, 16, 212921), 'updateTime': datetime.datetime(2021, 4, 28, 14, 53, 16, 212921), 'status': 'running'}
[INFO]2021-04-28 14:53:16,466: task: start task[6089065be6bcb7bc63aa86bb][-] 6(1) -> 7(8) [waiting]
[INFO]2021-04-28 14:53:16,609: task[6089065be6bcb7bc63aa86bb] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 28, 14, 53, 16, 577945)}
[DEBUG]2021-04-28 14:53:16,705: task[6089065be6bcb7bc63aa86bb][-] 6(1) -> 7(8) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-28 14:53:17,529: 信息*********map: meiwei423 agvId AGV30 tyepe: release loc home
[INFO]2021-04-28 14:53:17,687: 4 号工位放行
[INFO]2021-04-28 14:53:17,988: ******************url********************: http://127.0.0.1:5551
[DEBUG]2021-04-28 14:53:18,257: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei428&taskId=6089065be6bcb7bc63aa86bb&timeout=10 addr: 127.0.0.1
[INFO]2021-04-28 14:53:22,412: apply AGV30 ,taskId: 6089065be6bcb7bc63aa86bb ,loc meiwei428.1 ,autoLock False , used 4092 ms
[WARNING]2021-04-28 14:53:22,508: worker 2[tid:18380] <lock name:mapMgr.lock,<locked _thread.RLock object owner=18380 count=1 at 0x000001E84EF14360>> ,hold 4188 ms
[INFO]2021-04-28 14:53:22,841: name=worker 2, pid=4760, tid=18380
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socketserver.py", line 360, in finish_request() 
[06] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socketserver.py", line 720, in __init__() 
[07] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/http/server.py", line 427, in handle() 
[09] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/webutility.py", line 466, in _enable_cors() 
[17] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/webutility.py", line 482, in _enable_cors() 
[18] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/scadaUtility.py", line 45, in __call() 
[19] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/main_agv.py", line 58, in urlApply() 
[20] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/agvControl.py", line 1125, in apply() 
[21] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 122, in _call() 
[22] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 100, in release() 
[23] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[24] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 14:53:23,000: used 4743ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei428&taskId=6089065be6bcb7bc63aa86bb&timeout=10
[WARNING]2021-04-28 14:53:23,015: timer_thread[tid:14776] <lock name:mapMgr.lock,<locked _thread.RLock object owner=14776 count=1 at 0x000001E84EF14360>> ,hold 4123 ms
[DEBUG]2021-04-28 14:53:23,330: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=6089065be6bcb7bc63aa86bb addr: 127.0.0.1
[DEBUG]2021-04-28 14:53:23,409: lock:  AGV30 taskId 6089065be6bcb7bc63aa86bb app MeiWeiTask
[INFO]2021-04-28 14:53:23,424: name=timer_thread, pid=4760, tid=14776
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/mytimer.py", line 113, in _loop() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/agvControl.py", line 191, in onCheckCharge() 
[04] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/mapMgr.py", line 142, in checkDoorClose() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 122, in _call() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 100, in release() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[08] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[WARNING]2021-04-28 14:53:24,493: AGV30 clear task finish, cur= meiwei428.9 task_status= 0
[DEBUG]2021-04-28 14:53:24,557: used 1227ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=6089065be6bcb7bc63aa86bb
[INFO]2021-04-28 14:53:24,684: task[6089065be6bcb7bc63aa86bb][-] 6(1) -> 7(8) [waitForAgv] apply AGV30
[INFO]2021-04-28 14:53:24,857: task[6089065be6bcb7bc63aa86bb] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 28, 14, 53, 24, 809720)}
[WARNING]2021-04-28 14:53:24,937: scada.6089065be6bcb7bc63aa86bb[tid:16144] <locked _thread.RLock object owner=16144 count=1 at 0x000001E8581949F0> ,hold 6949 ms
[INFO]2021-04-28 14:53:25,477: name=scada.6089065be6bcb7bc63aa86bb, pid=4760, tid=16144
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 14:53:25,573: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-28 14:53:26,100: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [initJackdown] _jackDown
[DEBUG]2021-04-28 14:53:26,195: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:53:26,435: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 14:53:26,563: ************run jackDownOld********************
[DEBUG]2021-04-28 14:53:27,662: used 1227ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:53:27,757: [return] use 1562 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 14:53:27,886: task[6089065be6bcb7bc63aa86bb] update info: {'failMsg': '前往MeiWeiSource工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 28, 14, 53, 27, 821593)}
[DEBUG]2021-04-28 14:53:27,981: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [moveToPreSrc] initJackdown -> moveToPreSrc
[INFO]2021-04-28 14:53:28,442: ***************调用move方法
[DEBUG]2021-04-28 14:53:28,540: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei428&isRotate&loc=meiwei428.1&location=1&taskId=6089065be6bcb7bc63aa86bb_2&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-04-28 14:53:28,561: Begin: AGV30 move from meiwei428.9 to meiwei428.1 by paths: [('meiwei428', ['9', '7', '12', '11', '10', '8', '6', '1'], 26.067652066750853)] task: 6089065be6bcb7bc63aa86bb_2 timeout 86400 used 18 ms
[INFO]2021-04-28 14:53:28,563: 移动到source的前置点 1
[DEBUG]2021-04-28 14:53:28,564: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish] moveToPreSrc -> moveToPreSrc_onfinish
[DEBUG]2021-04-28 14:53:29,202: agvInfo: AGV30 meiwei428.9 move to meiwei428.1 ,taskId 6089065be6bcb7bc63aa86bb_2
[DEBUG]2021-04-28 14:53:36,106: AGV30 set loc meiwei428.7 ,old 9 (23.56,0.77)
[DEBUG]2021-04-28 14:53:38,662: AGV30 set loc meiwei428.12 ,old 7 (21.46,0.68)
[DEBUG]2021-04-28 14:53:43,276: AGV30 set loc meiwei428.10 ,old 12 (17.75,0.56)
[DEBUG]2021-04-28 14:53:45,333: AGV30 set loc meiwei428.8 ,old 10 (16.10,0.56)
[DEBUG]2021-04-28 14:54:02,791: AGV30 set loc meiwei428.6 ,old 8 (2.15,0.27)
[DEBUG]2021-04-28 14:54:04,339: AGV30 set loc meiwei428.1 ,old 6 (2.12,1.10)
[SUCC]2021-04-28 14:54:05,466: Finish:  AGV30 arrived meiwei428.1 ,task: 6089065be6bcb7bc63aa86bb_2
[INFO]2021-04-28 14:54:05,813: task: move finish callback task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish]
[INFO]2021-04-28 14:54:05,815: **********等待料盒信号*************
[INFO]2021-04-28 14:54:06,107: ***************调用_moveJackup方法
[DEBUG]2021-04-28 14:54:06,126: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=6089065be6bcb7bc63aa86bb_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 14:54:06,148: Begin: AGV30 move from meiwei428.1 to meiwei428.6 by paths: [('meiwei428', ['1', '6'], 0.8303840339922958)] task: 6089065be6bcb7bc63aa86bb_3 timeout 86400 used 19 ms
[DEBUG]2021-04-28 14:54:06,150: used 24ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=6089065be6bcb7bc63aa86bb_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 14:54:06,153: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-28 14:54:06,153: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [loadPlayload] startMoveJackup -> loadPlayload
[INFO]2021-04-28 14:54:07,042: ------------------------根据agvControl中的_func来到agvList中的moveJackup---------------999--------
[DEBUG]2021-04-28 14:54:07,044: agvInfo: AGV30 meiwei428.1 move jackup to meiwei428.6 ,taskId 6089065be6bcb7bc63aa86bb_3
[DEBUG]2021-04-28 14:54:08,440: AGV30 set loc meiwei428.6 ,old 1 (2.15,0.27)
[SUCC]2021-04-28 14:54:09,600: Finish:  AGV30 arrived meiwei428.6 ,task: 6089065be6bcb7bc63aa86bb_3
[INFO]2021-04-28 14:54:09,998: task: move finish callback task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [loadPlayload]
[INFO]2021-04-28 14:54:10,001: ***************进入onFinish.loadPlayload**********************
[INFO]2021-04-28 14:54:10,007: task[6089065be6bcb7bc63aa86bb] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 28, 14, 54, 10, 4186)}
[DEBUG]2021-04-28 14:54:10,225: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-28 14:54:10,556: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-28 14:54:10,636: send http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:54:10,984: GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 14:54:11,064: ************run jackUpOld********************
[DEBUG]2021-04-28 14:54:12,164: used 1180ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:54:12,331: [return] use 1695 ms,http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 14:54:12,491: task[6089065be6bcb7bc63aa86bb] update info: {'failMsg': '等待MeiWeiTarget工位点锁', 'updateTime': datetime.datetime(2021, 4, 28, 14, 54, 12, 411541)}
[DEBUG]2021-04-28 14:54:12,571: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-28 14:54:13,097: task: prepoint locked  6089065be6bcb7bc63aa86bb meiwei428.7
[INFO]2021-04-28 14:54:13,271: task[6089065be6bcb7bc63aa86bb] update info: {'failMsg': '前往7工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 28, 14, 54, 13, 191457)}
[DEBUG]2021-04-28 14:54:13,382: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [movePreSource] waitDestPreLoc -> movePreSource
[INFO]2021-04-28 14:54:13,877: ***************进入目的地的前置点************
[INFO]2021-04-28 14:54:13,973: ***************调用move方法
[DEBUG]2021-04-28 14:54:14,055: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.8&location=8&p_direction=0.0&recognize=False&result=True&resultDesc=None&taskId=6089065be6bcb7bc63aa86bb_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 14:54:14,078: Begin: AGV30 move from meiwei428.6 to meiwei428.8 by paths: [('meiwei428', ['6', '8'], 13.796457493088086)] task: 6089065be6bcb7bc63aa86bb_4 timeout 86400 used 15 ms
[DEBUG]2021-04-28 14:54:14,080: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [movePreSourceStep] movePreSource -> movePreSourceStep
[DEBUG]2021-04-28 14:54:14,800: agvInfo: AGV30 meiwei428.6 move to meiwei428.8 ,taskId 6089065be6bcb7bc63aa86bb_4
[DEBUG]2021-04-28 14:54:34,143: AGV30 set loc meiwei428.8 ,old 6 (15.89,0.56)
[WARNING]2021-04-28 14:54:34,165: AGV30 waitFinish status error: 8 ,target= 8 task_status= 2
[SUCC]2021-04-28 14:54:35,689: Finish:  AGV30 arrived meiwei428.8 ,task: 6089065be6bcb7bc63aa86bb_4
[INFO]2021-04-28 14:54:35,782: task: move finish callback task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [movePreSourceStep]
[INFO]2021-04-28 14:54:35,785: ********************************目的地前置点的onFinish位置********************
[INFO]2021-04-28 14:54:35,786: 等待对接信号！ 2021-04-28 14:54:35
[INFO]2021-04-28 14:54:38,792: 等待对接信号！ 2021-04-28 14:54:38
[INFO]2021-04-28 14:54:41,802: 等待对接信号！ 2021-04-28 14:54:41
[INFO]2021-04-28 14:54:41,805: 检测到进去的信号，进入工位取料
[WARNING]2021-04-28 14:54:41,808: Thread-3[tid:12636] <locked _thread.RLock object owner=12636 count=1 at 0x000001E8581949F0> ,hold 6026 ms
[INFO]2021-04-28 14:54:41,815: name=Thread-3, pid=4760, tid=12636
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 14:54:41,824: ***************调用_moveJackdown方法
[DEBUG]2021-04-28 14:54:41,851: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6089065be6bcb7bc63aa86bb_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 14:54:41,859: Begin: AGV30 move from meiwei428.8 to meiwei428.7 by paths: [('meiwei428', ['8', '10', '11', '12', '7'], 7.566421730475428)] task: 6089065be6bcb7bc63aa86bb_5 timeout 86400 used 7 ms
[DEBUG]2021-04-28 14:54:41,861: used 11ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6089065be6bcb7bc63aa86bb_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 14:54:41,864: task[6089065be6bcb7bc63aa86bb] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 28, 14, 54, 41, 863738)}
[INFO]2021-04-28 14:54:41,868: 当前步骤： dropPayload
[WARNING]2021-04-28 14:54:41,868: scada.6089065be6bcb7bc63aa86bb[tid:16144] <locked _thread.RLock object owner=16144 count=1 at 0x000001E8581949F0> ,hold 5900 ms
[INFO]2021-04-28 14:54:41,870: name=scada.6089065be6bcb7bc63aa86bb, pid=4760, tid=16144
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 14:54:41,871: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [dropPayload] movePreSourceStep -> dropPayload
[INFO]2021-04-28 14:54:42,911: ------------------------根据agvControl中的_func来到agvList中的moveJackdown---------------999--------
[DEBUG]2021-04-28 14:54:42,913: agvInfo: AGV30 meiwei428.8 move jackdown to meiwei428.7 ,taskId 6089065be6bcb7bc63aa86bb_5
[DEBUG]2021-04-28 14:54:45,448: AGV30 set loc meiwei428.10 ,old 8 (17.65,0.56)
[DEBUG]2021-04-28 14:54:47,498: AGV30 set loc meiwei428.11 ,old 10 (19.33,0.57)
[DEBUG]2021-04-28 14:54:52,647: AGV30 set loc meiwei428.7 ,old 11 (23.51,0.77)
[WARNING]2021-04-28 14:54:53,162: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 14:54:53,677: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 14:54:54,194: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[SUCC]2021-04-28 14:54:55,723: Finish:  AGV30 arrived meiwei428.7 ,task: 6089065be6bcb7bc63aa86bb_5
[INFO]2021-04-28 14:54:55,788: task: move finish callback task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [dropPayload]
[INFO]2021-04-28 14:54:55,790: ******************假设是顶升*******************
[INFO]2021-04-28 14:54:55,792: task[6089065be6bcb7bc63aa86bb] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 4, 28, 14, 54, 55, 791696)}
[INFO]2021-04-28 14:54:55,923: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [dropPayloadJackdown] _jackDown
[DEBUG]2021-04-28 14:54:55,927: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:54:55,932: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 14:54:55,935: ************run jackDownOld********************
[DEBUG]2021-04-28 14:54:56,948: used 1016ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:54:57,091: [return] use 1164 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 14:54:57,155: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-04-28 14:54:57,711: task[6089065be6bcb7bc63aa86bb]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 4, 28, 14, 54, 57, 680048), 'status': 'success'}
[DEBUG]2021-04-28 14:54:57,823: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [finish] dropPayloadReset -> finish
[INFO]2021-04-28 14:54:58,348: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [finish] AGV30 release task, release agv True True False
[DEBUG]2021-04-28 14:54:58,574: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=6089065be6bcb7bc63aa86bb addr: 127.0.0.1
[DEBUG]2021-04-28 14:54:58,699: used 125ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=6089065be6bcb7bc63aa86bb
[DEBUG]2021-04-28 14:54:58,888: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=6089065be6bcb7bc63aa86bb addr: 127.0.0.1
[DEBUG]2021-04-28 14:54:58,984: unlock: AGV30 taskId 6089065be6bcb7bc63aa86bb app MeiWeiTask force False
[DEBUG]2021-04-28 14:54:59,112: used 224ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=6089065be6bcb7bc63aa86bb
[INFO]2021-04-28 14:54:59,336: task[6089065be6bcb7bc63aa86bb][AGV30] 6(1) -> 7(8) [finish] let AGV30 gohome
[DEBUG]2021-04-28 14:54:59,654: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-04-28 14:54:59,750: AGV30 gohome home_1 force False taskId home_1 : AGV30.7 -> meiwei428.9
[INFO]2021-04-28 14:55:01,240: Begin: AGV30 move from meiwei428.7 to meiwei428.9 by paths: [('meiwei428', ['7', '9'], 3.87438880919504)] task: home_1 timeout 10800 used 1410 ms
[DEBUG]2021-04-28 14:55:01,320: used 1666ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800
[INFO]2021-04-28 14:55:01,463: task: prepoint released2  6089065be6bcb7bc63aa86bb meiwei428.7
[WARNING]2021-04-28 14:55:01,559: scada.6089065be6bcb7bc63aa86bb[tid:16144] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=16144 count=1 at 0x000001E84F9D3030>> ,hold 3211 ms
[INFO]2021-04-28 14:55:01,733: name=scada.6089065be6bcb7bc63aa86bb, pid=4760, tid=16144
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 561, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 14:55:01,844: **********上一个按钮任务结束，重置状态，允许继续接受按钮任务************
[WARNING]2021-04-28 14:55:01,860: timer_thread[tid:17404] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=17404 count=1 at 0x000001E84F9D3030>> ,hold 3177 ms
[INFO]2021-04-28 14:55:01,924: 运行结束，重置running
[INFO]2021-04-28 14:55:02,132: task: stop task[6089065be6bcb7bc63aa86bb][-] 6(1) -> 7(8) [finish]
[INFO]2021-04-28 14:55:02,179: name=timer_thread, pid=4760, tid=17404
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 14:55:03,325: task: delete task 6089065be6bcb7bc63aa86bb
[DEBUG]2021-04-28 14:55:03,535: agvInfo: AGV30 meiwei428.7 move to meiwei428.9 ,taskId home_1
[DEBUG]2021-04-28 14:55:11,180: AGV30 set loc meiwei428.9 ,old 7 (27.28,0.85)
[WARNING]2021-04-28 14:55:11,500: AGV30 waitFinish status error: 9 ,target= 9 task_status= 2
[SUCC]2021-04-28 14:55:13,200: Finish:  AGV30 arrived meiwei428.9 ,task: home_1
[DEBUG]2021-04-28 14:55:13,344: unlock: AGV30 taskId None app None force False
[INFO]2021-04-28 14:58:01,851: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58300
[INFO]2021-04-28 14:58:01,931: **************回复线程启动**************
[INFO]2021-04-28 15:03:02,853: tcp server [0.0.0.0][10001] ,connectedLen: 3, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58301
[INFO]2021-04-28 15:03:02,979: **************回复线程启动**************
[INFO]2021-04-28 15:08:03,852: tcp server [0.0.0.0][10001] ,connectedLen: 4, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58302
[INFO]2021-04-28 15:08:03,931: **************回复线程启动**************
[INFO]2021-04-28 15:13:04,876: tcp server [0.0.0.0][10001] ,connectedLen: 5, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58303
[INFO]2021-04-28 15:13:05,036: **************回复线程启动**************
[INFO]2021-04-28 15:18:05,919: tcp server [0.0.0.0][10001] ,connectedLen: 6, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58304
[INFO]2021-04-28 15:18:06,095: **************回复线程启动**************
[INFO]2021-04-28 15:19:35,096: 按钮任务状态： False
[INFO]2021-04-28 15:19:35,192: ****************接受到的数据**************： devID: 223 keyID: 4
[INFO]2021-04-28 15:19:35,288: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-04-28 15:19:35,447: create task[60890c87e6bcb7bc63aa86bc]: type= scadaTask , 从MeiWeiSource运送货架到MeiWeiTarget {'source': 'MeiWeiSource', 'target': 'MeiWeiTarget', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从MeiWeiSource运送货架到MeiWeiTarget', 'createTime': datetime.datetime(2021, 4, 28, 15, 19, 35, 415875), 'updateTime': datetime.datetime(2021, 4, 28, 15, 19, 35, 415875), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('60890c87e6bcb7bc63aa86bc')}
[INFO]2021-04-28 15:19:35,778: task[60890c87e6bcb7bc63aa86bc]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 28, 15, 19, 35, 747988), 'updateTime': datetime.datetime(2021, 4, 28, 15, 19, 35, 747988), 'status': 'running'}
[INFO]2021-04-28 15:19:35,890: task: start task[60890c87e6bcb7bc63aa86bc][-] 6(1) -> 7(8) [waiting]
[INFO]2021-04-28 15:19:36,078: task[60890c87e6bcb7bc63aa86bc] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 28, 15, 19, 36, 312)}
[DEBUG]2021-04-28 15:19:36,237: task[60890c87e6bcb7bc63aa86bc][-] 6(1) -> 7(8) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-28 15:19:37,318: ******************url********************: http://127.0.0.1:5551
[INFO]2021-04-28 15:19:37,398: 信息*********map: meiwei423 agvId AGV30 tyepe: release loc home
[INFO]2021-04-28 15:19:37,526: 4 号工位放行
[DEBUG]2021-04-28 15:19:37,559: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei428&taskId=60890c87e6bcb7bc63aa86bc&timeout=10 addr: 127.0.0.1
[INFO]2021-04-28 15:19:39,075: apply AGV30 ,taskId: 60890c87e6bcb7bc63aa86bc ,loc meiwei428.1 ,autoLock False , used 1361 ms
[DEBUG]2021-04-28 15:19:39,171: used 1612ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei428&taskId=60890c87e6bcb7bc63aa86bc&timeout=10
[DEBUG]2021-04-28 15:19:39,332: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=60890c87e6bcb7bc63aa86bc addr: 127.0.0.1
[DEBUG]2021-04-28 15:19:39,458: lock:  AGV30 taskId 60890c87e6bcb7bc63aa86bc app MeiWeiTask
[WARNING]2021-04-28 15:19:40,603: AGV30 clear task finish, cur= meiwei428.9 task_status= 0
[DEBUG]2021-04-28 15:19:40,651: used 1319ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=60890c87e6bcb7bc63aa86bc
[INFO]2021-04-28 15:19:40,763: task[60890c87e6bcb7bc63aa86bc][-] 6(1) -> 7(8) [waitForAgv] apply AGV30
[INFO]2021-04-28 15:19:40,905: task[60890c87e6bcb7bc63aa86bc] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 28, 15, 19, 40, 841209)}
[WARNING]2021-04-28 15:19:41,016: scada.60890c87e6bcb7bc63aa86bc[tid:8780] <locked _thread.RLock object owner=8780 count=1 at 0x000001E857F95210> ,hold 3698 ms
[INFO]2021-04-28 15:19:41,142: name=scada.60890c87e6bcb7bc63aa86bc, pid=4760, tid=8780
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 15:19:41,300: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-28 15:19:41,678: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [initJackdown] _jackDown
[DEBUG]2021-04-28 15:19:41,774: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:19:41,966: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 15:19:42,060: ************run jackDownOld********************
[DEBUG]2021-04-28 15:19:43,237: used 1271ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:19:43,411: [return] use 1637 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 15:19:43,554: task[60890c87e6bcb7bc63aa86bc] update info: {'failMsg': '前往MeiWeiSource工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 28, 15, 19, 43, 507116)}
[DEBUG]2021-04-28 15:19:43,730: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [moveToPreSrc] initJackdown -> moveToPreSrc
[INFO]2021-04-28 15:19:44,239: ***************调用move方法
[DEBUG]2021-04-28 15:19:44,351: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei428&isRotate&loc=meiwei428.1&location=1&taskId=60890c87e6bcb7bc63aa86bc_2&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-04-28 15:19:44,391: Begin: AGV30 move from meiwei428.9 to meiwei428.1 by paths: [('meiwei428', ['9', '7', '12', '11', '10', '8', '6', '1'], 26.067652066750853)] task: 60890c87e6bcb7bc63aa86bc_2 timeout 86400 used 36 ms
[INFO]2021-04-28 15:19:44,397: 移动到source的前置点 1
[DEBUG]2021-04-28 15:19:44,399: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish] moveToPreSrc -> moveToPreSrc_onfinish
[DEBUG]2021-04-28 15:19:45,325: agvInfo: AGV30 meiwei428.9 move to meiwei428.1 ,taskId 60890c87e6bcb7bc63aa86bc_2
[DEBUG]2021-04-28 15:19:52,226: AGV30 set loc meiwei428.7 ,old 9 (23.51,0.77)
[DEBUG]2021-04-28 15:19:54,759: AGV30 set loc meiwei428.12 ,old 7 (21.46,0.68)
[DEBUG]2021-04-28 15:19:57,811: AGV30 set loc meiwei428.11 ,old 12 (19.08,0.56)
[DEBUG]2021-04-28 15:19:59,342: AGV30 set loc meiwei428.10 ,old 11 (17.80,0.56)
[DEBUG]2021-04-28 15:20:01,894: AGV30 set loc meiwei428.8 ,old 10 (15.84,0.56)
[DEBUG]2021-04-28 15:20:19,148: AGV30 set loc meiwei428.6 ,old 8 (2.15,0.27)
[DEBUG]2021-04-28 15:20:20,678: AGV30 set loc meiwei428.1 ,old 6 (2.12,1.10)
[SUCC]2021-04-28 15:20:21,882: Finish:  AGV30 arrived meiwei428.1 ,task: 60890c87e6bcb7bc63aa86bc_2
[INFO]2021-04-28 15:20:22,105: task: move finish callback task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish]
[INFO]2021-04-28 15:20:22,106: **********等待料盒信号*************
[INFO]2021-04-28 15:20:22,355: ***************调用_moveJackup方法
[DEBUG]2021-04-28 15:20:22,361: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=60890c87e6bcb7bc63aa86bc_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 15:20:22,375: Begin: AGV30 move from meiwei428.1 to meiwei428.6 by paths: [('meiwei428', ['1', '6'], 0.8303840339922958)] task: 60890c87e6bcb7bc63aa86bc_3 timeout 86400 used 13 ms
[DEBUG]2021-04-28 15:20:22,377: used 16ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=60890c87e6bcb7bc63aa86bc_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 15:20:22,379: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-28 15:20:22,380: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [loadPlayload] startMoveJackup -> loadPlayload
[INFO]2021-04-28 15:20:22,949: ------------------------根据agvControl中的_func来到agvList中的moveJackup---------------999--------
[DEBUG]2021-04-28 15:20:22,955: agvInfo: AGV30 meiwei428.1 move jackup to meiwei428.6 ,taskId 60890c87e6bcb7bc63aa86bc_3
[DEBUG]2021-04-28 15:20:24,741: AGV30 set loc meiwei428.6 ,old 1 (2.15,0.27)
[SUCC]2021-04-28 15:20:26,008: Finish:  AGV30 arrived meiwei428.6 ,task: 60890c87e6bcb7bc63aa86bc_3
[INFO]2021-04-28 15:20:26,203: task: move finish callback task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [loadPlayload]
[INFO]2021-04-28 15:20:26,204: ***************进入onFinish.loadPlayload**********************
[INFO]2021-04-28 15:20:26,206: task[60890c87e6bcb7bc63aa86bc] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 28, 15, 20, 26, 205929)}
[DEBUG]2021-04-28 15:20:26,437: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-28 15:20:26,800: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-28 15:20:26,944: send http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:20:27,070: GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 15:20:27,165: ************run jackUpOld********************
[DEBUG]2021-04-28 15:20:28,276: used 1206ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:20:28,404: [return] use 1461 ms,http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 15:20:28,482: task[60890c87e6bcb7bc63aa86bc] update info: {'failMsg': '等待MeiWeiTarget工位点锁', 'updateTime': datetime.datetime(2021, 4, 28, 15, 20, 28, 466881)}
[DEBUG]2021-04-28 15:20:28,515: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-28 15:20:28,894: task: prepoint locked  60890c87e6bcb7bc63aa86bc meiwei428.7
[INFO]2021-04-28 15:20:28,957: task[60890c87e6bcb7bc63aa86bc] update info: {'failMsg': '前往7工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 28, 15, 20, 28, 941657)}
[DEBUG]2021-04-28 15:20:29,036: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [movePreSource] waitDestPreLoc -> movePreSource
[INFO]2021-04-28 15:20:29,433: ***************进入目的地的前置点************
[INFO]2021-04-28 15:20:29,545: ***************调用move方法
[DEBUG]2021-04-28 15:20:29,595: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.8&location=8&p_direction=0.0&recognize=False&result=True&resultDesc=None&taskId=60890c87e6bcb7bc63aa86bc_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 15:20:29,629: Begin: AGV30 move from meiwei428.6 to meiwei428.8 by paths: [('meiwei428', ['6', '8'], 13.796457493088086)] task: 60890c87e6bcb7bc63aa86bc_4 timeout 86400 used 28 ms
[DEBUG]2021-04-28 15:20:29,633: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [movePreSourceStep] movePreSource -> movePreSourceStep
[DEBUG]2021-04-28 15:20:30,274: agvInfo: AGV30 meiwei428.6 move to meiwei428.8 ,taskId 60890c87e6bcb7bc63aa86bc_4
[DEBUG]2021-04-28 15:20:50,487: AGV30 set loc meiwei428.8 ,old 6 (15.95,0.56)
[SUCC]2021-04-28 15:20:51,594: Finish:  AGV30 arrived meiwei428.8 ,task: 60890c87e6bcb7bc63aa86bc_4
[INFO]2021-04-28 15:20:51,992: task: move finish callback task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [movePreSourceStep]
[INFO]2021-04-28 15:20:51,994: ********************************目的地前置点的onFinish位置********************
[INFO]2021-04-28 15:20:51,996: 等待对接信号！ 2021-04-28 15:20:51
[INFO]2021-04-28 15:20:55,008: 等待对接信号！ 2021-04-28 15:20:55
[INFO]2021-04-28 15:20:58,020: 等待对接信号！ 2021-04-28 15:20:58
[INFO]2021-04-28 15:20:58,022: 检测到进去的信号，进入工位取料
[WARNING]2021-04-28 15:20:58,023: Thread-3[tid:12636] <locked _thread.RLock object owner=12636 count=1 at 0x000001E857F95210> ,hold 6031 ms
[INFO]2021-04-28 15:20:58,025: name=Thread-3, pid=4760, tid=12636
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 15:20:58,027: ***************调用_moveJackdown方法
[DEBUG]2021-04-28 15:20:58,030: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=60890c87e6bcb7bc63aa86bc_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 15:20:58,044: Begin: AGV30 move from meiwei428.8 to meiwei428.7 by paths: [('meiwei428', ['8', '10', '11', '12', '7'], 7.566421730475428)] task: 60890c87e6bcb7bc63aa86bc_5 timeout 86400 used 12 ms
[DEBUG]2021-04-28 15:20:58,045: used 15ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=60890c87e6bcb7bc63aa86bc_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 15:20:58,048: task[60890c87e6bcb7bc63aa86bc] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 28, 15, 20, 58, 47798)}
[INFO]2021-04-28 15:20:58,050: 当前步骤： dropPayload
[WARNING]2021-04-28 15:20:58,051: scada.60890c87e6bcb7bc63aa86bc[tid:8780] <locked _thread.RLock object owner=8780 count=1 at 0x000001E857F95210> ,hold 5952 ms
[INFO]2021-04-28 15:20:58,055: name=scada.60890c87e6bcb7bc63aa86bc, pid=4760, tid=8780
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 15:20:58,056: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [dropPayload] movePreSourceStep -> dropPayload
[INFO]2021-04-28 15:20:58,769: ------------------------根据agvControl中的_func来到agvList中的moveJackdown---------------999--------
[DEBUG]2021-04-28 15:20:58,770: agvInfo: AGV30 meiwei428.8 move jackdown to meiwei428.7 ,taskId 60890c87e6bcb7bc63aa86bc_5
[DEBUG]2021-04-28 15:21:01,699: AGV30 set loc meiwei428.10 ,old 8 (17.80,0.56)
[DEBUG]2021-04-28 15:21:03,220: AGV30 set loc meiwei428.11 ,old 10 (19.03,0.56)
[DEBUG]2021-04-28 15:21:06,274: AGV30 set loc meiwei428.12 ,old 11 (21.52,0.68)
[DEBUG]2021-04-28 15:21:08,802: AGV30 set loc meiwei428.7 ,old 12 (23.51,0.77)
[WARNING]2021-04-28 15:21:08,930: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 15:21:09,442: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 15:21:09,944: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 15:21:10,455: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[SUCC]2021-04-28 15:21:11,963: Finish:  AGV30 arrived meiwei428.7 ,task: 60890c87e6bcb7bc63aa86bc_5
[INFO]2021-04-28 15:21:12,327: task: move finish callback task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [dropPayload]
[INFO]2021-04-28 15:21:12,329: ******************假设是顶升*******************
[INFO]2021-04-28 15:21:12,332: task[60890c87e6bcb7bc63aa86bc] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 4, 28, 15, 21, 12, 330612)}
[INFO]2021-04-28 15:21:12,404: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [dropPayloadJackdown] _jackDown
[DEBUG]2021-04-28 15:21:12,405: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:21:12,409: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 15:21:12,410: ************run jackDownOld********************
[DEBUG]2021-04-28 15:21:13,420: used 1011ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:21:13,563: [return] use 1158 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:21:13,658: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-04-28 15:21:14,151: task[60890c87e6bcb7bc63aa86bc]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 4, 28, 15, 21, 14, 119829), 'status': 'success'}
[DEBUG]2021-04-28 15:21:14,231: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [finish] dropPayloadReset -> finish
[INFO]2021-04-28 15:21:14,688: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [finish] AGV30 release task, release agv True True False
[DEBUG]2021-04-28 15:21:14,860: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=60890c87e6bcb7bc63aa86bc addr: 127.0.0.1
[DEBUG]2021-04-28 15:21:14,955: used 95ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=60890c87e6bcb7bc63aa86bc
[DEBUG]2021-04-28 15:21:15,255: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=60890c87e6bcb7bc63aa86bc addr: 127.0.0.1
[DEBUG]2021-04-28 15:21:15,351: unlock: AGV30 taskId 60890c87e6bcb7bc63aa86bc app MeiWeiTask force False
[DEBUG]2021-04-28 15:21:15,493: used 238ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=60890c87e6bcb7bc63aa86bc
[INFO]2021-04-28 15:21:15,633: task[60890c87e6bcb7bc63aa86bc][AGV30] 6(1) -> 7(8) [finish] let AGV30 gohome
[DEBUG]2021-04-28 15:21:15,790: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-04-28 15:21:15,916: AGV30 gohome home_2 force False taskId home_2 : AGV30.7 -> meiwei428.9
[INFO]2021-04-28 15:21:17,108: Begin: AGV30 move from meiwei428.7 to meiwei428.9 by paths: [('meiwei428', ['7', '9'], 3.87438880919504)] task: home_2 timeout 10800 used 1146 ms
[DEBUG]2021-04-28 15:21:17,135: used 1345ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800
[INFO]2021-04-28 15:21:17,243: task: prepoint released2  60890c87e6bcb7bc63aa86bc meiwei428.7
[INFO]2021-04-28 15:21:17,275: **********上一个按钮任务结束，重置状态，允许继续接受按钮任务************
[INFO]2021-04-28 15:21:17,339: 运行结束，重置running
[INFO]2021-04-28 15:21:17,387: task: stop task[60890c87e6bcb7bc63aa86bc][-] 6(1) -> 7(8) [finish]
[DEBUG]2021-04-28 15:21:18,322: task: delete task 60890c87e6bcb7bc63aa86bc
[DEBUG]2021-04-28 15:21:19,196: agvInfo: AGV30 meiwei428.7 move to meiwei428.9 ,taskId home_2
[DEBUG]2021-04-28 15:21:27,188: AGV30 set loc meiwei428.9 ,old 7 (27.38,0.85)
[SUCC]2021-04-28 15:21:28,452: Finish:  AGV30 arrived meiwei428.9 ,task: home_2
[DEBUG]2021-04-28 15:21:28,547: unlock: AGV30 taskId None app None force False
[INFO]2021-04-28 15:23:06,899: tcp server [0.0.0.0][10001] ,connectedLen: 7, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58305
[INFO]2021-04-28 15:23:07,041: **************回复线程启动**************
[INFO]2021-04-28 15:28:07,934: tcp server [0.0.0.0][10001] ,connectedLen: 8, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58306
[INFO]2021-04-28 15:28:08,064: **************回复线程启动**************
[INFO]2021-04-28 15:33:08,924: tcp server [0.0.0.0][10001] ,connectedLen: 9, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58307
[INFO]2021-04-28 15:33:09,018: **************回复线程启动**************
[INFO]2021-04-28 15:35:50,402: 按钮任务状态： False
[INFO]2021-04-28 15:35:50,450: ****************接受到的数据**************： devID: 223 keyID: 4
[INFO]2021-04-28 15:35:50,482: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-04-28 15:35:50,548: create task[60891056e6bcb7bc63aa86bd]: type= scadaTask , 从MeiWeiSource运送货架到MeiWeiTarget {'source': 'MeiWeiSource', 'target': 'MeiWeiTarget', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从MeiWeiSource运送货架到MeiWeiTarget', 'createTime': datetime.datetime(2021, 4, 28, 15, 35, 50, 546417), 'updateTime': datetime.datetime(2021, 4, 28, 15, 35, 50, 546417), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('60891056e6bcb7bc63aa86bd')}
[INFO]2021-04-28 15:35:51,151: task[60891056e6bcb7bc63aa86bd]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 28, 15, 35, 51, 87142), 'updateTime': datetime.datetime(2021, 4, 28, 15, 35, 51, 87142), 'status': 'running'}
[INFO]2021-04-28 15:35:51,262: task: start task[60891056e6bcb7bc63aa86bd][-] 6(1) -> 7(8) [waiting]
[INFO]2021-04-28 15:35:51,342: task[60891056e6bcb7bc63aa86bd] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 28, 15, 35, 51, 327461)}
[DEBUG]2021-04-28 15:35:51,563: task[60891056e6bcb7bc63aa86bd][-] 6(1) -> 7(8) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-28 15:35:51,640: 信息*********map: meiwei423 agvId AGV30 tyepe: release loc home
[INFO]2021-04-28 15:35:51,734: 4 号工位放行
[INFO]2021-04-28 15:35:52,754: ******************url********************: http://127.0.0.1:5551
[DEBUG]2021-04-28 15:35:52,944: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei428&taskId=60891056e6bcb7bc63aa86bd&timeout=10 addr: 127.0.0.1
[INFO]2021-04-28 15:35:54,325: apply AGV30 ,taskId: 60891056e6bcb7bc63aa86bd ,loc meiwei428.1 ,autoLock False , used 1286 ms
[DEBUG]2021-04-28 15:35:54,469: used 1525ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei428&taskId=60891056e6bcb7bc63aa86bd&timeout=10
[DEBUG]2021-04-28 15:35:54,677: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=60891056e6bcb7bc63aa86bd addr: 127.0.0.1
[DEBUG]2021-04-28 15:35:54,738: lock:  AGV30 taskId 60891056e6bcb7bc63aa86bd app MeiWeiTask
[WARNING]2021-04-28 15:35:55,854: AGV30 clear task finish, cur= meiwei428.9 task_status= 0
[DEBUG]2021-04-28 15:35:55,918: used 1242ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=60891056e6bcb7bc63aa86bd
[INFO]2021-04-28 15:35:55,998: task[60891056e6bcb7bc63aa86bd][-] 6(1) -> 7(8) [waitForAgv] apply AGV30
[INFO]2021-04-28 15:35:56,111: task[60891056e6bcb7bc63aa86bd] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 28, 15, 35, 56, 78111)}
[WARNING]2021-04-28 15:35:56,204: scada.60891056e6bcb7bc63aa86bd[tid:16972] <locked _thread.RLock object owner=16972 count=1 at 0x000001E858D754B0> ,hold 3450 ms
[INFO]2021-04-28 15:35:56,314: name=scada.60891056e6bcb7bc63aa86bd, pid=4760, tid=16972
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 15:35:56,410: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-28 15:35:56,809: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [initJackdown] _jackDown
[DEBUG]2021-04-28 15:35:56,920: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:35:57,031: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 15:35:57,062: ************run jackDownOld********************
[DEBUG]2021-04-28 15:35:58,204: used 1173ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:35:58,316: [return] use 1396 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 15:35:58,445: task[60891056e6bcb7bc63aa86bd] update info: {'failMsg': '前往MeiWeiSource工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 28, 15, 35, 58, 395788)}
[DEBUG]2021-04-28 15:35:58,507: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [moveToPreSrc] initJackdown -> moveToPreSrc
[INFO]2021-04-28 15:35:58,903: ***************调用move方法
[DEBUG]2021-04-28 15:35:58,985: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei428&isRotate&loc=meiwei428.1&location=1&taskId=60891056e6bcb7bc63aa86bd_2&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-04-28 15:35:59,033: Begin: AGV30 move from meiwei428.9 to meiwei428.1 by paths: [('meiwei428', ['9', '7', '12', '11', '10', '8', '6', '1'], 26.067652066750853)] task: 60891056e6bcb7bc63aa86bd_2 timeout 86400 used 44 ms
[INFO]2021-04-28 15:35:59,043: 移动到source的前置点 1
[DEBUG]2021-04-28 15:35:59,047: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish] moveToPreSrc -> moveToPreSrc_onfinish
[DEBUG]2021-04-28 15:35:59,932: agvInfo: AGV30 meiwei428.9 move to meiwei428.1 ,taskId 60891056e6bcb7bc63aa86bd_2
[DEBUG]2021-04-28 15:36:06,924: AGV30 set loc meiwei428.7 ,old 9 (23.40,0.76)
[DEBUG]2021-04-28 15:36:08,956: AGV30 set loc meiwei428.12 ,old 7 (21.72,0.69)
[DEBUG]2021-04-28 15:36:11,994: AGV30 set loc meiwei428.11 ,old 12 (19.33,0.57)
[DEBUG]2021-04-28 15:36:14,019: AGV30 set loc meiwei428.10 ,old 11 (17.75,0.56)
[DEBUG]2021-04-28 15:36:16,063: AGV30 set loc meiwei428.8 ,old 10 (16.10,0.56)
[DEBUG]2021-04-28 15:36:33,826: AGV30 set loc meiwei428.6 ,old 8 (2.15,0.27)
[DEBUG]2021-04-28 15:36:35,355: AGV30 set loc meiwei428.1 ,old 6 (2.12,1.10)
[SUCC]2021-04-28 15:36:36,512: Finish:  AGV30 arrived meiwei428.1 ,task: 60891056e6bcb7bc63aa86bd_2
[INFO]2021-04-28 15:36:36,692: task: move finish callback task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish]
[INFO]2021-04-28 15:36:36,693: **********等待料盒信号*************
[INFO]2021-04-28 15:36:36,989: ***************调用_moveJackup方法
[DEBUG]2021-04-28 15:36:36,994: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=60891056e6bcb7bc63aa86bd_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 15:36:37,011: Begin: AGV30 move from meiwei428.1 to meiwei428.6 by paths: [('meiwei428', ['1', '6'], 0.8303840339922958)] task: 60891056e6bcb7bc63aa86bd_3 timeout 86400 used 15 ms
[DEBUG]2021-04-28 15:36:37,013: used 19ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=60891056e6bcb7bc63aa86bd_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 15:36:37,016: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-28 15:36:37,017: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [loadPlayload] startMoveJackup -> loadPlayload
[INFO]2021-04-28 15:36:37,550: ------------------------根据agvControl中的_func来到agvList中的moveJackup---------------999--------
[DEBUG]2021-04-28 15:36:37,551: agvInfo: AGV30 meiwei428.1 move jackup to meiwei428.6 ,taskId 60891056e6bcb7bc63aa86bd_3
[DEBUG]2021-04-28 15:36:39,407: AGV30 set loc meiwei428.6 ,old 1 (2.15,0.27)
[SUCC]2021-04-28 15:36:40,600: Finish:  AGV30 arrived meiwei428.6 ,task: 60891056e6bcb7bc63aa86bd_3
[INFO]2021-04-28 15:36:40,794: task: move finish callback task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [loadPlayload]
[INFO]2021-04-28 15:36:40,796: ***************进入onFinish.loadPlayload**********************
[INFO]2021-04-28 15:36:40,799: task[60891056e6bcb7bc63aa86bd] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 28, 15, 36, 40, 797523)}
[DEBUG]2021-04-28 15:36:41,093: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-28 15:36:41,411: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-28 15:36:41,571: send http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:36:41,699: GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 15:36:41,747: ************run jackUpOld********************
[DEBUG]2021-04-28 15:36:42,813: used 1114ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:36:42,925: [return] use 1354 ms,http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 15:36:42,989: task[60891056e6bcb7bc63aa86bd] update info: {'failMsg': '等待MeiWeiTarget工位点锁', 'updateTime': datetime.datetime(2021, 4, 28, 15, 36, 42, 974033)}
[DEBUG]2021-04-28 15:36:43,036: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-28 15:36:43,445: task: prepoint locked  60891056e6bcb7bc63aa86bd meiwei428.7
[INFO]2021-04-28 15:36:43,525: task[60891056e6bcb7bc63aa86bd] update info: {'failMsg': '前往7工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 28, 15, 36, 43, 477643)}
[DEBUG]2021-04-28 15:36:43,589: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [movePreSource] waitDestPreLoc -> movePreSource
[INFO]2021-04-28 15:36:43,984: ***************进入目的地的前置点************
[INFO]2021-04-28 15:36:44,157: ***************调用move方法
[DEBUG]2021-04-28 15:36:44,272: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.8&location=8&p_direction=0.0&recognize=False&result=True&resultDesc=None&taskId=60891056e6bcb7bc63aa86bd_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 15:36:44,293: Begin: AGV30 move from meiwei428.6 to meiwei428.8 by paths: [('meiwei428', ['6', '8'], 13.796457493088086)] task: 60891056e6bcb7bc63aa86bd_4 timeout 86400 used 17 ms
[DEBUG]2021-04-28 15:36:44,297: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [movePreSourceStep] movePreSource -> movePreSourceStep
[DEBUG]2021-04-28 15:36:45,302: agvInfo: AGV30 meiwei428.6 move to meiwei428.8 ,taskId 60891056e6bcb7bc63aa86bd_4
[DEBUG]2021-04-28 15:37:04,426: AGV30 set loc meiwei428.8 ,old 6 (15.89,0.56)
[WARNING]2021-04-28 15:37:04,622: AGV30 waitFinish status error: 8 ,target= 8 task_status= 2
[SUCC]2021-04-28 15:37:06,143: Finish:  AGV30 arrived meiwei428.8 ,task: 60891056e6bcb7bc63aa86bd_4
[INFO]2021-04-28 15:37:06,209: task: move finish callback task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [movePreSourceStep]
[INFO]2021-04-28 15:37:06,211: ********************************目的地前置点的onFinish位置********************
[INFO]2021-04-28 15:37:06,212: 等待对接信号！ 2021-04-28 15:37:06
[INFO]2021-04-28 15:37:09,166: 按钮任务状态： True
[INFO]2021-04-28 15:37:09,168: ****************接受到的数据**************： devID: 223 keyID: 1
[INFO]2021-04-28 15:37:09,169: ********按钮值********: {'bt_1': 1, 'bt_2': 0, 'bt_3': 0}
[INFO]2021-04-28 15:37:09,184: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[INFO]2021-04-28 15:37:09,185: 1 号工位放行
[INFO]2021-04-28 15:37:09,223: 等待对接信号！ 2021-04-28 15:37:09
[INFO]2021-04-28 15:37:10,370: 按钮任务状态： True
[INFO]2021-04-28 15:37:10,372: ****************接受到的数据**************： devID: 223 keyID: 2
[INFO]2021-04-28 15:37:10,373: ********按钮值********: {'bt_1': 0, 'bt_2': 1, 'bt_3': 0}
[INFO]2021-04-28 15:37:10,389: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 15:37:10,391: 2 号工位放行
[INFO]2021-04-28 15:37:12,235: 等待对接信号！ 2021-04-28 15:37:12
[INFO]2021-04-28 15:37:12,237: 检测到进去的信号，进入工位取料
[WARNING]2021-04-28 15:37:12,240: Thread-3[tid:12636] <locked _thread.RLock object owner=12636 count=1 at 0x000001E858D754B0> ,hold 6031 ms
[INFO]2021-04-28 15:37:12,242: name=Thread-3, pid=4760, tid=12636
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 15:37:12,244: ***************调用_moveJackdown方法
[DEBUG]2021-04-28 15:37:12,248: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=60891056e6bcb7bc63aa86bd_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 15:37:12,264: Begin: AGV30 move from meiwei428.8 to meiwei428.7 by paths: [('meiwei428', ['8', '10', '11', '12', '7'], 7.566421730475428)] task: 60891056e6bcb7bc63aa86bd_5 timeout 86400 used 15 ms
[DEBUG]2021-04-28 15:37:12,266: used 18ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei428&isRotate&loc=meiwei428.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=60891056e6bcb7bc63aa86bd_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 15:37:12,271: task[60891056e6bcb7bc63aa86bd] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 28, 15, 37, 12, 270625)}
[INFO]2021-04-28 15:37:12,272: 当前步骤： dropPayload
[WARNING]2021-04-28 15:37:12,274: scada.60891056e6bcb7bc63aa86bd[tid:16972] <locked _thread.RLock object owner=16972 count=1 at 0x000001E858D754B0> ,hold 5797 ms
[INFO]2021-04-28 15:37:12,276: name=scada.60891056e6bcb7bc63aa86bd, pid=4760, tid=16972
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 15:37:12,277: 按钮任务状态： True
[DEBUG]2021-04-28 15:37:12,278: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [dropPayload] movePreSourceStep -> dropPayload
[INFO]2021-04-28 15:37:12,279: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 15:37:12,282: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[INFO]2021-04-28 15:37:12,296: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 15:37:12,298: 3 号工位放行
[INFO]2021-04-28 15:37:13,333: ------------------------根据agvControl中的_func来到agvList中的moveJackdown---------------999--------
[DEBUG]2021-04-28 15:37:13,335: agvInfo: AGV30 meiwei428.8 move jackdown to meiwei428.7 ,taskId 60891056e6bcb7bc63aa86bd_5
[DEBUG]2021-04-28 15:37:17,661: AGV30 set loc meiwei428.11 ,old 8 (19.18,0.56)
[DEBUG]2021-04-28 15:37:20,711: AGV30 set loc meiwei428.12 ,old 11 (21.62,0.68)
[DEBUG]2021-04-28 15:37:23,250: AGV30 set loc meiwei428.7 ,old 12 (23.51,0.77)
[WARNING]2021-04-28 15:37:23,510: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 15:37:24,029: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 15:37:24,542: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[SUCC]2021-04-28 15:37:26,061: Finish:  AGV30 arrived meiwei428.7 ,task: 60891056e6bcb7bc63aa86bd_5
[INFO]2021-04-28 15:37:26,510: task: move finish callback task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [dropPayload]
[INFO]2021-04-28 15:37:26,512: ******************假设是顶升*******************
[INFO]2021-04-28 15:37:26,515: task[60891056e6bcb7bc63aa86bd] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 4, 28, 15, 37, 26, 513547)}
[INFO]2021-04-28 15:37:26,586: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [dropPayloadJackdown] _jackDown
[DEBUG]2021-04-28 15:37:26,588: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:37:26,591: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 15:37:26,592: ************run jackDownOld********************
[DEBUG]2021-04-28 15:37:27,653: used 1062ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:37:27,765: [return] use 1177 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 15:37:27,828: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-04-28 15:37:28,303: task[60891056e6bcb7bc63aa86bd]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 4, 28, 15, 37, 28, 287485), 'status': 'success'}
[DEBUG]2021-04-28 15:37:28,447: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [finish] dropPayloadReset -> finish
[INFO]2021-04-28 15:37:29,032: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [finish] AGV30 release task, release agv True True False
[DEBUG]2021-04-28 15:37:29,256: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=60891056e6bcb7bc63aa86bd addr: 127.0.0.1
[DEBUG]2021-04-28 15:37:29,333: used 77ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=60891056e6bcb7bc63aa86bd
[DEBUG]2021-04-28 15:37:29,541: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=60891056e6bcb7bc63aa86bd addr: 127.0.0.1
[DEBUG]2021-04-28 15:37:29,680: unlock: AGV30 taskId 60891056e6bcb7bc63aa86bd app MeiWeiTask force False
[DEBUG]2021-04-28 15:37:29,773: used 232ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=60891056e6bcb7bc63aa86bd
[INFO]2021-04-28 15:37:29,852: task[60891056e6bcb7bc63aa86bd][AGV30] 6(1) -> 7(8) [finish] let AGV30 gohome
[DEBUG]2021-04-28 15:37:29,997: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-04-28 15:37:30,090: AGV30 gohome home_3 force False taskId home_3 : AGV30.7 -> meiwei428.9
[INFO]2021-04-28 15:37:31,311: Begin: AGV30 move from meiwei428.7 to meiwei428.9 by paths: [('meiwei428', ['7', '9'], 3.87438880919504)] task: home_3 timeout 10800 used 1142 ms
[DEBUG]2021-04-28 15:37:31,420: used 1424ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800
[INFO]2021-04-28 15:37:31,498: task: prepoint released2  60891056e6bcb7bc63aa86bd meiwei428.7
[INFO]2021-04-28 15:37:31,547: **********上一个按钮任务结束，重置状态，允许继续接受按钮任务************
[INFO]2021-04-28 15:37:31,575: 运行结束，重置running
[INFO]2021-04-28 15:37:31,715: task: stop task[60891056e6bcb7bc63aa86bd][-] 6(1) -> 7(8) [finish]
[DEBUG]2021-04-28 15:37:32,590: task: delete task 60891056e6bcb7bc63aa86bd
[DEBUG]2021-04-28 15:37:33,469: agvInfo: AGV30 meiwei428.7 move to meiwei428.9 ,taskId home_3
[DEBUG]2021-04-28 15:37:41,485: AGV30 set loc meiwei428.9 ,old 7 (27.38,0.85)
[SUCC]2021-04-28 15:37:43,341: Finish:  AGV30 arrived meiwei428.9 ,task: home_3
[DEBUG]2021-04-28 15:37:43,454: unlock: AGV30 taskId None app None force False
[INFO]2021-04-28 15:38:09,983: tcp server [0.0.0.0][10001] ,connectedLen: 10, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58308
[INFO]2021-04-28 15:38:10,093: **************回复线程启动**************
[INFO]2021-04-28 15:43:11,516: tcp server [0.0.0.0][10001] ,connectedLen: 11, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58309
[INFO]2021-04-28 15:43:11,548: **************回复线程启动**************
[INFO]2021-04-28 15:48:12,549: tcp server [0.0.0.0][10001] ,connectedLen: 12, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58310
[INFO]2021-04-28 15:48:12,799: **************回复线程启动**************
[INFO]2021-04-28 15:53:13,594: tcp server [0.0.0.0][10001] ,connectedLen: 13, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58311
[INFO]2021-04-28 15:53:13,706: **************回复线程启动**************
[INFO]2021-04-28 15:58:14,625: tcp server [0.0.0.0][10001] ,connectedLen: 14, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58312
[INFO]2021-04-28 15:58:15,179: **************回复线程启动**************
[ERROR]2021-04-28 15:59:13,379: user press Ctrl+C, system quit!
[WARNING]2021-04-28 15:59:13,486: runTask:stop save file
[ERROR]2021-04-28 15:59:13,610: process exited, living 1:06:14.522247 seconds
