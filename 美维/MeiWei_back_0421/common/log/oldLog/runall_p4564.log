[INFO]2021-04-20 17:02:59,139: log files at E:\projects_by_myself\MeiWei\common\log
[INFO]2021-04-20 17:02:59,140: find module account.main_account
[INFO]2021-04-20 17:02:59,141: find module agvCtrl.main_agv
[INFO]2021-04-20 17:02:59,142: find module agvDevice.main_agvDevice
[INFO]2021-04-20 17:02:59,143: find module akmCtrl.main_akmCtrl
[INFO]2021-04-20 17:02:59,143: find module alarm.main_alarm
[INFO]2021-04-20 17:02:59,144: find module auth.main_auth
[INFO]2021-04-20 17:02:59,145: find module door.main_door
[INFO]2021-04-20 17:02:59,146: find module elevator.main_elevator
[INFO]2021-04-20 17:02:59,146: find module feed.main_feed
[INFO]2021-04-20 17:02:59,226: find module remoteio.main_remoteio
[INFO]2021-04-20 17:02:59,229: import account.main_account
[INFO]2021-04-20 17:02:59,325: import agvCtrl.main_agv
[INFO]2021-04-20 17:03:00,168: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC8ADBEA0>>
[INFO]2021-04-20 17:03:01,001: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC8B3D420>>
[INFO]2021-04-20 17:03:01,108: create lock <lock name:timer.lock_2661958451744,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC9168390>>
[ERROR]2021-04-20 17:03:01,119: mqtt is disabled
[INFO]2021-04-20 17:03:01,122: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-20 17:03:01,123: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-20 17:03:04,158: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-20 17:03:04,182: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC9378D80>>
[WARNING]2021-04-20 17:03:04,194: use mockAgvCtrl
[INFO]2021-04-20 17:03:04,196: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC73D3360>>
[INFO]2021-04-20 17:03:04,863: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC9413690>>
[INFO]2021-04-20 17:03:04,866: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC94B64E0>>
[INFO]2021-04-20 17:03:04,935: charge policy 1 , fix time
[INFO]2021-04-20 17:03:04,981: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC94C00C0>>
[INFO]2021-04-20 17:03:05,364: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-20 17:03:05,512: elevator thread start
[INFO]2021-04-20 17:03:05,537: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\AKM2F.smap ,used 185 ms
[INFO]2021-04-20 17:03:05,547: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-20 17:03:05,610: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmt.smap ,used 72 ms
[INFO]2021-04-20 17:03:05,626: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-20 17:03:05,764: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\akmsmtMap.smap ,used 153 ms
[INFO]2021-04-20 17:03:05,777: start load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-20 17:03:05,936: load map E:\projects_by_myself\MeiWei\agvCtrl\projects\test\desai-all-20191223.smap ,used 171 ms
[INFO]2021-04-20 17:03:05,940: import agvDevice.main_agvDevice
[INFO]2021-04-20 17:03:05,942: import akmCtrl.main_akmCtrl
[INFO]2021-04-20 17:03:05,955: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC982EE40>>
[INFO]2021-04-20 17:03:05,960: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BC7E57540>>
[INFO]2021-04-20 17:03:06,446: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BCB3CC690>>
[INFO]2021-04-20 17:03:06,462: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BCB3CC210>>
[INFO]2021-04-20 17:03:06,472: create lock <lock name:timer.lock_2661992372832,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BCB1C1AB0>>
[INFO]2021-04-20 17:03:06,475: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BCB1D9600>>
[INFO]2021-04-20 17:03:06,510: import alarm.main_alarm
[INFO]2021-04-20 17:03:06,510: import auth.main_auth
[INFO]2021-04-20 17:03:06,517: import door.main_door
[INFO]2021-04-20 17:03:06,520: import elevator.main_elevator
[INFO]2021-04-20 17:03:06,524: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BCB34CCC0>>
[INFO]2021-04-20 17:03:06,525: import feed.main_feed
[INFO]2021-04-20 17:03:06,530: import remoteio.main_remoteio
[SUCC]2021-04-20 17:03:06,540: utility start, pid=4564, ppid=10084
[DEBUG]2021-04-20 17:03:06,541: start timer
[INFO]2021-04-20 17:03:06,548: load agv file: E:\projects_by_myself\MeiWei\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-20 17:03:06,549: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026BCB36D2D0>>
[DEBUG]2021-04-20 17:03:06,551: create aliveObj AGV30 AGV¿Îœﬂ“Ï≥£ timeout 300
[INFO]2021-04-20 17:03:06,552: AGV30 start agvList run thread
[INFO]2021-04-20 17:03:06,553: AGV30 start agvList run2 thread
[ERROR]2021-04-20 17:03:06,562: agv check init error False
[DEBUG]2021-04-20 17:03:06,564: start timer
[INFO]2021-04-20 17:03:06,576: add_ignore: taskStatus
[INFO]2021-04-20 17:03:06,577: add_ignore: api/elevator/status
[INFO]2021-04-20 17:03:06,578: add_ignore: scada/getTask
[INFO]2021-04-20 17:03:07,077: AGV30 current map AKM2F
[INFO]2021-04-20 17:03:07,078: AGV30 is online
[CRITICAL]2021-04-20 17:03:08,609: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000026BCB1D3CA0> cause a error: local variable 'g_init' referenced before assignment
pid=4564, ppid=10084, tid=7480
Traceback (most recent call last):
  File "..\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\MeiWei\akmCtrl\runTasks01.py", line 47, in run
    if not g_init:
UnboundLocalError: local variable 'g_init' referenced before assignment

[CRITICAL]2021-04-20 17:03:10,639: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000026BCB1D3CA0> cause a error: local variable 'g_init' referenced before assignment
pid=4564, ppid=10084, tid=7480
Traceback (most recent call last):
  File "..\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\MeiWei\akmCtrl\runTasks01.py", line 47, in run
    if not g_init:
UnboundLocalError: local variable 'g_init' referenced before assignment

[DEBUG]2021-04-20 17:03:12,566: GET: http://127.0.0.1:5551/api/agv/init?appName=akmTask addr: 127.0.0.1
[INFO]2021-04-20 17:03:12,568: akmTask init client agvApi
[DEBUG]2021-04-20 17:03:12,569: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=akmTask
[WARNING]2021-04-20 17:03:12,572: timer_thread[tid:17528] <locked _thread.RLock object owner=17528 count=1 at 0x0000026BCB3BCED0> ,hold 5026 ms
[INFO]2021-04-20 17:03:12,575: name=timer_thread, pid=4564, tid=17528
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/projects_by_myself/MeiWei/common/mytimer.py", line 113, in _loop() 
[03] File "E:/projects_by_myself/MeiWei/common/lock.py", line 122, in _call() 
[04] File "E:/projects_by_myself/MeiWei/common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/MeiWei/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/MeiWei/common/enhance.py", line 240, in getThreadStack()
[CRITICAL]2021-04-20 17:03:12,797: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000026BCB1D3CA0> cause a error: local variable 'g_init' referenced before assignment
pid=4564, ppid=10084, tid=7480
Traceback (most recent call last):
  File "..\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\MeiWei\akmCtrl\runTasks01.py", line 47, in run
    if not g_init:
UnboundLocalError: local variable 'g_init' referenced before assignment

[CRITICAL]2021-04-20 17:03:15,022: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000026BCB1D3CA0> cause a error: local variable 'g_init' referenced before assignment
pid=4564, ppid=10084, tid=7480
Traceback (most recent call last):
  File "..\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\MeiWei\akmCtrl\runTasks01.py", line 47, in run
    if not g_init:
UnboundLocalError: local variable 'g_init' referenced before assignment

[INFO]2021-04-20 17:03:16,012: startCharge is false
[CRITICAL]2021-04-20 17:03:17,211: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000026BCB1D3CA0> cause a error: local variable 'g_init' referenced before assignment
pid=4564, ppid=10084, tid=7480
Traceback (most recent call last):
  File "..\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\MeiWei\akmCtrl\runTasks01.py", line 47, in run
    if not g_init:
UnboundLocalError: local variable 'g_init' referenced before assignment

[CRITICAL]2021-04-20 17:03:19,471: invoke timer func<function lock.<locals>.call.<locals>._call at 0x0000026BCB1D3CA0> cause a error: local variable 'g_init' referenced before assignment
pid=4564, ppid=10084, tid=7480
Traceback (most recent call last):
  File "..\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "..\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\MeiWei\akmCtrl\runTasks01.py", line 47, in run
    if not g_init:
UnboundLocalError: local variable 'g_init' referenced before assignment

[ERROR]2021-04-20 17:03:20,569: user press Ctrl+C, system quit!
[ERROR]2021-04-20 17:03:20,726: user press Ctrl+C, system quit!
[WARNING]2021-04-20 17:03:20,790: runTask:stop save file
[ERROR]2021-04-20 17:03:20,886: process exited, living 0:00:14.424398 seconds
[ERROR]2021-04-20 17:03:20,918: user press Ctrl+C, system quit!
[WARNING]2021-04-20 17:03:20,997: runTask:stop save file
[ERROR]2021-04-20 17:03:21,077: process exited, living 0:00:14.615894 seconds
[ERROR]2021-04-20 17:03:21,141: user press Ctrl+C, system quit!
