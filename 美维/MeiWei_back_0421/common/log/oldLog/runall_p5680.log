[INFO]2021-06-15 09:29:54,626: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-15 09:29:54,627: find module account.main_account
[INFO]2021-06-15 09:29:54,628: find module agvCtrl.main_agv
[INFO]2021-06-15 09:29:54,628: find module agvDevice.main_agvDevice
[INFO]2021-06-15 09:29:54,629: find module akmCtrl.main_akmCtrl
[INFO]2021-06-15 09:29:54,629: find module alarm.main_alarm
[INFO]2021-06-15 09:29:54,630: find module auth.main_auth
[INFO]2021-06-15 09:29:54,633: find module door.main_door
[INFO]2021-06-15 09:29:54,634: find module elevator.main_elevator
[INFO]2021-06-15 09:29:54,634: find module feed.main_feed
[INFO]2021-06-15 09:29:54,635: find module remoteio.main_remoteio
[INFO]2021-06-15 09:29:54,635: import account.main_account
[INFO]2021-06-15 09:29:54,718: import agvCtrl.main_agv
[INFO]2021-06-15 09:29:55,006: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC8D9EDA0>>
[INFO]2021-06-15 09:29:55,022: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC8D9EF08>>
[INFO]2021-06-15 09:29:55,110: create lock <lock name:timer.lock_2056368103832,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC9116BE8>>
[ERROR]2021-06-15 09:29:55,124: mqtt is disabled
[INFO]2021-06-15 09:29:55,125: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-15 09:29:55,125: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-15 09:29:58,156: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-15 09:29:58,175: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC93D70A8>>
[WARNING]2021-06-15 09:29:58,192: use mockAgvCtrl
[INFO]2021-06-15 09:29:58,195: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC75DDC88>>
[INFO]2021-06-15 09:29:58,467: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC9488058>>
[INFO]2021-06-15 09:29:58,473: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC9488BE8>>
[INFO]2021-06-15 09:29:58,534: charge policy 1 , fix time
[INFO]2021-06-15 09:29:58,566: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC95010A8>>
[INFO]2021-06-15 09:29:59,189: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-15 09:29:59,287: elevator thread start
[INFO]2021-06-15 09:29:59,305: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 125 ms
[INFO]2021-06-15 09:29:59,314: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-15 09:29:59,361: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 55 ms
[INFO]2021-06-15 09:29:59,371: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-15 09:29:59,511: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 149 ms
[INFO]2021-06-15 09:29:59,521: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-15 09:29:59,630: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 118 ms
[INFO]2021-06-15 09:29:59,640: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-15 09:29:59,710: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 78 ms
[INFO]2021-06-15 09:29:59,720: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-15 09:29:59,768: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 56 ms
[INFO]2021-06-15 09:29:59,773: import agvDevice.main_agvDevice
[INFO]2021-06-15 09:29:59,774: import akmCtrl.main_akmCtrl
[INFO]2021-06-15 09:29:59,796: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC99940F8>>
[INFO]2021-06-15 09:29:59,808: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC99C8CD8>>
[INFO]2021-06-15 09:29:59,834: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC98F7B48>>
[INFO]2021-06-15 09:29:59,834: create lock <lock name:timer.lock_2056374289912,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC98DA350>>
[INFO]2021-06-15 09:29:59,838: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC81D9210>>
[INFO]2021-06-15 09:29:59,886: import alarm.main_alarm
[INFO]2021-06-15 09:29:59,897: import auth.main_auth
[INFO]2021-06-15 09:30:00,282: import door.main_door
[INFO]2021-06-15 09:30:00,286: import elevator.main_elevator
[INFO]2021-06-15 09:30:00,290: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DEC81D9D00>>
[INFO]2021-06-15 09:30:00,291: import feed.main_feed
[INFO]2021-06-15 09:30:00,294: IP: 0.0.0.0 port: 10001
[INFO]2021-06-15 09:30:00,295: import remoteio.main_remoteio
[SUCC]2021-06-15 09:30:00,307: utility start, pid=5680, ppid=15084
[DEBUG]2021-06-15 09:30:00,313: start timer
[INFO]2021-06-15 09:30:00,320: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-15 09:30:00,321: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001DECA0566E8>>
[DEBUG]2021-06-15 09:30:00,325: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-15 09:30:00,327: AGV30 start agvList run thread
[INFO]2021-06-15 09:30:00,327: AGV30 start agvList run2 thread
[DEBUG]2021-06-15 09:30:00,337: start timer
[ERROR]2021-06-15 09:30:00,338: agv check init error False
[WARNING]2021-06-15 09:30:00,345: Local server start! version 3.7.3, path C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common, pid 5680
[INFO]2021-06-15 09:30:00,347: add_ignore: taskStatus
[INFO]2021-06-15 09:30:00,351: add_ignore: api/elevator/status
[INFO]2021-06-15 09:30:00,351: add_ignore: scada/getTask
[INFO]2021-06-15 09:30:00,542: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61745
[INFO]2021-06-15 09:30:00,841: AGV30 current map meiwei428
[INFO]2021-06-15 09:30:00,845: AGV30 is online
[DEBUG]2021-06-15 09:30:01,368: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-15 09:30:01,370: MeiWeiTask init client agvApi
[DEBUG]2021-06-15 09:30:01,374: used 6ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-15 09:30:04,469: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-15 09:30:04,530: used 61ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-15 09:30:04,669: timer_thread[tid:16612] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=16612 count=1 at 0x000001DEC99940F8>> ,hold 3316 ms
[INFO]2021-06-15 09:30:04,961: name=timer_thread, pid=5680, tid=16612
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-15 09:30:10,553: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61745
[WARNING]2021-06-15 09:30:10,631: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61745
[INFO]2021-06-15 09:30:10,722: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61746
[INFO]2021-06-15 09:30:20,900: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61746
[WARNING]2021-06-15 09:30:20,962: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61746
[INFO]2021-06-15 09:30:21,086: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61747
[INFO]2021-06-15 09:30:25,685: {'21': {'loc': 'Locl', 'map': 'meiwei428'}, '23': {'loc': 'Loc2', 'map': 'meiwei428'}}
[INFO]2021-06-15 09:30:25,715: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-06-15 09:30:25,809: 21 0
[INFO]2021-06-15 09:30:25,903: ----------
[INFO]2021-06-15 09:30:25,967: <function g_allowNext at 0x000001DEC99BEB70>
[CRITICAL]2021-06-15 09:30:26,339: 192.168.252.159:10001 <--> 192.168.252.148:61747 error:  cause a error: 'function' object does not support item assignment
pid=5680, ppid=15084, tid=12076
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 171, in _handle
    objectUtil.setAllownext(devID=devID, sig=0)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\akmCtrl\utils\objectUtil.py", line 86, in setAllownext
    g_allowNext[devID] = sig
TypeError: 'function' object does not support item assignment

[INFO]2021-06-15 09:30:26,373: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61747
[WARNING]2021-06-15 09:30:26,430: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61747
[INFO]2021-06-15 09:30:26,554: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61748
[INFO]2021-06-15 09:30:36,708: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61748
[WARNING]2021-06-15 09:30:36,783: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61748
[INFO]2021-06-15 09:30:36,907: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61749
[INFO]2021-06-15 09:30:47,025: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61749
