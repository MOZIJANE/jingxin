[INFO]2021-04-27 17:14:35,106: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-04-27 17:14:35,108: find module account.main_account
[INFO]2021-04-27 17:14:35,109: find module agvCtrl.main_agv
[INFO]2021-04-27 17:14:35,110: find module agvDevice.main_agvDevice
[INFO]2021-04-27 17:14:35,110: find module akmCtrl.main_akmCtrl
[INFO]2021-04-27 17:14:35,112: find module alarm.main_alarm
[INFO]2021-04-27 17:14:35,113: find module auth.main_auth
[INFO]2021-04-27 17:14:35,114: find module door.main_door
[INFO]2021-04-27 17:14:35,115: find module elevator.main_elevator
[INFO]2021-04-27 17:14:35,116: find module feed.main_feed
[INFO]2021-04-27 17:14:35,117: find module feed.main_feed_0427
[INFO]2021-04-27 17:14:35,118: find module remoteio.main_remoteio
[INFO]2021-04-27 17:14:35,122: import account.main_account
[INFO]2021-04-27 17:14:35,228: import agvCtrl.main_agv
[INFO]2021-04-27 17:14:35,563: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDE6F6E70>>
[INFO]2021-04-27 17:14:36,421: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDE70B3F0>>
[INFO]2021-04-27 17:14:36,532: create lock <lock name:timer.lock_1975128400368,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDED3A360>>
[ERROR]2021-04-27 17:14:36,544: mqtt is disabled
[INFO]2021-04-27 17:14:36,545: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-27 17:14:36,546: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-27 17:14:39,584: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-27 17:14:39,621: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDEF4CD50>>
[WARNING]2021-04-27 17:14:39,637: use mockAgvCtrl
[INFO]2021-04-27 17:14:39,640: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDCFC4330>>
[INFO]2021-04-27 17:14:39,967: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDEFE57E0>>
[INFO]2021-04-27 17:14:39,970: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDF08BD20>>
[INFO]2021-04-27 17:14:40,042: charge policy 1 , fix time
[INFO]2021-04-27 17:14:40,077: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDF096900>>
[INFO]2021-04-27 17:14:40,627: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-27 17:14:40,743: elevator thread start
[INFO]2021-04-27 17:14:40,763: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 145 ms
[INFO]2021-04-27 17:14:40,774: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-27 17:14:40,827: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 61 ms
[INFO]2021-04-27 17:14:40,837: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-27 17:14:40,962: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 135 ms
[INFO]2021-04-27 17:14:40,972: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-27 17:14:41,123: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 159 ms
[INFO]2021-04-27 17:14:41,133: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-04-27 17:14:41,185: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 60 ms
[INFO]2021-04-27 17:14:41,194: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap
[INFO]2021-04-27 17:14:41,235: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap ,used 49 ms
[INFO]2021-04-27 17:14:41,239: import agvDevice.main_agvDevice
[INFO]2021-04-27 17:14:41,241: import akmCtrl.main_akmCtrl
[INFO]2021-04-27 17:14:41,260: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDF31BED0>>
[INFO]2021-04-27 17:14:41,276: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDF34A840>>
[INFO]2021-04-27 17:14:41,292: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBE1C02510>>
[INFO]2021-04-27 17:14:41,293: create lock <lock name:timer.lock_1975177489808,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBE1C0ACF0>>
[INFO]2021-04-27 17:14:41,295: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBDDAEB060>>
[INFO]2021-04-27 17:14:41,839: import alarm.main_alarm
[INFO]2021-04-27 17:14:41,841: import auth.main_auth
[INFO]2021-04-27 17:14:41,854: import door.main_door
[INFO]2021-04-27 17:14:41,856: import elevator.main_elevator
[INFO]2021-04-27 17:14:41,861: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBE3BCF120>>
[INFO]2021-04-27 17:14:41,862: import feed.main_feed
[INFO]2021-04-27 17:14:41,891: IP: 0.0.0.0 port: 10001
[INFO]2021-04-27 17:14:41,892: import feed.main_feed_0427
[INFO]2021-04-27 17:14:41,901: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBE3BF2900>>
[INFO]2021-04-27 17:14:41,942: import remoteio.main_remoteio
[SUCC]2021-04-27 17:14:41,956: utility start, pid=11564, ppid=17380
[DEBUG]2021-04-27 17:14:41,957: start timer
[INFO]2021-04-27 17:14:41,964: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-27 17:14:41,965: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001CBE3C0D9F0>>
[DEBUG]2021-04-27 17:14:41,967: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-04-27 17:14:41,968: AGV30 start agvList run thread
[INFO]2021-04-27 17:14:41,968: AGV30 start agvList run2 thread
[ERROR]2021-04-27 17:14:41,976: agv check init error False
[DEBUG]2021-04-27 17:14:41,978: start timer
[INFO]2021-04-27 17:14:41,983: add_ignore: taskStatus
[INFO]2021-04-27 17:14:41,983: add_ignore: api/elevator/status
[INFO]2021-04-27 17:14:41,984: add_ignore: scada/getTask
[INFO]2021-04-27 17:14:42,394: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60449
[INFO]2021-04-27 17:14:42,396: **************回复线程启动**************
[INFO]2021-04-27 17:14:42,492: AGV30 current map meiwei423
[INFO]2021-04-27 17:14:42,503: AGV30 is online
[DEBUG]2021-04-27 17:14:42,984: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-04-27 17:14:42,985: MeiWeiTask init client agvApi
[DEBUG]2021-04-27 17:14:42,987: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[INFO]2021-04-27 17:14:44,735: ****************接受到的数据**************： devID: 223 keyID: 1
[CRITICAL]2021-04-27 17:14:44,954: : 192.168.252.237:10001 <--> 192.168.252.242:60449 error:  cause a error: 'NoneType' object has no attribute 'split'
pid=11564, ppid=17380, tid=4752
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 61, in _handle
    getButtonInfo(devID,keyID)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 133, in getButtonInfo
    type,source,target = local.get(devID,keyID).split(",")
AttributeError: 'NoneType' object has no attribute 'split'

[INFO]2021-04-27 17:14:45,008: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60449
[WARNING]2021-04-27 17:14:45,008: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60449
[INFO]2021-04-27 17:14:45,022: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60450
[INFO]2021-04-27 17:14:45,101: **************回复线程启动**************
[INFO]2021-04-27 17:14:45,102: ****************接受到的数据**************： devID: 223 keyID: 0
[CRITICAL]2021-04-27 17:14:45,669: : 192.168.252.237:10001 <--> 192.168.252.242:60450 error:  cause a error: 'NoneType' object has no attribute 'split'
pid=11564, ppid=17380, tid=13564
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 61, in _handle
    getButtonInfo(devID,keyID)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 133, in getButtonInfo
    type,source,target = local.get(devID,keyID).split(",")
AttributeError: 'NoneType' object has no attribute 'split'

[INFO]2021-04-27 17:14:45,778: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60450
[WARNING]2021-04-27 17:14:45,920: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60450
[DEBUG]2021-04-27 17:14:46,110: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-04-27 17:14:46,237: used 127ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-04-27 17:14:46,331: timer_thread[tid:1020] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=1020 count=1 at 0x000001CBDF31BED0>> ,hold 3350 ms
[INFO]2021-04-27 17:14:46,536: name=timer_thread, pid=11564, tid=1020
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-27 17:14:46,962: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60451
[INFO]2021-04-27 17:14:47,089: **************回复线程启动**************
[CRITICAL]2021-04-27 17:14:57,200: : 192.168.252.237:10001 <--> 192.168.252.242:60451 time out cause a error: <tcpSocket.client object at 0x000001CBE3C5D8E0>
pid=11564, ppid=17380, tid=6236
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:14:57,328: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60451
[WARNING]2021-04-27 17:14:57,424: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60451
[INFO]2021-04-27 17:14:57,550: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60452
[INFO]2021-04-27 17:14:57,661: **************回复线程启动**************
[CRITICAL]2021-04-27 17:15:07,682: : 192.168.252.237:10001 <--> 192.168.252.242:60452 time out cause a error: <tcpSocket.client object at 0x000001CBE80388B0>
pid=11564, ppid=17380, tid=2580
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:15:07,791: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60452
[WARNING]2021-04-27 17:15:07,871: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60452
[INFO]2021-04-27 17:15:07,967: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60453
[INFO]2021-04-27 17:15:08,079: **************回复线程启动**************
[CRITICAL]2021-04-27 17:15:18,102: : 192.168.252.237:10001 <--> 192.168.252.242:60453 time out cause a error: <tcpSocket.client object at 0x000001CBE808AFD0>
pid=11564, ppid=17380, tid=12428
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:15:18,195: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60453
[WARNING]2021-04-27 17:15:18,273: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60453
[INFO]2021-04-27 17:15:18,432: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60454
[INFO]2021-04-27 17:15:18,481: **************回复线程启动**************
[CRITICAL]2021-04-27 17:15:28,548: : 192.168.252.237:10001 <--> 192.168.252.242:60454 time out cause a error: <tcpSocket.client object at 0x000001CBE808FE20>
pid=11564, ppid=17380, tid=8952
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:15:28,660: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60454
[WARNING]2021-04-27 17:15:28,740: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60454
[INFO]2021-04-27 17:15:28,883: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60455
[INFO]2021-04-27 17:15:28,980: **************回复线程启动**************
[CRITICAL]2021-04-27 17:15:39,074: : 192.168.252.237:10001 <--> 192.168.252.242:60455 time out cause a error: <tcpSocket.client object at 0x000001CBE3C5DB20>
pid=11564, ppid=17380, tid=15660
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:15:39,202: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60455
[WARNING]2021-04-27 17:15:39,281: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60455
[INFO]2021-04-27 17:15:39,409: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60456
[INFO]2021-04-27 17:15:39,521: **************回复线程启动**************
[ERROR]2021-04-27 17:15:42,521: user press Ctrl+C, system quit!
[WARNING]2021-04-27 17:15:42,572: runTask:stop save file
[ERROR]2021-04-27 17:15:42,711: process exited, living 0:01:01.457531 seconds
[ERROR]2021-04-27 17:15:42,727: user press Ctrl+C, system quit!
[WARNING]2021-04-27 17:15:42,821: runTask:stop save file
[ERROR]2021-04-27 17:15:42,914: user press Ctrl+C, system quit!
[WARNING]2021-04-27 17:15:43,010: runTask:stop save file
[ERROR]2021-04-27 17:15:43,089: process exited, living 0:01:01.835562 seconds
