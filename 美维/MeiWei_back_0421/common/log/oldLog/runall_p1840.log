[INFO]2021-06-10 22:06:37,678: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-10 22:06:37,681: find module account.main_account
[INFO]2021-06-10 22:06:37,683: find module agvCtrl.main_agv
[INFO]2021-06-10 22:06:37,685: find module agvDevice.main_agvDevice
[INFO]2021-06-10 22:06:37,689: find module akmCtrl.main_akmCtrl
[INFO]2021-06-10 22:06:37,692: find module alarm.main_alarm
[INFO]2021-06-10 22:06:37,694: find module auth.main_auth
[INFO]2021-06-10 22:06:37,696: find module door.main_door
[INFO]2021-06-10 22:06:37,697: find module elevator.main_elevator
[INFO]2021-06-10 22:06:37,699: find module feed.main_feed
[INFO]2021-06-10 22:06:37,701: find module remoteio.main_remoteio
[INFO]2021-06-10 22:06:37,706: import account.main_account
[INFO]2021-06-10 22:06:38,033: import agvCtrl.main_agv
[INFO]2021-06-10 22:06:39,186: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988D6BEDA0>>
[INFO]2021-06-10 22:06:39,188: ------acceptCallback-------------->>>> add
[INFO]2021-06-10 22:06:39,189: -------------------self._listenThread------------- <Thread(tcplisten.port_6789, initial)>
[INFO]2021-06-10 22:06:39,191: ----------------------------------try---------------------
[INFO]2021-06-10 22:06:39,222: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988D6BEF08>>
[INFO]2021-06-10 22:06:39,571: create lock <lock name:timer.lock_1754723323632,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988DA38B48>>
[ERROR]2021-06-10 22:06:39,623: mqtt is disabled
[INFO]2021-06-10 22:06:39,628: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-10 22:06:39,631: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-10 22:06:42,751: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-10 22:06:42,795: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988DBDDFD0>>
[WARNING]2021-06-10 22:06:42,842: use mockAgvCtrl
[INFO]2021-06-10 22:06:42,854: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000198FFEFEC88>>
[INFO]2021-06-10 22:06:43,328: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988DD2FF30>>
[INFO]2021-06-10 22:06:43,337: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988DDA9F80>>
[INFO]2021-06-10 22:06:43,582: charge policy 1 , fix time
[INFO]2021-06-10 22:06:43,638: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988DE23378>>
[INFO]2021-06-10 22:06:44,385: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-10 22:06:44,568: elevator thread start
[INFO]2021-06-10 22:06:44,594: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 218 ms
[INFO]2021-06-10 22:06:44,616: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-10 22:06:44,782: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 186 ms
[INFO]2021-06-10 22:06:44,804: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-10 22:06:45,018: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 234 ms
[INFO]2021-06-10 22:06:45,029: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-10 22:06:45,226: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 207 ms
[INFO]2021-06-10 22:06:45,270: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-10 22:06:45,428: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 198 ms
[INFO]2021-06-10 22:06:45,440: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-10 22:06:45,563: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 133 ms
[INFO]2021-06-10 22:06:45,577: import agvDevice.main_agvDevice
[INFO]2021-06-10 22:06:45,580: import akmCtrl.main_akmCtrl
[INFO]2021-06-10 22:06:45,671: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988E2B4080>>
[INFO]2021-06-10 22:06:45,708: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988E316508>>
[INFO]2021-06-10 22:06:45,770: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988E217B20>>
[INFO]2021-06-10 22:06:45,781: create lock <lock name:timer.lock_1754706828984,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988E1FB350>>
[INFO]2021-06-10 22:06:45,790: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988CAF7198>>
[INFO]2021-06-10 22:06:45,941: import alarm.main_alarm
[INFO]2021-06-10 22:06:45,961: import auth.main_auth
[INFO]2021-06-10 22:06:48,040: import door.main_door
[INFO]2021-06-10 22:06:48,059: import elevator.main_elevator
[INFO]2021-06-10 22:06:48,090: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988CAF7C88>>
[INFO]2021-06-10 22:06:48,094: import feed.main_feed
[INFO]2021-06-10 22:06:48,161: IP: 127.0.0.1 port: 10001
[INFO]2021-06-10 22:06:48,165: ------------准备start--------
[INFO]2021-06-10 22:06:48,742: ----------------准备打印------------
[INFO]2021-06-10 22:06:50,840: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-10 22:06:50,845: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001988E980030>>
[DEBUG]2021-06-10 22:06:50,854: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-10 22:06:50,857: AGV30 start agvList run thread
[INFO]2021-06-10 22:06:50,860: AGV30 start agvList run2 thread
[ERROR]2021-06-10 22:06:50,876: agv check init error False
[INFO]2021-06-10 22:06:51,203: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:06:51,210: ----------------准备打印------------
[INFO]2021-06-10 22:06:51,294: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:06:51,300: ----------------准备打印------------
[INFO]2021-06-10 22:06:51,408: AGV30 current map meiwei428
[INFO]2021-06-10 22:06:51,439: AGV30 is online
[INFO]2021-06-10 22:06:52,011: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:06:52,017: ----------------准备打印------------
[INFO]2021-06-10 22:06:52,317: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:06:52,322: ----------------准备打印------------
[INFO]2021-06-10 22:06:52,830: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:06:52,835: ----------------准备打印------------
[INFO]2021-06-10 22:06:53,140: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:06:53,145: ----------------准备打印------------
[INFO]2021-06-10 22:06:53,750: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:06:53,755: ----------------准备打印------------
[INFO]2021-06-10 22:06:54,057: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:06:54,063: ----------------准备打印------------
[INFO]2021-06-10 22:06:54,467: b'\xaf\x17\x06\x04\x03\xdf'
[INFO]2021-06-10 22:06:54,473: ----------------准备打印------------
[INFO]2021-06-10 22:07:00,512: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:00,515: ----------------准备打印------------
[INFO]2021-06-10 22:07:00,716: b'\xaf\x17\x06\x04\x02\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x03\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x04\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x03\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x04\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x03\xdf\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:00,722: ----------------准备打印------------
[INFO]2021-06-10 22:07:00,776: b'\xaf\x17\x06\x04\x02\xdf'
[INFO]2021-06-10 22:07:00,782: ----------------准备打印------------
[INFO]2021-06-10 22:07:05,519: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:05,525: ----------------准备打印------------
[INFO]2021-06-10 22:07:05,575: b'\xaf\x17\x06\x04\x01\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x03\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x04\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x04\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x03\xdf\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:05,582: ----------------准备打印------------
[INFO]2021-06-10 22:07:09,004: b'\xaf\x17\x06\x04\x02\xdf'
[INFO]2021-06-10 22:07:09,011: ----------------准备打印------------
[INFO]2021-06-10 22:07:09,059: b'\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x02\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x02\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x02\xdf\xaf\x17\x06\x04\x00\xdf\xaf\x17\x06\x04\x01\xdf\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:09,066: ----------------准备打印------------
[INFO]2021-06-10 22:07:09,206: b'\xaf\x17\x06\x04\x01\xdf'
[INFO]2021-06-10 22:07:09,210: ----------------准备打印------------
[INFO]2021-06-10 22:07:09,509: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:09,515: ----------------准备打印------------
[INFO]2021-06-10 22:07:09,817: b'\xaf\x17\x06\x04\x01\xdf'
[INFO]2021-06-10 22:07:09,821: ----------------准备打印------------
[INFO]2021-06-10 22:07:10,226: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:10,232: ----------------准备打印------------
[INFO]2021-06-10 22:07:10,532: b'\xaf\x17\x06\x04\x01\xdf'
[INFO]2021-06-10 22:07:10,539: ----------------准备打印------------
[INFO]2021-06-10 22:07:10,942: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:10,949: ----------------准备打印------------
[INFO]2021-06-10 22:07:18,517: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:07:18,523: ----------------准备打印------------
[INFO]2021-06-10 22:07:20,051: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:20,057: ----------------准备打印------------
[INFO]2021-06-10 22:07:25,370: b'\xaf\x17\x06\x04\x03\xdf'
[INFO]2021-06-10 22:07:25,375: ----------------准备打印------------
[INFO]2021-06-10 22:07:25,678: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:25,686: ----------------准备打印------------
[INFO]2021-06-10 22:07:26,709: b'\xaf\x17\x06\x04\x02\xdf'
[INFO]2021-06-10 22:07:26,718: ----------------准备打印------------
[INFO]2021-06-10 22:07:27,007: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:27,013: ----------------准备打印------------
[INFO]2021-06-10 22:07:29,055: b'\xaf\x17\x06\x04\x01\xdf'
[INFO]2021-06-10 22:07:29,060: ----------------准备打印------------
[INFO]2021-06-10 22:07:29,114: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:29,120: ----------------准备打印------------
[INFO]2021-06-10 22:07:33,866: b'\xaf\x17\x06\x04\x04\xdf'
[INFO]2021-06-10 22:07:33,871: ----------------准备打印------------
[INFO]2021-06-10 22:07:34,175: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:34,182: ----------------准备打印------------
[INFO]2021-06-10 22:07:38,574: b'\xaf\x17\x06\x04\x03\xdf'
[INFO]2021-06-10 22:07:38,581: ----------------准备打印------------
[INFO]2021-06-10 22:07:38,879: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:38,885: ----------------准备打印------------
[INFO]2021-06-10 22:07:48,089: b'\xaf\x17\x06\x04\x01\xdf'
[INFO]2021-06-10 22:07:48,094: ----------------准备打印------------
[INFO]2021-06-10 22:07:48,293: b'\xaf\x17\x06\x04\x00\xdf'
[INFO]2021-06-10 22:07:48,299: ----------------准备打印------------
[INFO]2021-06-10 22:07:58,308: import remoteio.main_remoteio
[SUCC]2021-06-10 22:07:58,364: utility start, pid=1840, ppid=22520
[DEBUG]2021-06-10 22:07:58,370: start timer
[DEBUG]2021-06-10 22:07:58,380: start timer
[INFO]2021-06-10 22:07:58,403: startCharge is false
[INFO]2021-06-10 22:07:58,419: add_ignore: taskStatus
[INFO]2021-06-10 22:07:58,423: add_ignore: api/elevator/status
[INFO]2021-06-10 22:07:58,428: add_ignore: scada/getTask
[CRITICAL]2021-06-10 22:08:00,479: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'MeiWeiTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=1840, ppid=22520, tid=22264
Traceback (most recent call last):
  File "C:\Python37\lib\urllib\request.py", line 1317, in do_open
    encode_chunked=req.has_header('Transfer-encoding'))
  File "C:\Python37\lib\http\client.py", line 1229, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1275, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1224, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python37\lib\http\client.py", line 1016, in _send_output
    self.send(msg)
  File "C:\Python37\lib\http\client.py", line 956, in send
    self.connect()
  File "C:\Python37\lib\http\client.py", line 928, in connect
    (self.host,self.port), self.timeout, self.source_address)
  File "C:\Python37\lib\socket.py", line 727, in create_connection
    raise err
  File "C:\Python37\lib\socket.py", line 716, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python37\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python37\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python37\lib\urllib\request.py", line 543, in _open
    '_open', req)
  File "C:\Python37\lib\urllib\request.py", line 503, in _call_chain
    result = func(*args)
  File "C:\Python37\lib\urllib\request.py", line 1345, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python37\lib\urllib\request.py", line 1319, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "..\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "..\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'MeiWeiTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[DEBUG]2021-06-10 22:08:01,515: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-10 22:08:01,523: MeiWeiTask init client agvApi
[DEBUG]2021-06-10 22:08:01,529: used 14ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-10 22:08:04,648: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-10 22:08:04,771: used 123ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-10 22:08:04,943: timer_thread[tid:22264] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=22264 count=1 at 0x000001988E2B4080>> ,hold 6552 ms
[INFO]2021-06-10 22:08:05,207: name=timer_thread, pid=1840, tid=22264
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
