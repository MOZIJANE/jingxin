[INFO]2021-04-06 13:01:02,283: log files at E:\安捷利电梯项目\AKMfloor\common\log
[INFO]2021-04-06 13:01:02,284: find module account.main_account
[INFO]2021-04-06 13:01:02,284: find module agvCtrl.main_agv
[INFO]2021-04-06 13:01:02,286: find module agvDevice.main_agvDevice
[INFO]2021-04-06 13:01:02,286: find module alarm.main_alarm
[INFO]2021-04-06 13:01:02,287: find module auth.main_auth
[INFO]2021-04-06 13:01:02,287: find module door.main_door
[INFO]2021-04-06 13:01:02,288: find module elevator.main_elevator
[INFO]2021-04-06 13:01:02,288: find module feed.main_feed
[INFO]2021-04-06 13:01:02,289: find module menu.main_menu
[INFO]2021-04-06 13:01:02,360: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-04-06 13:01:02,362: find module webFront.main_web
[INFO]2021-04-06 13:01:02,363: find module wmqtt.main_wmqtt
[INFO]2021-04-06 13:01:02,364: import account.main_account
[INFO]2021-04-06 13:01:02,467: import agvCtrl.main_agv
[INFO]2021-04-06 13:01:02,823: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0D827F60>>
[INFO]2021-04-06 13:01:03,757: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0D83B4E0>>
[INFO]2021-04-06 13:01:03,877: create lock <lock name:timer.lock_2877861503808,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0DE9A4B0>>
[ERROR]2021-04-06 13:01:03,890: mqtt is disabled
[INFO]2021-04-06 13:01:03,891: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-06 13:01:03,892: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-06 13:01:06,926: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-06 13:01:06,960: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F088B70>>
[INFO]2021-04-06 13:01:06,962: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F07EED0>>
[INFO]2021-04-06 13:01:07,175: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F093B10>>
[INFO]2021-04-06 13:01:07,476: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F14C660>>
[INFO]2021-04-06 13:01:07,481: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F1EC4B0>>
[INFO]2021-04-06 13:01:07,559: charge policy 1 , fix time
[INFO]2021-04-06 13:01:07,595: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F1F7090>>
[INFO]2021-04-06 13:01:07,946: start load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap
[DEBUG]2021-04-06 13:01:08,045: create aliveObj DOOR_01 门控离线异常 timeout 60
[DEBUG]2021-04-06 13:01:08,046: create aliveObj DOOR_02 门控离线异常 timeout 60
[DEBUG]2021-04-06 13:01:08,075: elevator thread start
[INFO]2021-04-06 13:01:08,114: load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap ,used 178 ms
[INFO]2021-04-06 13:01:08,133: start load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap
[INFO]2021-04-06 13:01:08,216: load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap ,used 101 ms
[INFO]2021-04-06 13:01:08,230: start load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\akmsmtMap.smap
[INFO]2021-04-06 13:01:08,478: load map E:\安捷利电梯项目\AKMfloor\agvCtrl\projects\AKMfloor\akmsmtMap.smap ,used 262 ms
[INFO]2021-04-06 13:01:08,482: import agvDevice.main_agvDevice
[INFO]2021-04-06 13:01:08,483: import alarm.main_alarm
[INFO]2021-04-06 13:01:08,484: import auth.main_auth
[INFO]2021-04-06 13:01:08,495: import door.main_door
[INFO]2021-04-06 13:01:08,498: import elevator.main_elevator
[INFO]2021-04-06 13:01:08,499: import feed.main_feed
[INFO]2021-04-06 13:01:08,516: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F527030>>
[INFO]2021-04-06 13:01:08,521: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E0F533750>>
[INFO]2021-04-06 13:01:09,281: import menu.main_menu
[INFO]2021-04-06 13:01:09,288: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-04-06 13:01:09,426: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E10033F90>>
[INFO]2021-04-06 13:01:09,427: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A2B330>>
[INFO]2021-04-06 13:01:09,433: import webFront.main_web
[INFO]2021-04-06 13:01:09,442: import wmqtt.main_wmqtt
[SUCC]2021-04-06 13:01:09,456: utility start, pid=16068, ppid=15228
[DEBUG]2021-04-06 13:01:09,457: start timer
[INFO]2021-04-06 13:01:09,475: load agv file: E:\安捷利电梯项目\AKMfloor\agvCtrl/projects/AKMfloor/agv.cfg
[INFO]2021-04-06 13:01:09,476: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A3E930>>
[DEBUG]2021-04-06 13:01:09,480: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-04-06 13:01:09,482: AGV30 start agvList run thread
[INFO]2021-04-06 13:01:09,483: AGV30 start agvList run2 thread
[INFO]2021-04-06 13:01:09,484: create lock <lock name:agv.AGV30.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A40C60>>
[DEBUG]2021-04-06 13:01:09,487: try connect AGV30 192.168.20.183:19204
[INFO]2021-04-06 13:01:09,489: add_ignore: taskStatus
[INFO]2021-04-06 13:01:09,490: add_ignore: api/elevator/status
[INFO]2021-04-06 13:01:09,491: add_ignore: scada/getTask
[INFO]2021-04-06 13:01:09,502: AGV30 connected 192.168.20.183 19204
[INFO]2021-04-06 13:01:09,503: create lock <lock name:agv.AGV30.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A40C90>>
[DEBUG]2021-04-06 13:01:09,504: try connect AGV30 192.168.20.183:19205
[INFO]2021-04-06 13:01:09,516: AGV30 connected 192.168.20.183 19205
[INFO]2021-04-06 13:01:09,521: create lock <lock name:agv.AGV30.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A40CC0>>
[DEBUG]2021-04-06 13:01:09,522: try connect AGV30 192.168.20.183:19206
[INFO]2021-04-06 13:01:09,535: AGV30 connected 192.168.20.183 19206
[INFO]2021-04-06 13:01:09,537: create lock <lock name:agv.AGV30.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A40CF0>>
[DEBUG]2021-04-06 13:01:09,538: try connect AGV30 192.168.20.183:19207
[INFO]2021-04-06 13:01:09,545: AGV30 connected 192.168.20.183 19207
[INFO]2021-04-06 13:01:09,548: create lock <lock name:agv.AGV30.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A40030>>
[DEBUG]2021-04-06 13:01:09,549: try connect AGV30 192.168.20.183:19208
[INFO]2021-04-06 13:01:09,561: AGV30 connected 192.168.20.183 19208
[INFO]2021-04-06 13:01:09,564: create lock <lock name:agv.AGV30.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000029E14A400F0>>
[DEBUG]2021-04-06 13:01:09,567: try connect AGV30 192.168.20.183:19210
[INFO]2021-04-06 13:01:09,577: AGV30 connected 192.168.20.183 19210
[INFO]2021-04-06 13:01:09,603: AGV30 current map AKM2F
[INFO]2021-04-06 13:01:09,641: AGV30 is online
[WARNING]2021-04-06 13:01:09,677: clear alarm obj=AGV30, typeId=52200, id=606bd7e07b43eb40d2cb467e
[DEBUG]2021-04-06 13:01:11,513: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-04-06 13:01:11,519: scadaTask init client agvApi
[DEBUG]2021-04-06 13:01:11,524: used 11ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[DEBUG]2021-04-06 13:01:14,693: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-04-06 13:01:14,754: used 61ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[WARNING]2021-04-06 13:01:14,958: timer_thread[tid:13448] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=13448 count=1 at 0x0000029E10033F90>> ,hold 3478 ms
[INFO]2021-04-06 13:01:15,192: name=timer_thread, pid=16068, tid=13448
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-06 13:01:17,714: GET: http://192.168.20.250:5551/api/manual/seat addr: 192.168.20.60
[DEBUG]2021-04-06 13:01:17,715: GET: http://192.168.20.250:5551/api/manual/seat addr: 192.168.20.60
[DEBUG]2021-04-06 13:01:17,792: GET: http://192.168.20.250:5551/api/manual/tasklist addr: 192.168.20.60
[DEBUG]2021-04-06 13:01:17,870: GET: http://192.168.20.250:5551/api/manual/seat addr: 192.168.20.60
[DEBUG]2021-04-06 13:01:17,979: used 108ms 200 OK application/json;charset=utf-8, GET: http://192.168.20.250:5551/api/manual/seat
[DEBUG]2021-04-06 13:01:18,695: GET: http://192.168.20.250:5551/api/agv/agvStatusList?mapId=akmsmtMap addr: 192.168.20.60
[DEBUG]2021-04-06 13:01:18,773: used 78ms 200 OK application/json;charset=utf-8, GET: http://192.168.20.250:5551/api/agv/agvStatusList?mapId=akmsmtMap
[DEBUG]2021-04-06 13:01:31,071: GET: http://192.168.20.250:5551/api/scada/addTask?source=%E4%BA%8C%E6%A5%BC%E5%B7%A5%E4%BD%8D_02&target=%E4%BA%8C%E6%A5%BC%E6%B5%8B%E8%AF%95%E7%82%B9 addr: 192.168.20.60
[INFO]2021-04-06 13:01:31,181: Scada send a task to the server from 二楼工位_02 to 二楼测试点 payloadId: None
[INFO]2021-04-06 13:01:31,350: create task[606beb2bacfc3effb27186f4]: type= scadaTask , 从二楼工位_02运送货架到二楼测试点 {'source': '二楼工位_02', 'target': '二楼测试点', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从二楼工位_02运送货架到二楼测试点', 'createTime': datetime.datetime(2021, 4, 6, 13, 1, 31, 303941), 'updateTime': datetime.datetime(2021, 4, 6, 13, 1, 31, 303941), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('606beb2bacfc3effb27186f4')}
[INFO]2021-04-06 13:01:31,568: task[606beb2bacfc3effb27186f4][-] AP32(LM34) -> LM9(LM40) [waiting] is inside False
[INFO]2021-04-06 13:01:31,645: task cmd: got a task from scada task[606beb2bacfc3effb27186f4][-] AP32(LM34) -> LM9(LM40) [waiting]
[DEBUG]2021-04-06 13:01:31,818: used 46ms 200 OK application/json;charset=utf-8, GET: http://192.168.20.250:5551/api/scada/addTask?source=%E4%BA%8C%E6%A5%BC%E5%B7%A5%E4%BD%8D_02&target=%E4%BA%8C%E6%A5%BC%E6%B5%8B%E8%AF%95%E7%82%B9
[INFO]2021-04-06 13:01:31,895: task[606beb2bacfc3effb27186f4]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 6, 13, 1, 31, 850132), 'updateTime': datetime.datetime(2021, 4, 6, 13, 1, 31, 850132), 'status': 'running'}
[INFO]2021-04-06 13:01:32,051: task: start task[606beb2bacfc3effb27186f4][-] AP32(LM34) -> LM9(LM40) [waiting]
[INFO]2021-04-06 13:01:32,163: task[606beb2bacfc3effb27186f4] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 6, 13, 1, 32, 160825)}
[DEBUG]2021-04-06 13:01:32,224: task[606beb2bacfc3effb27186f4][-] AP32(LM34) -> LM9(LM40) [waitForAgv] waiting -> waitForAgv
[DEBUG]2021-04-06 13:01:33,641: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=LM34&mapId=AKM2F&taskId=606beb2bacfc3effb27186f4&timeout=10 addr: 127.0.0.1
[INFO]2021-04-06 13:01:35,997: apply AGV30 ,taskId: 606beb2bacfc3effb27186f4 ,loc AKM2F.LM34 ,autoLock False , used 2263 ms
[DEBUG]2021-04-06 13:01:36,201: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=scadaTask&taskId=606beb2bacfc3effb27186f4 addr: 127.0.0.1
[DEBUG]2021-04-06 13:01:36,281: lock:  AGV30 taskId 606beb2bacfc3effb27186f4 app scadaTask
[WARNING]2021-04-06 13:01:37,391: AGV30 clear task finish, cur= AKM2F.AP29 task_status= 4
[DEBUG]2021-04-06 13:01:37,484: used 1283ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=scadaTask&taskId=606beb2bacfc3effb27186f4
[INFO]2021-04-06 13:01:37,611: task[606beb2bacfc3effb27186f4][-] AP32(LM34) -> LM9(LM40) [waitForAgv] apply AGV30
[INFO]2021-04-06 13:01:37,732: task[606beb2bacfc3effb27186f4] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 6, 13, 1, 37, 685110)}
[WARNING]2021-04-06 13:01:37,811: scada.606beb2bacfc3effb27186f4[tid:7532] <locked _thread.RLock object owner=7532 count=1 at 0x0000029E1746FD80> ,hold 4294 ms
[INFO]2021-04-06 13:01:37,934: name=scada.606beb2bacfc3effb27186f4, pid=16068, tid=7532
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/common/utility.py", line 167, in __call() 
[03] File "E:/安捷利电梯项目/AKMfloor/pharmapackCtrl/runTasks.py", line 728, in _taskFunc() 
[04] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 122, in _call() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-06 13:01:38,028: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-06 13:01:38,389: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [initJackdown] _jackDown
[DEBUG]2021-04-06 13:01:38,469: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-06 13:01:38,707: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-06 13:01:40,349: _jack in jackMgr: AGV30 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': True}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:01:40,489: AGV30 jack down status:  True
[DEBUG]2021-04-06 13:01:40,598: used 1890ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-06 13:01:40,770: [return] use 2301 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-06 13:01:40,898: task[606beb2bacfc3effb27186f4] update info: {'failMsg': '前往二楼工位_02工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 6, 13, 1, 40, 831709)}
[DEBUG]2021-04-06 13:01:40,971: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [startMoveJackup] initJackdown -> startMoveJackup
[DEBUG]2021-04-06 13:01:41,362: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=scadaTask&direction=None&floorId=AKM2F&isRotate&loc=AKM2F.AP32&location=AP32&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=606beb2bacfc3effb27186f4_2&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-06 13:01:41,455: Begin: AGV30 move from AKM2F.AP29 to AKM2F.AP32 by paths: [('AKM2F', ['AP29', 'LM31', 'LM30', 'LM34', 'AP32'], 4.568999999999999)] task: 606beb2bacfc3effb27186f4_2 timeout 86400 used 64 ms
[DEBUG]2021-04-06 13:01:41,458: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [loadPlayload] startMoveJackup -> loadPlayload
[DEBUG]2021-04-06 13:01:42,255: agvInfo: AGV30 AKM2F.AP29 move to AKM2F.LM31 ,taskId 606beb2bacfc3effb27186f4_2
[INFO]2021-04-06 13:01:42,257: goTarget {'id': 'LM31'}
[CRITICAL]2021-04-06 13:01:42,479: agvApi step callback cause a error: 'dict' object is not callable
pid=16068, ppid=15228, tid=3564
Traceback (most recent call last):
  File "E:\安捷利电梯项目\AKMfloor\agvCtrl\agvApi.py", line 261, in _checkFinish
    t.stepCallback(t.params,t.status)
TypeError: 'dict' object is not callable

[DEBUG]2021-04-06 13:01:44,098: AGV30 turn to wait check cur AP29 next LM30 0.992 False
[DEBUG]2021-04-06 13:01:44,634: agvInfo: AGV30 AKM2F.AP29 move to AKM2F.LM30 ,taskId 606beb2bacfc3effb27186f4_2
[INFO]2021-04-06 13:01:44,636: goTarget {'id': 'LM30'}
[CRITICAL]2021-04-06 13:01:45,079: agvApi step callback cause a error: 'dict' object is not callable
pid=16068, ppid=15228, tid=3564
Traceback (most recent call last):
  File "E:\安捷利电梯项目\AKMfloor\agvCtrl\agvApi.py", line 261, in _checkFinish
    t.stepCallback(t.params,t.status)
TypeError: 'dict' object is not callable

[DEBUG]2021-04-06 13:01:48,849: AGV30 set loc AKM2F.LM31 ,old AP29 (-13.75,-15.14)
[DEBUG]2021-04-06 13:01:54,669: AGV30 turn to wait check cur LM31 next LM34 0.897 False
[DEBUG]2021-04-06 13:01:55,222: agvInfo: AGV30 AKM2F.LM31 move to AKM2F.LM34 ,taskId 606beb2bacfc3effb27186f4_2
[INFO]2021-04-06 13:01:55,225: goTarget {'id': 'LM34'}
[CRITICAL]2021-04-06 13:01:55,494: agvApi step callback cause a error: 'dict' object is not callable
pid=16068, ppid=15228, tid=3564
Traceback (most recent call last):
  File "E:\安捷利电梯项目\AKMfloor\agvCtrl\agvApi.py", line 261, in _checkFinish
    t.stepCallback(t.params,t.status)
TypeError: 'dict' object is not callable

[DEBUG]2021-04-06 13:01:56,035: AGV30 set loc AKM2F.LM30 ,old LM31 (-13.88,-14.14)
[DEBUG]2021-04-06 13:02:07,261: AGV30 turn to wait check cur LM30 next AP32 0.864 False
[DEBUG]2021-04-06 13:02:07,819: agvInfo: AGV30 AKM2F.LM30 move jackup to AKM2F.AP32 ,taskId 606beb2bacfc3effb27186f4_2
[CRITICAL]2021-04-06 13:02:07,908: agvApi step callback cause a error: 'dict' object is not callable
pid=16068, ppid=15228, tid=3564
Traceback (most recent call last):
  File "E:\安捷利电梯项目\AKMfloor\agvCtrl\agvApi.py", line 261, in _checkFinish
    t.stepCallback(t.params,t.status)
TypeError: 'dict' object is not callable

[ERROR]2021-04-06 13:02:08,688: raise alarm obj=AGV30, typeId=54231, desc=AGV异常, id=606beb507b43eb40d2cb5f89
[WARNING]2021-04-06 13:02:09,072: AGV30 waitFinish: loc is diff LM30 AP32 task_status= 2
[WARNING]2021-04-06 13:02:09,598: AGV30 waitFinish: loc is diff LM30 AP32 task_status= 2
[WARNING]2021-04-06 13:02:10,111: AGV30 waitFinish: loc is diff LM30 AP32 task_status= 2
[WARNING]2021-04-06 13:02:10,627: AGV30 waitFinish: loc is diff LM30 AP32 task_status= 2
[WARNING]2021-04-06 13:02:11,139: AGV30 waitFinish: loc is diff LM30 AP32 task_status= 2
[DEBUG]2021-04-06 13:02:11,431: AGV30 set loc AKM2F.LM34 ,old LM30 (-15.05,-13.94)
[WARNING]2021-04-06 13:02:11,657: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:12,170: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:12,684: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:13,215: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:13,730: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:14,243: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:14,760: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:15,276: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:15,789: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:16,303: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:16,822: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:17,334: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:17,852: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:18,369: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:18,887: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:19,399: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[ERROR]2021-04-06 13:02:19,561: raise alarm obj=AGV30, typeId=52200, desc=AGV异常, id=606beb5b7b43eb40d2cb5fa6
[WARNING]2021-04-06 13:02:19,915: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:20,430: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:20,946: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:21,460: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:21,977: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:22,490: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:23,007: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:23,521: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:24,034: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:24,399: clear alarm obj=AGV30, typeId=52200, id=606beb5b7b43eb40d2cb5fa6
[WARNING]2021-04-06 13:02:24,563: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:25,082: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:25,597: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:26,113: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:26,627: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:27,145: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:27,662: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:28,175: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:28,692: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:29,223: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:29,735: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:30,250: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:30,766: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:31,282: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:31,790: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[ERROR]2021-04-06 13:02:32,244: raise alarm obj=AGV30, typeId=52200, desc=AGV异常, id=606beb687b43eb40d2cb5fff
[WARNING]2021-04-06 13:02:32,303: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:32,819: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:33,333: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:33,848: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:34,366: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:34,881: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:35,398: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:35,908: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:36,423: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:36,941: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:37,453: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:37,965: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:38,480: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:38,999: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:39,512: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:40,032: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:40,066: clear alarm obj=AGV30, typeId=54231, id=606beb507b43eb40d2cb5f89
[WARNING]2021-04-06 13:02:40,084: clear alarm obj=AGV30, typeId=52200, id=606beb687b43eb40d2cb5fff
[WARNING]2021-04-06 13:02:40,550: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:41,063: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:41,570: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:42,108: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:42,634: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:43,144: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:43,662: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:44,173: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:44,688: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:45,203: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[WARNING]2021-04-06 13:02:45,718: AGV30 waitFinish: loc is diff LM34 AP32 task_status= 2
[DEBUG]2021-04-06 13:02:46,203: AGV30 set loc AKM2F.AP32 ,old LM34 (-15.16,-13.05)
[SUCC]2021-04-06 13:02:49,301: Finish:  AGV30 arrived AKM2F.AP32 ,task: 606beb2bacfc3effb27186f4_2
[INFO]2021-04-06 13:02:49,808: task: move finish callback task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [loadPlayload]
[INFO]2021-04-06 13:02:49,815: task[606beb2bacfc3effb27186f4] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 6, 13, 2, 49, 812702)}
[DEBUG]2021-04-06 13:02:49,972: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-06 13:02:50,285: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-06 13:02:50,289: send http_get: http://127.0.0.1:5551/api/agv/jackup?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-06 13:02:50,294: GET: http://127.0.0.1:5551/api/agv/jackup?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-06 13:02:52,470: _jack in jackMgr: AGV30 up [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': True}, {'id': 21, 'source': 'modbus', 'status': True}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': True}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:02:53,918: _jack in jackMgr: AGV30 up [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': True}, {'id': 21, 'source': 'modbus', 'status': True}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:02:55,225: _jack in jackMgr: AGV30 up [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:02:56,667: _jack in jackMgr: AGV30 up [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': True}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:02:56,744: AGV30 jack up status:  True
[DEBUG]2021-04-06 13:02:56,946: used 6651ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackup?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-06 13:02:57,069: [return] use 6780 ms,http_get: http://127.0.0.1:5551/api/agv/jackup?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-06 13:02:57,164: task[606beb2bacfc3effb27186f4] update info: {'failMsg': '等待二楼测试点工位点锁', 'updateTime': datetime.datetime(2021, 4, 6, 13, 2, 57, 162874)}
[WARNING]2021-04-06 13:02:57,224: scada.606beb2bacfc3effb27186f4[tid:7532] <locked _thread.RLock object owner=7532 count=1 at 0x0000029E1746FD80> ,hold 6940 ms
[INFO]2021-04-06 13:02:57,350: name=scada.606beb2bacfc3effb27186f4, pid=16068, tid=7532
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/common/utility.py", line 167, in __call() 
[03] File "E:/安捷利电梯项目/AKMfloor/pharmapackCtrl/runTasks.py", line 728, in _taskFunc() 
[04] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 122, in _call() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-06 13:02:57,493: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-06 13:02:58,054: task: prepoint locked  606beb2bacfc3effb27186f4 AKM2F.LM9
[INFO]2021-04-06 13:02:58,167: task[606beb2bacfc3effb27186f4] update info: {'failMsg': '前往LM9工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 6, 13, 2, 58, 164699)}
[DEBUG]2021-04-06 13:02:58,211: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [movePreSource] waitDestPreLoc -> movePreSource
[DEBUG]2021-04-06 13:02:58,714: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=scadaTask&direction=None&floorId=AKM2F&isRotate&loc=AKM2F.LM40&location=LM40&p_direction=0.0&pgv_type=1&recognize=False&result=True&resultDesc=None&taskId=606beb2bacfc3effb27186f4_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-06 13:02:58,806: Begin: AGV30 move from AKM2F.AP32 to AKM2F.LM40 by paths: [('AKM2F', ['AP32', 'LM34', 'LM39', 'LM37', 'LM18', 'LM40'], 12.448)] task: 606beb2bacfc3effb27186f4_3 timeout 86400 used 85 ms
[DEBUG]2021-04-06 13:02:58,819: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [dropPayloadMove] movePreSource -> dropPayloadMove
[DEBUG]2021-04-06 13:02:59,134: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=scadaTask&direction=None&floorId=AKM2F&isRotate&loc=AKM2F.LM9&location=LM9&p_direction=0.0&pgv_type=1&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=606beb2bacfc3effb27186f4_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[WARNING]2021-04-06 13:02:59,139: AGV30 is running, task_status= 4 ,running taskId= 606beb2bacfc3effb27186f4_3 ,taskId= 606beb2bacfc3effb27186f4_4
[WARNING]2021-04-06 13:02:59,141: AGV30 clear task,taskId= 606beb2bacfc3effb27186f4_3 map= AKM2F paths= AP32,LM34,LM39,LM37,LM18,LM40 task_status= 4
[WARNING]2021-04-06 13:03:00,156: AGV30 clear task finish, cur= AKM2F.AP32 task_status= 4
[INFO]2021-04-06 13:03:00,179: Begin: AGV30 move from AKM2F.AP32 to AKM2F.LM9 by paths: [('AKM2F', ['AP32', 'LM34', 'LM39', 'LM37', 'LM18', 'LM40', 'LM17', 'LM16', 'LM44', 'LM43', 'LM14', 'LM13', 'LM12', 'LM11', 'LM9'], 51.33450817088753)] task: 606beb2bacfc3effb27186f4_4 timeout 86400 used 1040 ms
[INFO]2021-04-06 13:03:00,183: task[606beb2bacfc3effb27186f4] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 6, 13, 3, 0, 182870)}
[DEBUG]2021-04-06 13:03:00,185: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [dropPayload] dropPayloadMove -> dropPayload
[DEBUG]2021-04-06 13:03:00,928: agvInfo: AGV30 AKM2F.AP32 move to AKM2F.LM34 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:00,929: goTarget {'id': 'LM34'}
[DEBUG]2021-04-06 13:03:02,758: AGV30 turn to wait check cur AP32 next LM39 0.854 False
[DEBUG]2021-04-06 13:03:03,339: agvInfo: AGV30 AKM2F.AP32 move to AKM2F.LM39 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:03,341: goTarget {'id': 'LM39'}
[DEBUG]2021-04-06 13:03:04,702: AGV30 set loc AKM2F.LM34 ,old AP32 (-15.16,-13.90)
[DEBUG]2021-04-06 13:03:05,101: AGV30 choise next pos cur LM34 next LM37 pre LM39 2.755 False
[DEBUG]2021-04-06 13:03:05,106: AGV30 turn to wait check cur LM34 next LM37 2.755 False
[DEBUG]2021-04-06 13:03:05,654: agvInfo: AGV30 AKM2F.LM34 move to AKM2F.LM37 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:05,655: goTarget {'id': 'LM37'}
[DEBUG]2021-04-06 13:03:15,115: AGV30 turn to wait check cur LM34 next LM18 0.584 False
[DEBUG]2021-04-06 13:03:15,704: agvInfo: AGV30 AKM2F.LM34 move to AKM2F.LM18 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:15,706: goTarget {'id': 'LM18'}
[DEBUG]2021-04-06 13:03:15,949: AGV30 set loc AKM2F.LM37 ,old LM34 (-15.14,-16.63)
[DEBUG]2021-04-06 13:03:25,184: AGV30 turn to wait check cur LM37 next LM40 0.702 False
[DEBUG]2021-04-06 13:03:25,852: agvInfo: AGV30 AKM2F.LM37 move to AKM2F.LM40 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:25,853: goTarget {'id': 'LM40'}
[DEBUG]2021-04-06 13:03:26,130: AGV30 set loc AKM2F.LM18 ,old LM37 (-18.24,-16.73)
[DEBUG]2021-04-06 13:03:26,619: AGV30 choise next pos cur LM18 next LM17 pre LM40 14.419 True
[DEBUG]2021-04-06 13:03:26,623: AGV30 turn to wait check cur LM18 next LM17 14.419 True
[DEBUG]2021-04-06 13:03:27,180: agvInfo: AGV30 AKM2F.LM18 move to AKM2F.LM17 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:27,181: goTarget {'id': 'LM17'}
[DEBUG]2021-04-06 13:03:37,726: AGV30 choise next pos cur LM18 next LM16 pre LM17 11.951 False
[DEBUG]2021-04-06 13:03:37,729: AGV30 turn to wait check cur LM18 next LM16 11.951 False
[DEBUG]2021-04-06 13:03:37,990: AGV30 set loc AKM2F.LM40 ,old LM18 (-18.36,-22.01)
[INFO]2021-04-06 13:03:38,259: try open door DOOR_01
[WARNING]2021-04-06 13:03:38,262: AGV30 check failed [] AP32,LM34,LM39,LM37,LM18,LM40,LM17,LM16,LM44,LM43,LM14,LM13,LM12,LM11,LM9 ,map: AKM2F
[INFO]2021-04-06 13:03:38,549: open door DOOR_01
[DEBUG]2021-04-06 13:03:38,552: send http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_01
[DEBUG]2021-04-06 13:03:38,556: GET: http://127.0.0.1:5551/api/switch/on?id=DOOR_01 addr: 127.0.0.1
[INFO]2021-04-06 13:03:38,779: try open door DOOR_01
[DEBUG]2021-04-06 13:03:39,101: [return] use 549 ms,http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_01
[INFO]2021-04-06 13:03:39,299: try open door DOOR_01
[INFO]2021-04-06 13:03:39,833: try open door DOOR_01
[DEBUG]2021-04-06 13:03:40,430: agvInfo: AGV30 AKM2F.LM40 move to AKM2F.LM16 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:40,432: goTarget {'id': 'LM16'}
[DEBUG]2021-04-06 13:03:46,928: AGV30 set loc AKM2F.LM17 ,old LM40 (-18.36,-31.06)
[DEBUG]2021-04-06 13:03:48,849: AGV30 turn to wait check cur LM17 next LM44 0.766 False
[DEBUG]2021-04-06 13:03:49,395: agvInfo: AGV30 AKM2F.LM17 move to AKM2F.LM44 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:49,397: goTarget {'id': 'LM44'}
[DEBUG]2021-04-06 13:03:50,275: AGV30 set loc AKM2F.LM16 ,old LM17 (-18.36,-33.34)
[DEBUG]2021-04-06 13:03:50,646: AGV30 choise next pos cur LM16 next LM43 pre LM44 5.449 True
[DEBUG]2021-04-06 13:03:50,650: AGV30 choise next pos cur LM16 next LM14 pre LM43 7.285 False
[DEBUG]2021-04-06 13:03:50,654: AGV30 turn to wait check cur LM16 next LM14 7.285 False
[DEBUG]2021-04-06 13:03:51,232: agvInfo: AGV30 AKM2F.LM16 move to AKM2F.LM14 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:03:51,235: goTarget {'id': 'LM14'}
[INFO]2021-04-06 13:03:52,046: try close door DOOR_01
[INFO]2021-04-06 13:03:52,234: close door DOOR_01
[DEBUG]2021-04-06 13:03:52,239: send http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_01
[DEBUG]2021-04-06 13:03:52,244: GET: http://127.0.0.1:5551/api/switch/off?id=DOOR_01 addr: 127.0.0.1
[DEBUG]2021-04-06 13:03:52,798: [return] use 559 ms,http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_01
[DEBUG]2021-04-06 13:03:58,854: AGV30 set loc AKM2F.LM44 ,old LM16 (-16.28,-33.44)
[DEBUG]2021-04-06 13:04:03,303: AGV30 set loc AKM2F.LM43 ,old LM44 (-12.88,-33.44)
[DEBUG]2021-04-06 13:04:04,848: AGV30 turn to wait check cur LM43 next LM13 0.969 False
[INFO]2021-04-06 13:04:05,376: try open door DOOR_02
[INFO]2021-04-06 13:04:05,914: try open door DOOR_02
[INFO]2021-04-06 13:04:05,958: open door DOOR_02
[DEBUG]2021-04-06 13:04:05,963: send http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_02
[DEBUG]2021-04-06 13:04:05,967: GET: http://127.0.0.1:5551/api/switch/on?id=DOOR_02 addr: 127.0.0.1
[DEBUG]2021-04-06 13:04:06,215: AGV30 set loc AKM2F.LM14 ,old LM43 (-11.18,-33.41)
[INFO]2021-04-06 13:04:06,451: try open door DOOR_02
[DEBUG]2021-04-06 13:04:06,512: [return] use 549 ms,http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_02
[INFO]2021-04-06 13:04:06,976: try open door DOOR_02
[INFO]2021-04-06 13:04:07,516: try open door DOOR_02
[DEBUG]2021-04-06 13:04:08,053: agvInfo: AGV30 AKM2F.LM14 move to AKM2F.LM13 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:04:08,058: goTarget {'id': 'LM13'}
[DEBUG]2021-04-06 13:04:08,794: AGV30 choise next pos cur LM14 next LM12 pre LM13 7.933 True
[DEBUG]2021-04-06 13:04:08,797: AGV30 choise next pos cur LM14 next LM11 pre LM12 12.547 True
[DEBUG]2021-04-06 13:04:08,799: AGV30 turn to wait check cur LM14 next LM11 12.547 True
[DEBUG]2021-04-06 13:04:09,360: agvInfo: AGV30 AKM2F.LM14 move to AKM2F.LM11 ,taskId 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:04:09,361: goTarget {'id': 'LM11'}
[DEBUG]2021-04-06 13:04:16,741: AGV30 set loc AKM2F.LM13 ,old LM14 (-11.09,-30.39)
[DEBUG]2021-04-06 13:04:17,247: AGV30 choise next pos cur LM13 next LM9 pre LM11 17.335 False
[DEBUG]2021-04-06 13:04:17,247: AGV30 turn to wait check cur LM13 next LM9 17.335 False
[DEBUG]2021-04-06 13:04:17,808: agvInfo: AGV30 AKM2F.LM13 move jackdown to AKM2F.LM9 ,taskId 606beb2bacfc3effb27186f4_4
[WARNING]2021-04-06 13:04:19,148: AGV30 waitFinish: loc is diff LM13 LM9 task_status= 2
[WARNING]2021-04-06 13:04:19,665: AGV30 waitFinish: loc is diff LM13 LM9 task_status= 2
[WARNING]2021-04-06 13:04:20,181: AGV30 waitFinish: loc is diff LM13 LM9 task_status= 2
[WARNING]2021-04-06 13:04:20,700: AGV30 waitFinish: loc is diff LM13 LM9 task_status= 2
[WARNING]2021-04-06 13:04:21,217: AGV30 waitFinish: loc is diff LM13 LM9 task_status= 2
[WARNING]2021-04-06 13:04:21,731: AGV30 waitFinish: loc is diff LM13 LM9 task_status= 2
[DEBUG]2021-04-06 13:04:21,775: AGV30 set loc AKM2F.LM12 ,old LM13 (-11.08,-25.40)
[WARNING]2021-04-06 13:04:22,249: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[INFO]2021-04-06 13:04:22,359: try close door DOOR_02
[INFO]2021-04-06 13:04:22,679: close door DOOR_02
[DEBUG]2021-04-06 13:04:22,692: send http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_02
[DEBUG]2021-04-06 13:04:22,717: GET: http://127.0.0.1:5551/api/switch/off?id=DOOR_02 addr: 127.0.0.1
[WARNING]2021-04-06 13:04:22,762: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[WARNING]2021-04-06 13:04:23,276: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[DEBUG]2021-04-06 13:04:23,281: [return] use 590 ms,http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_02
[WARNING]2021-04-06 13:04:23,792: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[WARNING]2021-04-06 13:04:24,306: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[WARNING]2021-04-06 13:04:24,820: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[WARNING]2021-04-06 13:04:25,335: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[WARNING]2021-04-06 13:04:25,853: AGV30 waitFinish: loc is diff LM12 LM9 task_status= 2
[DEBUG]2021-04-06 13:04:26,159: AGV30 set loc AKM2F.LM11 ,old LM12 (-11.09,-20.93)
[WARNING]2021-04-06 13:04:26,370: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:26,882: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:27,394: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:27,910: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:28,426: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:28,941: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:29,457: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:29,970: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:30,486: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:31,002: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:31,519: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:32,036: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:32,552: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:33,068: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:33,581: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[WARNING]2021-04-06 13:04:34,096: AGV30 waitFinish: loc is diff LM11 LM9 task_status= 2
[DEBUG]2021-04-06 13:04:34,500: AGV30 set loc AKM2F.LM9 ,old LM11 (-11.08,-13.23)
[SUCC]2021-04-06 13:04:36,662: Finish:  AGV30 arrived AKM2F.LM9 ,task: 606beb2bacfc3effb27186f4_4
[INFO]2021-04-06 13:04:37,137: task: move finish callback task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [dropPayload]
[INFO]2021-04-06 13:04:37,143: task[606beb2bacfc3effb27186f4] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 4, 6, 13, 4, 37, 140885)}
[INFO]2021-04-06 13:04:37,395: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [dropPayloadJackdown] _jackDown
[DEBUG]2021-04-06 13:04:37,401: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-06 13:04:37,406: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-06 13:04:39,252: _jack in jackMgr: AGV30 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': True}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': True}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': True}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:04:40,803: _jack in jackMgr: AGV30 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': True}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:04:42,347: _jack in jackMgr: AGV30 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:04:43,893: _jack in jackMgr: AGV30 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': False}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:04:45,452: _jack in jackMgr: AGV30 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': True}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:04:45,457: AGV30 jack down status:  True
[DEBUG]2021-04-06 13:04:45,462: [return] use 8061 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV30&loc=None&timeoutSec=90
[WARNING]2021-04-06 13:04:45,464: scada.606beb2bacfc3effb27186f4[tid:7532] <locked _thread.RLock object owner=7532 count=1 at 0x0000029E1746FD80> ,hold 8069 ms
[INFO]2021-04-06 13:04:45,476: name=scada.606beb2bacfc3effb27186f4, pid=16068, tid=7532
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/安捷利电梯项目/AKMfloor/common/utility.py", line 167, in __call() 
[03] File "E:/安捷利电梯项目/AKMfloor/pharmapackCtrl/runTasks.py", line 728, in _taskFunc() 
[04] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 122, in _call() 
[05] File "E:/安捷利电梯项目/AKMfloor/common/lock.py", line 100, in release() 
[06] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "E:/安捷利电梯项目/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-06 13:04:45,480: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-04-06 13:04:45,793: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [dropPayloadReset] rotationClear
[DEBUG]2021-04-06 13:04:45,798: send http_get: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV30&timeoutSec=30
[DEBUG]2021-04-06 13:04:45,803: GET: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV30&timeoutSec=30 addr: 127.0.0.1
[INFO]2021-04-06 13:04:47,862: _rotation in rotationMgr: AGV30 None [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 9, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': True}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-04-06 13:04:47,878: AGV30 rotation clear status: True
[DEBUG]2021-04-06 13:04:47,882: [return] use 2084 ms,http_get: http://127.0.0.1:5551/api/agv/rotationclear?agv=AGV30&timeoutSec=30
[INFO]2021-04-06 13:04:47,887: task[606beb2bacfc3effb27186f4]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 4, 6, 13, 4, 47, 885779), 'status': 'success'}
[DEBUG]2021-04-06 13:04:47,896: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [finish] dropPayloadReset -> finish
[INFO]2021-04-06 13:04:48,215: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [finish] AGV30 release task, release agv True True False
[DEBUG]2021-04-06 13:04:48,221: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=scadaTask&taskId=606beb2bacfc3effb27186f4 addr: 127.0.0.1
[DEBUG]2021-04-06 13:04:48,224: used 3ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=scadaTask&taskId=606beb2bacfc3effb27186f4
[DEBUG]2021-04-06 13:04:48,232: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=scadaTask&force=False&taskId=606beb2bacfc3effb27186f4 addr: 127.0.0.1
[DEBUG]2021-04-06 13:04:48,235: unlock: AGV30 taskId 606beb2bacfc3effb27186f4 app scadaTask force False
[DEBUG]2021-04-06 13:04:48,238: used 6ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=scadaTask&force=False&taskId=606beb2bacfc3effb27186f4
[INFO]2021-04-06 13:04:48,240: task[606beb2bacfc3effb27186f4][AGV30] AP32(LM34) -> LM9(LM40) [finish] let AGV30 gohome
[DEBUG]2021-04-06 13:04:48,262: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=scadaTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-04-06 13:04:48,265: AGV30 gohome home_1 force False taskId home_1 : AGV30.LM9 -> AKM2F.AP29
[INFO]2021-04-06 13:04:48,278: Begin: AGV30 move from AKM2F.LM9 to AKM2F.AP29 by paths: [('AKM2F', ['LM9', 'LM11', 'LM12', 'LM13', 'LM14', 'LM43', 'LM44', 'LM16', 'LM17', 'LM40', 'LM18', 'LM37', 'LM39', 'LM31', 'AP29'], 51.445508170887535)] task: home_1 timeout 10800 used 12 ms
[DEBUG]2021-04-06 13:04:48,281: used 19ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=scadaTask&force=False&timeout=10800
[INFO]2021-04-06 13:04:48,285: task: prepoint released2  606beb2bacfc3effb27186f4 AKM2F.LM9
[INFO]2021-04-06 13:04:48,286: task: stop task[606beb2bacfc3effb27186f4][-] AP32(LM34) -> LM9(LM40) [finish]
[DEBUG]2021-04-06 13:04:49,064: agvInfo: AGV30 AKM2F.LM9 move to AKM2F.LM11 ,taskId home_1
[INFO]2021-04-06 13:04:49,066: goTarget {'id': 'LM11'}
[DEBUG]2021-04-06 13:04:49,726: task: delete task 606beb2bacfc3effb27186f4
[DEBUG]2021-04-06 13:04:49,790: AGV30 choise next pos cur LM9 next LM12 pre LM11 12.420 True
[DEBUG]2021-04-06 13:04:49,793: AGV30 turn to wait check cur LM9 next LM12 12.420 True
[DEBUG]2021-04-06 13:04:50,377: agvInfo: AGV30 AKM2F.LM9 move to AKM2F.LM12 ,taskId home_1
[INFO]2021-04-06 13:04:50,380: goTarget {'id': 'LM12'}
[DEBUG]2021-04-06 13:04:59,325: AGV30 choise next pos cur LM9 next LM13 pre LM12 14.533 True
[DEBUG]2021-04-06 13:04:59,328: AGV30 turn to wait check cur LM9 next LM13 14.533 True
[DEBUG]2021-04-06 13:04:59,970: agvInfo: AGV30 AKM2F.LM9 move to AKM2F.LM13 ,taskId home_1
[INFO]2021-04-06 13:04:59,973: goTarget {'id': 'LM13'}
[DEBUG]2021-04-06 13:05:04,806: AGV30 choise next pos cur LM9 next LM14 pre LM13 12.797 False
[DEBUG]2021-04-06 13:05:04,808: AGV30 turn to wait check cur LM9 next LM14 12.797 False
[INFO]2021-04-06 13:05:05,348: try open door DOOR_02
[INFO]2021-04-06 13:05:05,804: open door DOOR_02
[DEBUG]2021-04-06 13:05:05,809: send http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_02
[DEBUG]2021-04-06 13:05:05,817: GET: http://127.0.0.1:5551/api/switch/on?id=DOOR_02 addr: 127.0.0.1
[INFO]2021-04-06 13:05:05,895: try open door DOOR_02
[DEBUG]2021-04-06 13:05:06,371: [return] use 563 ms,http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_02
[INFO]2021-04-06 13:05:06,443: try open door DOOR_02
[INFO]2021-04-06 13:05:06,971: try open door DOOR_02
[DEBUG]2021-04-06 13:05:07,544: agvInfo: AGV30 AKM2F.LM9 move to AKM2F.LM14 ,taskId home_1
[INFO]2021-04-06 13:05:07,546: goTarget {'id': 'LM14'}
[DEBUG]2021-04-06 13:05:13,905: AGV30 set loc AKM2F.LM13 ,old LM9 (-11.08,-30.22)
[DEBUG]2021-04-06 13:05:17,016: AGV30 turn to wait check cur LM13 next LM43 0.553 False
[DEBUG]2021-04-06 13:05:17,562: agvInfo: AGV30 AKM2F.LM13 move to AKM2F.LM43 ,taskId home_1
[INFO]2021-04-06 13:05:17,564: goTarget {'id': 'LM43'}
[DEBUG]2021-04-06 13:05:17,844: AGV30 set loc AKM2F.LM14 ,old LM13 (-11.10,-33.29)
[DEBUG]2021-04-06 13:05:18,329: AGV30 choise next pos cur LM14 next LM44 pre LM43 5.325 True
[DEBUG]2021-04-06 13:05:18,333: AGV30 choise next pos cur LM14 next LM16 pre LM44 7.285 False
[DEBUG]2021-04-06 13:05:18,337: AGV30 turn to wait check cur LM14 next LM16 7.285 False
[DEBUG]2021-04-06 13:05:18,900: agvInfo: AGV30 AKM2F.LM14 move to AKM2F.LM16 ,taskId home_1
[INFO]2021-04-06 13:05:18,901: goTarget {'id': 'LM16'}
[INFO]2021-04-06 13:05:23,194: try close door DOOR_02
[INFO]2021-04-06 13:05:23,549: close door DOOR_02
[DEBUG]2021-04-06 13:05:23,550: send http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_02
[DEBUG]2021-04-06 13:05:23,556: GET: http://127.0.0.1:5551/api/switch/off?id=DOOR_02 addr: 127.0.0.1
[DEBUG]2021-04-06 13:05:24,124: [return] use 574 ms,http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_02
[DEBUG]2021-04-06 13:05:25,918: AGV30 set loc AKM2F.LM43 ,old LM14 (-13.01,-33.43)
[DEBUG]2021-04-06 13:05:30,387: AGV30 set loc AKM2F.LM44 ,old LM43 (-16.49,-33.44)
[DEBUG]2021-04-06 13:05:32,503: AGV30 turn to wait check cur LM44 next LM17 0.619 False
[INFO]2021-04-06 13:05:33,034: try open door DOOR_01
[DEBUG]2021-04-06 13:05:33,171: AGV30 set loc AKM2F.LM16 ,old LM44 (-18.22,-33.43)
[INFO]2021-04-06 13:05:33,199: open door DOOR_01
[DEBUG]2021-04-06 13:05:33,201: send http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_01
[DEBUG]2021-04-06 13:05:33,203: GET: http://127.0.0.1:5551/api/switch/on?id=DOOR_01 addr: 127.0.0.1
[INFO]2021-04-06 13:05:33,584: try open door DOOR_01
[DEBUG]2021-04-06 13:05:33,752: [return] use 551 ms,http_get: http://127.0.0.1:5551/api/switch/on?id=DOOR_01
[INFO]2021-04-06 13:05:34,115: try open door DOOR_01
[INFO]2021-04-06 13:05:34,637: try open door DOOR_01
[DEBUG]2021-04-06 13:05:35,192: agvInfo: AGV30 AKM2F.LM16 move to AKM2F.LM17 ,taskId home_1
[INFO]2021-04-06 13:05:35,200: goTarget {'id': 'LM17'}
[DEBUG]2021-04-06 13:05:35,919: AGV30 choise next pos cur LM16 next LM40 pre LM17 11.249 True
[DEBUG]2021-04-06 13:05:35,923: AGV30 turn to wait check cur LM16 next LM40 11.249 True
[DEBUG]2021-04-06 13:05:36,488: agvInfo: AGV30 AKM2F.LM16 move to AKM2F.LM40 ,taskId home_1
[INFO]2021-04-06 13:05:36,490: goTarget {'id': 'LM40'}
[DEBUG]2021-04-06 13:05:41,404: AGV30 choise next pos cur LM16 next LM18 pre LM40 15.287 False
[DEBUG]2021-04-06 13:05:41,408: AGV30 turn to wait check cur LM16 next LM18 15.287 False
[DEBUG]2021-04-06 13:05:41,990: agvInfo: AGV30 AKM2F.LM16 move to AKM2F.LM18 ,taskId home_1
[INFO]2021-04-06 13:05:41,991: goTarget {'id': 'LM18'}
[DEBUG]2021-04-06 13:05:42,243: AGV30 set loc AKM2F.LM17 ,old LM16 (-18.37,-31.10)
[INFO]2021-04-06 13:05:43,418: try close door DOOR_01
[INFO]2021-04-06 13:05:43,846: close door DOOR_01
[DEBUG]2021-04-06 13:05:43,849: send http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_01
[DEBUG]2021-04-06 13:05:43,858: GET: http://127.0.0.1:5551/api/switch/off?id=DOOR_01 addr: 127.0.0.1
[DEBUG]2021-04-06 13:05:44,401: [return] use 552 ms,http_get: http://127.0.0.1:5551/api/switch/off?id=DOOR_01
[DEBUG]2021-04-06 13:05:51,105: AGV30 set loc AKM2F.LM40 ,old LM17 (-18.36,-22.35)
[DEBUG]2021-04-06 13:05:56,554: AGV30 turn to wait check cur LM40 next LM37 0.652 False
[DEBUG]2021-04-06 13:05:57,097: agvInfo: AGV30 AKM2F.LM40 move to AKM2F.LM37 ,taskId home_1
[INFO]2021-04-06 13:05:57,101: goTarget {'id': 'LM37'}
[DEBUG]2021-04-06 13:05:57,371: AGV30 set loc AKM2F.LM18 ,old LM40 (-18.37,-16.85)
[DEBUG]2021-04-06 13:06:06,088: AGV30 turn to wait check cur LM18 next LM39 0.652 False
[DEBUG]2021-04-06 13:06:06,635: agvInfo: AGV30 AKM2F.LM18 move to AKM2F.LM39 ,taskId home_1
[INFO]2021-04-06 13:06:06,638: goTarget {'id': 'LM39'}
[DEBUG]2021-04-06 13:06:06,887: AGV30 set loc AKM2F.LM37 ,old LM18 (-15.29,-16.75)
[DEBUG]2021-04-06 13:06:13,013: AGV30 turn to wait check cur LM37 next LM31 0.903 False
[DEBUG]2021-04-06 13:06:13,569: agvInfo: AGV30 AKM2F.LM37 move to AKM2F.LM31 ,taskId home_1
[INFO]2021-04-06 13:06:13,573: goTarget {'id': 'LM31'}
[DEBUG]2021-04-06 13:06:14,634: AGV30 set loc AKM2F.LM39 ,old LM37 (-15.16,-15.26)
[DEBUG]2021-04-06 13:06:14,806: AGV30 choise next pos cur LM39 next AP29 pre LM31 2.340 False
[DEBUG]2021-04-06 13:06:14,809: AGV30 turn to wait check cur LM39 next AP29 2.340 False
[DEBUG]2021-04-06 13:06:15,357: agvInfo: AGV30 AKM2F.LM39 move to AKM2F.AP29 ,taskId home_1
[INFO]2021-04-06 13:06:15,361: goTarget {'id': 'AP29'}
[WARNING]2021-04-06 13:06:16,707: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:17,214: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:17,725: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:18,238: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:18,756: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:19,271: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:19,789: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:20,300: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:20,816: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:21,332: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:21,847: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[WARNING]2021-04-06 13:06:22,362: AGV30 waitFinish: loc is diff LM39 AP29 task_status= 2
[DEBUG]2021-04-06 13:06:22,408: AGV30 set loc AKM2F.LM31 ,old LM39 (-13.96,-15.14)
[WARNING]2021-04-06 13:06:22,877: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:23,389: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:23,906: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:24,420: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:24,936: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:25,452: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:25,969: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:26,482: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[WARNING]2021-04-06 13:06:27,002: AGV30 waitFinish: loc is diff LM31 AP29 task_status= 2
[DEBUG]2021-04-06 13:06:27,370: AGV30 set loc AKM2F.AP29 ,old LM31 (-12.96,-15.12)
[SUCC]2021-04-06 13:06:30,082: Finish:  AGV30 arrived AKM2F.AP29 ,task: home_1
[DEBUG]2021-04-06 13:06:30,085: unlock: AGV30 taskId None app None force False
[WARNING]2021-04-06 13:10:26,873: runTask:stop save file
[ERROR]2021-04-06 13:10:26,880: process exited, living 0:09:24.666680 seconds
