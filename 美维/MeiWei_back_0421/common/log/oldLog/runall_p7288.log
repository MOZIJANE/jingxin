[INFO]2021-03-25 13:57:50,383: log files at D:\python_work\AKMfloor\common\log
[INFO]2021-03-25 13:57:50,386: find module account.main_account
[INFO]2021-03-25 13:57:50,389: find module agvCtrl.main_agv
[INFO]2021-03-25 13:57:50,391: find module agvDevice.main_agvDevice
[INFO]2021-03-25 13:57:50,393: find module alarm.main_alarm
[INFO]2021-03-25 13:57:50,398: find module auth.main_auth
[INFO]2021-03-25 13:57:50,401: find module door.main_door
[INFO]2021-03-25 13:57:50,403: find module elevator.main_elevator
[INFO]2021-03-25 13:57:50,405: find module feed.main_feed
[INFO]2021-03-25 13:57:50,409: find module menu.main_menu
[INFO]2021-03-25 13:57:50,411: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-25 13:57:50,414: find module webFront.main_web
[INFO]2021-03-25 13:57:50,416: find module wmqtt.main_wmqtt
[INFO]2021-03-25 13:57:50,420: import account.main_account
[INFO]2021-03-25 13:57:50,798: import agvCtrl.main_agv
[INFO]2021-03-25 13:57:51,702: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB87EFBA0>>
[INFO]2021-03-25 13:57:51,706: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB87FF4E0>>
[INFO]2021-03-25 13:57:51,818: create lock <lock name:timer.lock_1854229532528,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8B20150>>
[ERROR]2021-03-25 13:57:51,836: mqtt is disabled
[INFO]2021-03-25 13:57:51,837: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-25 13:57:51,837: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-25 13:57:54,929: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-25 13:57:55,000: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8D798A0>>
[INFO]2021-03-25 13:57:55,008: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8D6EC00>>
[INFO]2021-03-25 13:57:55,845: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8D81810>>
[INFO]2021-03-25 13:57:56,731: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8E638D0>>
[INFO]2021-03-25 13:57:56,743: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8F09960>>
[INFO]2021-03-25 13:57:56,928: charge policy 1 , fix time
[INFO]2021-03-25 13:57:56,970: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB8F13540>>
[INFO]2021-03-25 13:57:57,401: start load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap
[DEBUG]2021-03-25 13:57:57,625: elevator thread start
[INFO]2021-03-25 13:57:57,682: load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap ,used 293 ms
[INFO]2021-03-25 13:57:57,708: start load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap
[INFO]2021-03-25 13:57:57,850: load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap ,used 165 ms
[INFO]2021-03-25 13:57:57,860: import agvDevice.main_agvDevice
[INFO]2021-03-25 13:57:57,863: import alarm.main_alarm
[INFO]2021-03-25 13:57:57,867: import auth.main_auth
[INFO]2021-03-25 13:57:57,892: import door.main_door
[INFO]2021-03-25 13:57:57,907: import elevator.main_elevator
[INFO]2021-03-25 13:57:57,911: import feed.main_feed
[INFO]2021-03-25 13:57:57,959: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB91A9870>>
[INFO]2021-03-25 13:57:57,994: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB91C4270>>
[INFO]2021-03-25 13:57:59,853: import menu.main_menu
[INFO]2021-03-25 13:57:59,866: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-25 13:58:00,017: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFB9D29870>>
[INFO]2021-03-25 13:58:00,020: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC0454360>>
[INFO]2021-03-25 13:58:00,033: recover can release agv *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [loadPlayload]
[INFO]2021-03-25 13:58:00,034: load task: *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waiting]
[INFO]2021-03-25 13:58:00,047: import webFront.main_web
[INFO]2021-03-25 13:58:00,053: import wmqtt.main_wmqtt
[SUCC]2021-03-25 13:58:00,068: utility start, pid=7288, ppid=16160
[DEBUG]2021-03-25 13:58:00,072: start timer
[INFO]2021-03-25 13:58:00,089: load agv file: D:\python_work\AKMfloor\agvCtrl/projects/AKMfloor/agv.cfg
[INFO]2021-03-25 13:58:00,097: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC0469F90>>
[DEBUG]2021-03-25 13:58:00,100: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-25 13:58:00,104: AGV03 start agvList run thread
[INFO]2021-03-25 13:58:00,104: AGV03 start agvList run2 thread
[INFO]2021-03-25 13:58:00,107: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC0474300>>
[DEBUG]2021-03-25 13:58:00,109: try connect AGV03 192.168.20.182:19204
[INFO]2021-03-25 13:58:00,109: add_ignore: taskStatus
[INFO]2021-03-25 13:58:00,115: add_ignore: api/elevator/status
[INFO]2021-03-25 13:58:00,116: add_ignore: scada/getTask
[INFO]2021-03-25 13:58:00,130: AGV03 connected 192.168.20.182 19204
[INFO]2021-03-25 13:58:00,133: create lock <lock name:agv.AGV03.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC0474390>>
[DEBUG]2021-03-25 13:58:00,141: try connect AGV03 192.168.20.182:19205
[INFO]2021-03-25 13:58:00,157: AGV03 connected 192.168.20.182 19205
[INFO]2021-03-25 13:58:00,162: create lock <lock name:agv.AGV03.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC0474780>>
[DEBUG]2021-03-25 13:58:00,164: try connect AGV03 192.168.20.182:19206
[INFO]2021-03-25 13:58:00,172: AGV03 connected 192.168.20.182 19206
[INFO]2021-03-25 13:58:00,176: create lock <lock name:agv.AGV03.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC04746F0>>
[DEBUG]2021-03-25 13:58:00,180: try connect AGV03 192.168.20.182:19207
[INFO]2021-03-25 13:58:00,188: AGV03 connected 192.168.20.182 19207
[INFO]2021-03-25 13:58:00,190: create lock <lock name:agv.AGV03.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC04A75D0>>
[DEBUG]2021-03-25 13:58:00,193: try connect AGV03 192.168.20.182:19208
[INFO]2021-03-25 13:58:00,203: AGV03 connected 192.168.20.182 19208
[INFO]2021-03-25 13:58:00,205: create lock <lock name:agv.AGV03.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AFC04A7690>>
[DEBUG]2021-03-25 13:58:00,209: try connect AGV03 192.168.20.182:19210
[INFO]2021-03-25 13:58:00,243: AGV03 connected 192.168.20.182 19210
[INFO]2021-03-25 13:58:00,291: AGV03 current map AKM4F
[INFO]2021-03-25 13:58:00,341: AGV03 is online
[CRITICAL]2021-03-25 13:58:04,140: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=7288, ppid=16160, tid=9492
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[CRITICAL]2021-03-25 13:58:07,208: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=7288, ppid=16160, tid=9492
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[CRITICAL]2021-03-25 13:58:10,260: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=7288, ppid=16160, tid=9492
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[CRITICAL]2021-03-25 13:58:13,316: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=7288, ppid=16160, tid=9492
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[DEBUG]2021-03-25 13:58:14,358: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-25 13:58:14,374: scadaTask init client agvApi
[DEBUG]2021-03-25 13:58:14,387: used 29ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[INFO]2021-03-25 13:58:14,395: task recover: add task *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waiting]
[DEBUG]2021-03-25 13:58:17,479: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-25 13:58:17,530: used 51ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[INFO]2021-03-25 13:58:17,620: task[605c24548f0ddbc349ddb396]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 3, 25, 13, 58, 17, 607782), 'updateTime': datetime.datetime(2021, 3, 25, 13, 58, 17, 607782), 'status': 'running'}
[INFO]2021-03-25 13:58:17,670: task: start *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waiting]
[INFO]2021-03-25 13:58:17,725: task[605c24548f0ddbc349ddb396] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 3, 25, 13, 58, 17, 705953)}
[DEBUG]2021-03-25 13:58:17,756: *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waitForAgv] waiting -> waitForAgv
[WARNING]2021-03-25 13:58:18,685: timer_thread[tid:9492] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=9492 count=1 at 0x000001AFB9D29870>> ,hold 16598 ms
[INFO]2021-03-25 13:58:18,786: name=timer_thread, pid=7288, tid=9492
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[05] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-25 13:58:19,211: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP13&mapId=AKM4F&taskId=605c24548f0ddbc349ddb396&timeout=10 addr: 127.0.0.1
[INFO]2021-03-25 13:58:20,815: apply AGV03 ,taskId: 605c24548f0ddbc349ddb396 ,loc AKM4F.AP13 ,autoLock False , used 1573 ms
[DEBUG]2021-03-25 13:58:20,858: used 1648ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP13&mapId=AKM4F&taskId=605c24548f0ddbc349ddb396&timeout=10
[WARNING]2021-03-25 13:58:20,862: AGV03 low battery charge,batteryLevel= 0.468 start charge level= 0.500
[INFO]2021-03-25 13:58:20,947: AGV03 battery 0.468 check success
[WARNING]2021-03-25 13:58:21,020: AGV03 Can't find charge point at AKM4F battery: 0.468
[DEBUG]2021-03-25 13:58:21,062: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV03&appName=scadaTask&taskId=605c24548f0ddbc349ddb396 addr: 127.0.0.1
[DEBUG]2021-03-25 13:58:21,118: lock:  AGV03 taskId 605c24548f0ddbc349ddb396 app scadaTask
[WARNING]2021-03-25 13:58:22,166: AGV03 clear task finish, cur= AKM4F.LM15 task_status= 4
[DEBUG]2021-03-25 13:58:22,195: used 1133ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV03&appName=scadaTask&taskId=605c24548f0ddbc349ddb396
[INFO]2021-03-25 13:58:22,242: *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waitForAgv] apply AGV03
[INFO]2021-03-25 13:58:22,294: task[605c24548f0ddbc349ddb396] update info: {'agvId': 'AGV03', 'failMsg': '成功分配小车AGV03,检测顶升下降', 'updateTime': datetime.datetime(2021, 3, 25, 13, 58, 22, 271069)}
[WARNING]2021-03-25 13:58:22,328: scada.605c24548f0ddbc349ddb396[tid:7344] <locked _thread.RLock object owner=7344 count=1 at 0x000001AFC0454930> ,hold 3150 ms
[INFO]2021-03-25 13:58:22,388: name=scada.605c24548f0ddbc349ddb396, pid=7288, tid=7344
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/utility.py", line 167, in __call() 
[03] File "D:/python_work/AKMfloor/pharmapackCtrl/runTasks.py", line 725, in _taskFunc() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[05] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[07] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-25 13:58:22,422: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-03-25 13:58:22,804: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [initJackdown] _jackDown
[DEBUG]2021-03-25 13:58:22,885: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90
[DEBUG]2021-03-25 13:58:23,025: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-25 13:58:24,395: _jack in jackMgr: AGV03 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': True}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-03-25 13:58:24,498: AGV03 jack down status:  True
[DEBUG]2021-03-25 13:58:24,532: used 1507ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90
[DEBUG]2021-03-25 13:58:24,596: [return] use 1711 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90
[INFO]2021-03-25 13:58:24,649: task[605c24548f0ddbc349ddb396] update info: {'failMsg': '前往四楼Test1工位点拉取货架', 'updateTime': datetime.datetime(2021, 3, 25, 13, 58, 24, 631773)}
[DEBUG]2021-03-25 13:58:24,680: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [startMoveJackup] initJackdown -> startMoveJackup
[DEBUG]2021-03-25 13:58:25,048: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV03&agvId=AGV03&appName=scadaTask&direction=None&floorId=AKM4F&isRotate&loc=AKM4F.AP13&location=AP13&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=605c24548f0ddbc349ddb396_2&taskType=scadaTask&timeoutSec=86400&use_pgv=True addr: 127.0.0.1
[INFO]2021-03-25 13:58:25,179: Begin: AGV03 move from AKM4F.LM15 to AKM4F.AP13 by paths: [('AKM4F', ['LM15', 'AP13'], 1.358)] task: 605c24548f0ddbc349ddb396_2 timeout 86400 used 118 ms
[DEBUG]2021-03-25 13:58:25,189: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [loadPlayload] startMoveJackup -> loadPlayload
[DEBUG]2021-03-25 13:58:25,753: agvInfo: AGV03 AKM4F.LM15 move jackup to AKM4F.AP13 ,taskId 605c24548f0ddbc349ddb396_2
[INFO]2021-03-25 13:58:25,761: +++++++ {'id': 'AP13', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': True}
[WARNING]2021-03-25 13:58:26,992: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:27,500: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:28,008: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:28,516: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:29,021: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:29,529: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:30,035: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:58:30,133: AGV03 low battery charge,batteryLevel= 0.468 start charge level= 0.500
[WARNING]2021-03-25 13:58:30,141: AGV03 battery 0.468 check failed: isLocked
[DEBUG]2021-03-25 13:58:30,209: AGV03 set loc AKM4F.AP13 ,old LM15 (-9.89,-2.41)
[INFO]2021-03-25 13:58:31,933: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[ERROR]2021-03-25 13:58:31,947: raise alarm obj=AGV03, typeId=54070, desc=AGV异常, id=605c268707e2e631304f41ad
[WARNING]2021-03-25 13:58:32,063: AGV03 moveJackup error: Cannot Find PGV code：{54070}
[INFO]2021-03-25 13:58:32,514: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[WARNING]2021-03-25 13:58:32,569: AGV03 moveJackup error: Cannot Find PGV code2：{54070}
[WARNING]2021-03-25 13:58:40,181: AGV03 low battery charge,batteryLevel= 0.468 start charge level= 0.500
[WARNING]2021-03-25 13:58:51,353: AGV03 battery 0.468 check failed: isLocked
[INFO]2021-03-25 13:58:51,908: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[WARNING]2021-03-25 13:58:52,345: AGV03 moveJackup error: Cannot Find PGV code2：{54070}
[WARNING]2021-03-25 13:58:52,373: AGV03 low battery charge,batteryLevel= 0.468 start charge level= 0.500
[WARNING]2021-03-25 13:58:52,382: AGV03 battery 0.468 check failed: isLocked
[INFO]2021-03-25 13:58:52,537: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[INFO]2021-03-25 13:58:53,092: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[WARNING]2021-03-25 13:58:53,355: AGV03 moveJackup error: Cannot Find PGV code2：{54070}
[INFO]2021-03-25 13:58:53,639: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[INFO]2021-03-25 13:58:54,265: get 54901 warnings: AGV03 [{'54070': 1616652167, 'desc': 'PGV cannot find code', 'times': 1}]
[WARNING]2021-03-25 13:58:54,370: AGV03 moveJackup error: Cannot Find PGV code2：{54070}
