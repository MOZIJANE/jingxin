[INFO]2021-04-28 11:31:22,917: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-04-28 11:31:22,917: find module account.main_account
[INFO]2021-04-28 11:31:22,918: find module agvCtrl.main_agv
[INFO]2021-04-28 11:31:22,920: find module agvDevice.main_agvDevice
[INFO]2021-04-28 11:31:22,921: find module akmCtrl.main_akmCtrl
[INFO]2021-04-28 11:31:22,922: find module alarm.main_alarm
[INFO]2021-04-28 11:31:22,924: find module auth.main_auth
[INFO]2021-04-28 11:31:22,925: find module door.main_door
[INFO]2021-04-28 11:31:22,926: find module elevator.main_elevator
[INFO]2021-04-28 11:31:22,928: find module feed.main_feed
[INFO]2021-04-28 11:31:22,930: find module feed.main_feed_0427
[INFO]2021-04-28 11:31:22,931: find module remoteio.main_remoteio
[INFO]2021-04-28 11:31:22,932: import account.main_account
[INFO]2021-04-28 11:31:23,022: import agvCtrl.main_agv
[INFO]2021-04-28 11:31:23,897: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8E146EA0>>
[INFO]2021-04-28 11:31:24,874: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8E161420>>
[INFO]2021-04-28 11:31:24,990: create lock <lock name:timer.lock_2381802148336,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8E789360>>
[ERROR]2021-04-28 11:31:25,004: mqtt is disabled
[INFO]2021-04-28 11:31:25,005: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-28 11:31:25,005: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-28 11:31:28,046: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-28 11:31:28,077: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8E99CD50>>
[WARNING]2021-04-28 11:31:28,100: use mockAgvCtrl
[INFO]2021-04-28 11:31:28,103: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8C9F4360>>
[INFO]2021-04-28 11:31:28,439: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EA337E0>>
[INFO]2021-04-28 11:31:28,443: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EADBD20>>
[INFO]2021-04-28 11:31:28,510: charge policy 1 , fix time
[INFO]2021-04-28 11:31:28,545: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EAE6900>>
[INFO]2021-04-28 11:31:29,088: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-28 11:31:29,201: elevator thread start
[INFO]2021-04-28 11:31:29,220: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 144 ms
[INFO]2021-04-28 11:31:29,232: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-28 11:31:29,282: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 60 ms
[INFO]2021-04-28 11:31:29,293: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-28 11:31:29,424: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 141 ms
[INFO]2021-04-28 11:31:29,434: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-28 11:31:29,583: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 159 ms
[INFO]2021-04-28 11:31:29,593: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-04-28 11:31:29,654: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 70 ms
[INFO]2021-04-28 11:31:29,667: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap
[INFO]2021-04-28 11:31:29,707: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap ,used 51 ms
[INFO]2021-04-28 11:31:29,712: import agvDevice.main_agvDevice
[INFO]2021-04-28 11:31:29,715: import akmCtrl.main_akmCtrl
[INFO]2021-04-28 11:31:29,749: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EDCA3C0>>
[INFO]2021-04-28 11:31:29,765: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EDFA030>>
[INFO]2021-04-28 11:31:29,781: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EDBDD80>>
[INFO]2021-04-28 11:31:29,783: create lock <lock name:timer.lock_2381805942624,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8EB279F0>>
[INFO]2021-04-28 11:31:29,786: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A8D50B2A0>>
[INFO]2021-04-28 11:31:30,260: import alarm.main_alarm
[INFO]2021-04-28 11:31:30,262: import auth.main_auth
[INFO]2021-04-28 11:31:30,269: import door.main_door
[INFO]2021-04-28 11:31:30,272: import elevator.main_elevator
[INFO]2021-04-28 11:31:30,275: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A911E0360>>
[INFO]2021-04-28 11:31:30,277: import feed.main_feed
[INFO]2021-04-28 11:31:30,305: IP: 0.0.0.0 port: 10001
[INFO]2021-04-28 11:31:30,306: import feed.main_feed_0427
[INFO]2021-04-28 11:31:30,316: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A912C0870>>
[INFO]2021-04-28 11:31:30,358: import remoteio.main_remoteio
[SUCC]2021-04-28 11:31:30,370: utility start, pid=8668, ppid=12760
[DEBUG]2021-04-28 11:31:30,371: start timer
[INFO]2021-04-28 11:31:30,381: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-28 11:31:30,382: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022A912DD960>>
[DEBUG]2021-04-28 11:31:30,385: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-04-28 11:31:30,387: AGV30 start agvList run thread
[INFO]2021-04-28 11:31:30,387: AGV30 start agvList run2 thread
[ERROR]2021-04-28 11:31:30,397: agv check init error False
[DEBUG]2021-04-28 11:31:30,399: start timer
[INFO]2021-04-28 11:31:30,404: add_ignore: taskStatus
[INFO]2021-04-28 11:31:30,406: add_ignore: api/elevator/status
[INFO]2021-04-28 11:31:30,407: add_ignore: scada/getTask
[INFO]2021-04-28 11:31:30,808: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54438
[INFO]2021-04-28 11:31:30,814: **************回复线程启动**************
[INFO]2021-04-28 11:31:30,904: AGV30 current map meiwei423
[INFO]2021-04-28 11:31:30,908: AGV30 is online
[DEBUG]2021-04-28 11:31:31,410: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-04-28 11:31:31,411: MeiWeiTask init client agvApi
[DEBUG]2021-04-28 11:31:31,414: used 4ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-04-28 11:31:34,562: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-04-28 11:31:34,658: used 96ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-04-28 11:31:34,784: timer_thread[tid:15520] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=15520 count=1 at 0x0000022A8EDCA3C0>> ,hold 3381 ms
[INFO]2021-04-28 11:31:34,957: name=timer_thread, pid=8668, tid=15520
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 11:32:15,835: 按钮任务状态： False
[INFO]2021-04-28 11:32:15,915: ****************接受到的数据**************： devID: 223 keyID: 4
[INFO]2021-04-28 11:32:15,994: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-04-28 11:32:16,122: create task[6088d740e0811de98b8d68bb]: type= scadaTask , 从MeiWeiSource运送货架到MeiWeiTarget {'source': 'MeiWeiSource', 'target': 'MeiWeiTarget', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从MeiWeiSource运送货架到MeiWeiTarget', 'createTime': datetime.datetime(2021, 4, 28, 11, 32, 16, 74734), 'updateTime': datetime.datetime(2021, 4, 28, 11, 32, 16, 74734), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('6088d740e0811de98b8d68bb')}
[INFO]2021-04-28 11:32:16,553: task[6088d740e0811de98b8d68bb]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 28, 11, 32, 16, 505628), 'updateTime': datetime.datetime(2021, 4, 28, 11, 32, 16, 505628), 'status': 'running'}
[INFO]2021-04-28 11:32:16,647: task: start task[6088d740e0811de98b8d68bb][-] 6(1) -> 7(8) [waiting]
[INFO]2021-04-28 11:32:16,788: task[6088d740e0811de98b8d68bb] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 28, 11, 32, 16, 756953)}
[DEBUG]2021-04-28 11:32:16,900: task[6088d740e0811de98b8d68bb][-] 6(1) -> 7(8) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-28 11:32:17,774: 信息*********map: meiwei423 agvId AGV30 tyepe: release loc home
[INFO]2021-04-28 11:32:17,900: 4 号工位放行
[INFO]2021-04-28 11:32:18,027: 按钮任务状态： True
[INFO]2021-04-28 11:32:18,105: ******************url********************: http://127.0.0.1:5551
[INFO]2021-04-28 11:32:18,105: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 11:32:18,310: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[DEBUG]2021-04-28 11:32:18,311: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei423&taskId=6088d740e0811de98b8d68bb&timeout=10 addr: 127.0.0.1
[INFO]2021-04-28 11:32:19,787: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:19,892: 3 号工位放行
[INFO]2021-04-28 11:32:20,034: 按钮任务状态： True
[INFO]2021-04-28 11:32:20,130: ****************接受到的数据**************： devID: 223 keyID: 1
[INFO]2021-04-28 11:32:20,194: ********按钮值********: {'bt_1': 1, 'bt_2': 0, 'bt_3': 0}
[INFO]2021-04-28 11:32:21,447: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[INFO]2021-04-28 11:32:21,542: 1 号工位放行
[INFO]2021-04-28 11:32:21,702: 按钮任务状态： True
[INFO]2021-04-28 11:32:21,766: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 11:32:21,909: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[INFO]2021-04-28 11:32:22,715: apply AGV30 ,taskId: 6088d740e0811de98b8d68bb ,loc meiwei423.1 ,autoLock False , used 4186 ms
[WARNING]2021-04-28 11:32:22,795: worker 2[tid:12284] <lock name:mapMgr.lock,<locked _thread.RLock object owner=12284 count=1 at 0x0000022A8C9F4360>> ,hold 4266 ms
[INFO]2021-04-28 11:32:23,082: name=worker 2, pid=8668, tid=12284
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 903, in worker_thread_callback() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 1077, in <lambda>() 
[04] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 1092, in process_request_in_thread() 
[05] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socketserver.py", line 360, in finish_request() 
[06] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socketserver.py", line 720, in __init__() 
[07] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 460, in handle() 
[08] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/http/server.py", line 427, in handle() 
[09] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 455, in handle_one_request() 
[10] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/httpserver.py", line 304, in wsgi_execute() 
[11] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/paste/translogger.py", line 69, in __call__() 
[12] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 985, in __call__() 
[13] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 960, in wsgi() 
[14] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 868, in _handle() 
[15] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/bottle.py", line 1748, in wrapper() 
[16] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/webutility.py", line 466, in _enable_cors() 
[17] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/webutility.py", line 482, in _enable_cors() 
[18] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/scadaUtility.py", line 45, in __call() 
[19] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/main_agv.py", line 58, in urlApply() 
[20] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/agvControl.py", line 1125, in apply() 
[21] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 122, in _call() 
[22] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/lock.py", line 100, in release() 
[23] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[24] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 11:32:23,177: used 4866ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei423&taskId=6088d740e0811de98b8d68bb&timeout=10
[INFO]2021-04-28 11:32:23,384: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[DEBUG]2021-04-28 11:32:23,451: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=6088d740e0811de98b8d68bb addr: 127.0.0.1
[INFO]2021-04-28 11:32:23,463: 3 号工位放行
[DEBUG]2021-04-28 11:32:23,589: lock:  AGV30 taskId 6088d740e0811de98b8d68bb app MeiWeiTask
[INFO]2021-04-28 11:32:23,701: 按钮任务状态： True
[INFO]2021-04-28 11:32:23,781: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 11:32:23,876: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[WARNING]2021-04-28 11:32:24,732: AGV30 clear task finish, cur= meiwei423.9 task_status= 0
[DEBUG]2021-04-28 11:32:24,795: used 1344ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=6088d740e0811de98b8d68bb
[INFO]2021-04-28 11:32:25,065: task[6088d740e0811de98b8d68bb][-] 6(1) -> 7(8) [waitForAgv] apply AGV30
[INFO]2021-04-28 11:32:25,191: task[6088d740e0811de98b8d68bb] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 28, 11, 32, 25, 176947)}
[WARNING]2021-04-28 11:32:25,303: scada.6088d740e0811de98b8d68bb[tid:15876] <locked _thread.RLock object owner=15876 count=1 at 0x0000022A914C04B0> ,hold 7198 ms
[INFO]2021-04-28 11:32:25,334: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:25,525: 3 号工位放行
[INFO]2021-04-28 11:32:25,601: 按钮任务状态： True
[INFO]2021-04-28 11:32:25,705: name=scada.6088d740e0811de98b8d68bb, pid=8668, tid=15876
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 11:32:25,713: ****************接受到的数据**************： devID: 223 keyID: 3
[DEBUG]2021-04-28 11:32:25,808: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-28 11:32:25,904: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[INFO]2021-04-28 11:32:26,381: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [initJackdown] _jackDown
[DEBUG]2021-04-28 11:32:26,491: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 11:32:26,759: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 11:32:26,826: ************run jackDownOld********************
[INFO]2021-04-28 11:32:27,649: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:27,760: 3 号工位放行
[DEBUG]2021-04-28 11:32:27,951: used 1192ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 11:32:27,951: 按钮任务状态： True
[DEBUG]2021-04-28 11:32:28,079: [return] use 1588 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 11:32:28,079: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 11:32:28,222: task[6088d740e0811de98b8d68bb] update info: {'failMsg': '前往MeiWeiSource工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 28, 11, 32, 28, 174833)}
[INFO]2021-04-28 11:32:28,270: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[DEBUG]2021-04-28 11:32:28,350: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [moveToPreSrc] initJackdown -> moveToPreSrc
[INFO]2021-04-28 11:32:28,952: ***************调用move方法
[DEBUG]2021-04-28 11:32:29,051: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei423&isRotate&loc=meiwei423.1&location=1&taskId=6088d740e0811de98b8d68bb_2&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-04-28 11:32:29,057: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:29,062: 3 号工位放行
[INFO]2021-04-28 11:32:29,068: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,071: ****************接受到的数据**************： devID: 223 keyID: 2
[INFO]2021-04-28 11:32:29,072: ********按钮值********: {'bt_1': 0, 'bt_2': 1, 'bt_3': 0}
[INFO]2021-04-28 11:32:29,077: Begin: AGV30 move from meiwei423.9 to meiwei423.1 by paths: [('meiwei423', ['9', '7', '8', '6', '1'], 26.065498026668134)] task: 6088d740e0811de98b8d68bb_2 timeout 86400 used 24 ms
[INFO]2021-04-28 11:32:29,082: 移动到source的前置点 1
[DEBUG]2021-04-28 11:32:29,083: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish] moveToPreSrc -> moveToPreSrc_onfinish
[INFO]2021-04-28 11:32:29,085: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:29,086: 2 号工位放行
[INFO]2021-04-28 11:32:29,087: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,088: ****************接受到的数据**************： devID: 223 keyID: 2
[INFO]2021-04-28 11:32:29,089: ********按钮值********: {'bt_1': 0, 'bt_2': 1, 'bt_3': 0}
[INFO]2021-04-28 11:32:29,096: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:29,097: 2 号工位放行
[INFO]2021-04-28 11:32:29,099: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,101: ****************接受到的数据**************： devID: 223 keyID: 1
[INFO]2021-04-28 11:32:29,102: ********按钮值********: {'bt_1': 1, 'bt_2': 0, 'bt_3': 0}
[INFO]2021-04-28 11:32:29,108: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[INFO]2021-04-28 11:32:29,108: 1 号工位放行
[INFO]2021-04-28 11:32:29,109: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,113: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 11:32:29,114: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[INFO]2021-04-28 11:32:29,120: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:29,122: 3 号工位放行
[INFO]2021-04-28 11:32:29,123: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,124: ****************接受到的数据**************： devID: 223 keyID: 2
[INFO]2021-04-28 11:32:29,125: ********按钮值********: {'bt_1': 0, 'bt_2': 1, 'bt_3': 0}
[INFO]2021-04-28 11:32:29,132: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 11:32:29,133: 2 号工位放行
[INFO]2021-04-28 11:32:29,135: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,136: 已存在一个按钮任务！勿重复发送任务
[INFO]2021-04-28 11:32:29,137: 按钮任务状态： True
[INFO]2021-04-28 11:32:29,138: 已存在一个按钮任务！勿重复发送任务
[DEBUG]2021-04-28 11:32:29,884: agvInfo: AGV30 meiwei423.9 move to meiwei423.1 ,taskId 6088d740e0811de98b8d68bb_2
[INFO]2021-04-28 11:32:32,477: 按钮任务状态： True
[INFO]2021-04-28 11:32:32,481: 已存在一个按钮任务！勿重复发送任务
[INFO]2021-04-28 11:32:32,793: 按钮任务状态： True
[INFO]2021-04-28 11:32:32,796: 已存在一个按钮任务！勿重复发送任务
[INFO]2021-04-28 11:32:33,108: 按钮任务状态： True
[INFO]2021-04-28 11:32:33,109: 已存在一个按钮任务！勿重复发送任务
[DEBUG]2021-04-28 11:32:36,828: AGV30 set loc meiwei423.7 ,old 9 (23.61,0.77)
[DEBUG]2021-04-28 11:32:38,368: AGV30 set loc meiwei423.8 ,old 7 (22.36,0.73)
[DEBUG]2021-04-28 11:33:03,546: AGV30 set loc meiwei423.6 ,old 8 (2.20,0.27)
[DEBUG]2021-04-28 11:33:05,094: AGV30 set loc meiwei423.1 ,old 6 (2.12,1.04)
[WARNING]2021-04-28 11:33:05,291: AGV30 waitFinish status error: 1 ,target= 1 task_status= 2
[SUCC]2021-04-28 11:33:06,812: Finish:  AGV30 arrived meiwei423.1 ,task: 6088d740e0811de98b8d68bb_2
[INFO]2021-04-28 11:33:07,048: task: move finish callback task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish]
[INFO]2021-04-28 11:33:07,051: **********等待料盒信号*************
[INFO]2021-04-28 11:33:07,264: ***************调用_moveJackup方法
[DEBUG]2021-04-28 11:33:07,271: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=6088d740e0811de98b8d68bb_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 11:33:07,292: Begin: AGV30 move from meiwei423.1 to meiwei423.6 by paths: [('meiwei423', ['1', '6'], 0.8303840339922958)] task: 6088d740e0811de98b8d68bb_3 timeout 86400 used 18 ms
[DEBUG]2021-04-28 11:33:07,294: used 23ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=6088d740e0811de98b8d68bb_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 11:33:07,300: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-28 11:33:07,302: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [loadPlayload] startMoveJackup -> loadPlayload
[INFO]2021-04-28 11:33:07,862: ------------------------根据agvControl中的_func来到agvList中的moveJackup---------------999--------
[DEBUG]2021-04-28 11:33:07,864: agvInfo: AGV30 meiwei423.1 move jackup to meiwei423.6 ,taskId 6088d740e0811de98b8d68bb_3
[DEBUG]2021-04-28 11:33:09,218: AGV30 set loc meiwei423.6 ,old 1 (2.15,0.27)
[SUCC]2021-04-28 11:33:10,422: Finish:  AGV30 arrived meiwei423.6 ,task: 6088d740e0811de98b8d68bb_3
[INFO]2021-04-28 11:33:10,693: task: move finish callback task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [loadPlayload]
[INFO]2021-04-28 11:33:10,697: ***************进入onFinish.loadPlayload**********************
[INFO]2021-04-28 11:33:10,701: task[6088d740e0811de98b8d68bb] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 28, 11, 33, 10, 699846)}
[DEBUG]2021-04-28 11:33:10,736: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-28 11:33:11,047: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-28 11:33:11,050: send http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 11:33:11,055: GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 11:33:11,057: ************run jackUpOld********************
[DEBUG]2021-04-28 11:33:12,075: used 1020ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 11:33:12,233: [return] use 1183 ms,http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 11:33:12,344: task[6088d740e0811de98b8d68bb] update info: {'failMsg': '等待MeiWeiTarget工位点锁', 'updateTime': datetime.datetime(2021, 4, 28, 11, 33, 12, 313727)}
[DEBUG]2021-04-28 11:33:12,421: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-28 11:33:12,848: task: prepoint locked  6088d740e0811de98b8d68bb meiwei423.7
[INFO]2021-04-28 11:33:12,958: task[6088d740e0811de98b8d68bb] update info: {'failMsg': '前往7工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 28, 11, 33, 12, 895404)}
[DEBUG]2021-04-28 11:33:13,068: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [movePreSource] waitDestPreLoc -> movePreSource
[INFO]2021-04-28 11:33:14,181: ***************进入目的地的前置点************
[INFO]2021-04-28 11:33:14,277: ***************调用move方法
[DEBUG]2021-04-28 11:33:14,375: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.8&location=8&p_direction=0.0&recognize=False&result=True&resultDesc=None&taskId=6088d740e0811de98b8d68bb_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 11:33:14,397: Begin: AGV30 move from meiwei423.6 to meiwei423.8 by paths: [('meiwei423', ['6', '8'], 20.21778345454478)] task: 6088d740e0811de98b8d68bb_4 timeout 86400 used 19 ms
[DEBUG]2021-04-28 11:33:14,399: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [movePreSourceStep] movePreSource -> movePreSourceStep
[DEBUG]2021-04-28 11:33:15,174: agvInfo: AGV30 meiwei423.6 move to meiwei423.8 ,taskId 6088d740e0811de98b8d68bb_4
[DEBUG]2021-04-28 11:33:42,521: AGV30 set loc meiwei423.8 ,old 6 (22.36,0.73)
[SUCC]2021-04-28 11:33:43,885: Finish:  AGV30 arrived meiwei423.8 ,task: 6088d740e0811de98b8d68bb_4
[INFO]2021-04-28 11:33:44,065: task: move finish callback task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [movePreSourceStep]
[INFO]2021-04-28 11:33:44,069: ********************************目的地前置点的onFinish位置********************
[INFO]2021-04-28 11:33:44,071: 等待对接信号！ 2021-04-28 11:33:44
[INFO]2021-04-28 11:33:47,089: 等待对接信号！ 2021-04-28 11:33:47
[INFO]2021-04-28 11:33:50,101: 等待对接信号！ 2021-04-28 11:33:50
[INFO]2021-04-28 11:33:50,106: 检测到进去的信号，进入工位取料
[WARNING]2021-04-28 11:33:50,108: Thread-3[tid:9756] <locked _thread.RLock object owner=9756 count=1 at 0x0000022A914C04B0> ,hold 6043 ms
[INFO]2021-04-28 11:33:50,112: name=Thread-3, pid=8668, tid=9756
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 11:33:50,115: ***************调用_moveJackdown方法
[DEBUG]2021-04-28 11:33:50,148: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6088d740e0811de98b8d68bb_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 11:33:50,163: Begin: AGV30 move from meiwei423.8 to meiwei423.7 by paths: [('meiwei423', ['8', '7'], 1.1429417289360195)] task: 6088d740e0811de98b8d68bb_5 timeout 86400 used 11 ms
[DEBUG]2021-04-28 11:33:50,165: used 17ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6088d740e0811de98b8d68bb_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 11:33:50,168: task[6088d740e0811de98b8d68bb] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 28, 11, 33, 50, 167119)}
[INFO]2021-04-28 11:33:50,169: 当前步骤： dropPayload
[WARNING]2021-04-28 11:33:50,170: scada.6088d740e0811de98b8d68bb[tid:15876] <locked _thread.RLock object owner=15876 count=1 at 0x0000022A914C04B0> ,hold 6064 ms
[INFO]2021-04-28 11:33:50,171: name=scada.6088d740e0811de98b8d68bb, pid=8668, tid=15876
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 11:33:50,172: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [dropPayload] movePreSourceStep -> dropPayload
[INFO]2021-04-28 11:33:51,050: ------------------------根据agvControl中的_func来到agvList中的moveJackdown---------------999--------
[DEBUG]2021-04-28 11:33:51,053: agvInfo: AGV30 meiwei423.8 move jackdown to meiwei423.7 ,taskId 6088d740e0811de98b8d68bb_5
[DEBUG]2021-04-28 11:33:52,784: AGV30 set loc meiwei423.7 ,old 8 (23.45,0.76)
[WARNING]2021-04-28 11:33:53,089: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 11:33:53,598: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 11:33:54,126: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 11:33:54,633: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[SUCC]2021-04-28 11:33:56,164: Finish:  AGV30 arrived meiwei423.7 ,task: 6088d740e0811de98b8d68bb_5
[INFO]2021-04-28 11:33:56,326: task: move finish callback task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [dropPayload]
[INFO]2021-04-28 11:33:56,330: ******************假设是顶升*******************
[INFO]2021-04-28 11:33:56,334: task[6088d740e0811de98b8d68bb] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 4, 28, 11, 33, 56, 332925)}
[INFO]2021-04-28 11:33:56,460: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [dropPayloadJackdown] _jackDown
[DEBUG]2021-04-28 11:33:56,465: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 11:33:56,469: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 11:33:56,472: ************run jackDownOld********************
[DEBUG]2021-04-28 11:33:57,485: used 1016ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 11:33:57,722: [return] use 1257 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 11:33:57,799: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-04-28 11:33:58,320: task[6088d740e0811de98b8d68bb]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 4, 28, 11, 33, 58, 256783), 'status': 'success'}
[DEBUG]2021-04-28 11:33:58,400: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [finish] dropPayloadReset -> finish
[INFO]2021-04-28 11:33:58,862: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [finish] AGV30 release task, release agv True True False
[DEBUG]2021-04-28 11:33:59,114: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=6088d740e0811de98b8d68bb addr: 127.0.0.1
[DEBUG]2021-04-28 11:33:59,195: used 81ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=6088d740e0811de98b8d68bb
[DEBUG]2021-04-28 11:33:59,396: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=6088d740e0811de98b8d68bb addr: 127.0.0.1
[DEBUG]2021-04-28 11:33:59,489: unlock: AGV30 taskId 6088d740e0811de98b8d68bb app MeiWeiTask force False
[DEBUG]2021-04-28 11:33:59,583: used 187ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=6088d740e0811de98b8d68bb
[INFO]2021-04-28 11:33:59,711: task[6088d740e0811de98b8d68bb][AGV30] 6(1) -> 7(8) [finish] let AGV30 gohome
[DEBUG]2021-04-28 11:33:59,885: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-04-28 11:33:59,979: AGV30 gohome home_1 force False taskId home_1 : AGV30.7 -> meiwei423.9
[INFO]2021-04-28 11:34:01,757: Begin: AGV30 move from meiwei423.7 to meiwei423.9 by paths: [('meiwei423', ['7', '9'], 3.87438880919504)] task: home_1 timeout 10800 used 1699 ms
[DEBUG]2021-04-28 11:34:01,853: used 1968ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800
[INFO]2021-04-28 11:34:01,915: task: prepoint released2  6088d740e0811de98b8d68bb meiwei423.7
[WARNING]2021-04-28 11:34:01,977: scada.6088d740e0811de98b8d68bb[tid:15876] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=15876 count=1 at 0x0000022A8EDCA3C0>> ,hold 3115 ms
[INFO]2021-04-28 11:34:02,104: name=scada.6088d740e0811de98b8d68bb, pid=8668, tid=15876
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 561, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 11:34:02,183: **********上一个按钮任务结束，重置状态，允许继续接受按钮任务************
[INFO]2021-04-28 11:34:02,246: 运行结束，重置running
[INFO]2021-04-28 11:34:02,279: task: stop task[6088d740e0811de98b8d68bb][-] 6(1) -> 7(8) [finish]
[DEBUG]2021-04-28 11:34:03,201: task: delete task 6088d740e0811de98b8d68bb
[DEBUG]2021-04-28 11:34:04,077: agvInfo: AGV30 meiwei423.7 move to meiwei423.9 ,taskId home_1
[DEBUG]2021-04-28 11:34:13,538: AGV30 set loc meiwei423.9 ,old 7 (27.33,0.85)
[WARNING]2021-04-28 11:34:13,979: AGV30 waitFinish status error: 9 ,target= 9 task_status= 2
[SUCC]2021-04-28 11:34:15,620: Finish:  AGV30 arrived meiwei423.9 ,task: home_1
[DEBUG]2021-04-28 11:34:15,795: unlock: AGV30 taskId None app None force False
[INFO]2021-04-28 11:36:31,856: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54439
[INFO]2021-04-28 11:36:32,059: **************回复线程启动**************
[INFO]2021-04-28 11:41:32,852: tcp server [0.0.0.0][10001] ,connectedLen: 3, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54440
[INFO]2021-04-28 11:41:33,120: **************回复线程启动**************
[INFO]2021-04-28 11:46:33,870: tcp server [0.0.0.0][10001] ,connectedLen: 4, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54441
[INFO]2021-04-28 11:46:33,996: **************回复线程启动**************
[INFO]2021-04-28 11:51:35,666: tcp server [0.0.0.0][10001] ,connectedLen: 5, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54442
[INFO]2021-04-28 11:51:35,776: **************回复线程启动**************
[INFO]2021-04-28 11:56:37,198: tcp server [0.0.0.0][10001] ,connectedLen: 6, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54443
[INFO]2021-04-28 11:56:37,309: **************回复线程启动**************
[INFO]2021-04-28 12:01:38,219: tcp server [0.0.0.0][10001] ,connectedLen: 7, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:54444
[INFO]2021-04-28 12:01:38,298: **************回复线程启动**************
[INFO]2021-04-28 12:05:14,465: tcp server [0.0.0.0][10001] ,connectedLen: 8, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58232
[INFO]2021-04-28 12:05:14,608: **************回复线程启动**************
[INFO]2021-04-28 12:05:14,655: 按钮任务状态： False
[INFO]2021-04-28 12:05:14,701: ****************接受到的数据**************： devID: 223 keyID: 1
[INFO]2021-04-28 12:05:14,781: ********按钮值********: {'bt_1': 1, 'bt_2': 0, 'bt_3': 0}
[INFO]2021-04-28 12:05:16,210: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[INFO]2021-04-28 12:05:16,259: 1 号工位放行
[INFO]2021-04-28 12:05:16,449: 按钮任务状态： False
[INFO]2021-04-28 12:05:16,495: ****************接受到的数据**************： devID: 223 keyID: 2
[INFO]2021-04-28 12:05:16,527: ********按钮值********: {'bt_1': 0, 'bt_2': 1, 'bt_3': 0}
[INFO]2021-04-28 12:05:17,746: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 12:05:17,794: 2 号工位放行
[INFO]2021-04-28 12:05:17,939: 按钮任务状态： False
[INFO]2021-04-28 12:05:18,018: ****************接受到的数据**************： devID: 223 keyID: 3
[INFO]2021-04-28 12:05:18,081: ********按钮值********: {'bt_1': 0, 'bt_2': 0, 'bt_3': 1}
[INFO]2021-04-28 12:05:19,608: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 12:05:19,671: 3 号工位放行
[INFO]2021-04-28 12:05:21,273: 按钮任务状态： False
[INFO]2021-04-28 12:05:21,352: ****************接受到的数据**************： devID: 223 keyID: 2
[INFO]2021-04-28 12:05:21,414: ********按钮值********: {'bt_1': 0, 'bt_2': 1, 'bt_3': 0}
[INFO]2021-04-28 12:05:22,623: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p2
[INFO]2021-04-28 12:05:22,686: 2 号工位放行
[INFO]2021-04-28 12:05:22,827: 按钮任务状态： False
[INFO]2021-04-28 12:05:22,936: ****************接受到的数据**************： devID: 223 keyID: 1
[INFO]2021-04-28 12:05:22,984: ********按钮值********: {'bt_1': 1, 'bt_2': 0, 'bt_3': 0}
[INFO]2021-04-28 12:05:23,919: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[INFO]2021-04-28 12:05:23,982: 1 号工位放行
[INFO]2021-04-28 12:05:27,898: 按钮任务状态： False
[INFO]2021-04-28 12:05:27,978: ****************接受到的数据**************： devID: 223 keyID: 4
[INFO]2021-04-28 12:05:28,057: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-04-28 12:05:28,153: create task[6088df08e0811de98b8d68bc]: type= scadaTask , 从MeiWeiSource运送货架到MeiWeiTarget {'source': 'MeiWeiSource', 'target': 'MeiWeiTarget', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从MeiWeiSource运送货架到MeiWeiTarget', 'createTime': datetime.datetime(2021, 4, 28, 12, 5, 28, 121646), 'updateTime': datetime.datetime(2021, 4, 28, 12, 5, 28, 121646), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('6088df08e0811de98b8d68bc')}
[INFO]2021-04-28 12:05:28,374: task[6088df08e0811de98b8d68bc]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 4, 28, 12, 5, 28, 359012), 'updateTime': datetime.datetime(2021, 4, 28, 12, 5, 28, 359012), 'status': 'running'}
[INFO]2021-04-28 12:05:28,498: task: start task[6088df08e0811de98b8d68bc][-] 6(1) -> 7(8) [waiting]
[INFO]2021-04-28 12:05:28,720: task[6088df08e0811de98b8d68bc] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 4, 28, 12, 5, 28, 672175)}
[DEBUG]2021-04-28 12:05:28,848: task[6088df08e0811de98b8d68bc][-] 6(1) -> 7(8) [waitForAgv] waiting -> waitForAgv
[INFO]2021-04-28 12:05:29,675: 信息*********map: meiwei423 agvId AGV30 tyepe: release loc home
[INFO]2021-04-28 12:05:29,787: 4 号工位放行
[INFO]2021-04-28 12:05:29,929: ******************url********************: http://127.0.0.1:5551
[DEBUG]2021-04-28 12:05:30,137: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei423&taskId=6088df08e0811de98b8d68bc&timeout=10 addr: 127.0.0.1
[INFO]2021-04-28 12:05:31,487: apply AGV30 ,taskId: 6088df08e0811de98b8d68bc ,loc meiwei423.1 ,autoLock False , used 1223 ms
[DEBUG]2021-04-28 12:05:31,535: used 1398ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc=1&mapId=meiwei423&taskId=6088df08e0811de98b8d68bc&timeout=10
[DEBUG]2021-04-28 12:05:31,999: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=6088df08e0811de98b8d68bc addr: 127.0.0.1
[DEBUG]2021-04-28 12:05:32,109: lock:  AGV30 taskId 6088df08e0811de98b8d68bc app MeiWeiTask
[WARNING]2021-04-28 12:05:33,255: AGV30 clear task finish, cur= meiwei423.9 task_status= 0
[DEBUG]2021-04-28 12:05:33,415: used 1417ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV30&appName=MeiWeiTask&taskId=6088df08e0811de98b8d68bc
[INFO]2021-04-28 12:05:33,639: task[6088df08e0811de98b8d68bc][-] 6(1) -> 7(8) [waitForAgv] apply AGV30
[INFO]2021-04-28 12:05:33,782: task[6088df08e0811de98b8d68bc] update info: {'agvId': 'AGV30', 'failMsg': '成功分配小车AGV30,检测顶升下降', 'updateTime': datetime.datetime(2021, 4, 28, 12, 5, 33, 750450)}
[WARNING]2021-04-28 12:05:33,894: scada.6088df08e0811de98b8d68bc[tid:5856] <locked _thread.RLock object owner=5856 count=1 at 0x0000022A9169F6C0> ,hold 3965 ms
[INFO]2021-04-28 12:05:34,066: name=scada.6088df08e0811de98b8d68bc, pid=8668, tid=5856
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 12:05:34,146: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-04-28 12:05:34,639: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [initJackdown] _jackDown
[DEBUG]2021-04-28 12:05:34,765: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:05:34,987: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 12:05:35,067: ************run jackDownOld********************
[DEBUG]2021-04-28 12:05:36,208: used 1221ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:05:36,319: [return] use 1554 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 12:05:36,367: task[6088df08e0811de98b8d68bc] update info: {'failMsg': '前往MeiWeiSource工位点拉取货架', 'updateTime': datetime.datetime(2021, 4, 28, 12, 5, 36, 335862)}
[DEBUG]2021-04-28 12:05:36,447: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [moveToPreSrc] initJackdown -> moveToPreSrc
[INFO]2021-04-28 12:05:36,940: ***************调用move方法
[DEBUG]2021-04-28 12:05:37,075: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei423&isRotate&loc=meiwei423.1&location=1&taskId=6088df08e0811de98b8d68bc_2&taskType=scadaTask&timeoutSec=86400 addr: 127.0.0.1
[INFO]2021-04-28 12:05:37,110: Begin: AGV30 move from meiwei423.9 to meiwei423.1 by paths: [('meiwei423', ['9', '7', '8', '6', '1'], 26.065498026668134)] task: 6088df08e0811de98b8d68bc_2 timeout 86400 used 32 ms
[DEBUG]2021-04-28 12:05:37,112: used 37ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&floorId=meiwei423&isRotate&loc=meiwei423.1&location=1&taskId=6088df08e0811de98b8d68bc_2&taskType=scadaTask&timeoutSec=86400
[INFO]2021-04-28 12:05:37,120: 移动到source的前置点 1
[DEBUG]2021-04-28 12:05:37,124: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish] moveToPreSrc -> moveToPreSrc_onfinish
[DEBUG]2021-04-28 12:05:37,984: agvInfo: AGV30 meiwei423.9 move to meiwei423.1 ,taskId 6088df08e0811de98b8d68bc_2
[DEBUG]2021-04-28 12:05:44,741: AGV30 set loc meiwei423.7 ,old 9 (23.45,0.76)
[DEBUG]2021-04-28 12:05:46,265: AGV30 set loc meiwei423.8 ,old 7 (22.21,0.72)
[DEBUG]2021-04-28 12:06:11,702: AGV30 set loc meiwei423.6 ,old 8 (2.20,0.27)
[DEBUG]2021-04-28 12:06:13,230: AGV30 set loc meiwei423.1 ,old 6 (2.12,0.99)
[WARNING]2021-04-28 12:06:13,598: AGV30 waitFinish status error: 1 ,target= 1 task_status= 2
[SUCC]2021-04-28 12:06:15,117: Finish:  AGV30 arrived meiwei423.1 ,task: 6088df08e0811de98b8d68bc_2
[INFO]2021-04-28 12:06:15,280: task: move finish callback task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [moveToPreSrc_onfinish]
[INFO]2021-04-28 12:06:15,282: **********等待料盒信号*************
[INFO]2021-04-28 12:06:15,356: ***************调用_moveJackup方法
[DEBUG]2021-04-28 12:06:15,360: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=6088df08e0811de98b8d68bc_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 12:06:15,379: Begin: AGV30 move from meiwei423.1 to meiwei423.6 by paths: [('meiwei423', ['1', '6'], 0.8303840339922958)] task: 6088df08e0811de98b8d68bc_3 timeout 86400 used 16 ms
[DEBUG]2021-04-28 12:06:15,381: used 21ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.6&location=6&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackLoad&taskId=6088df08e0811de98b8d68bc_3&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 12:06:15,383: ==============================runTasks._moveJackup()结束====================================
[DEBUG]2021-04-28 12:06:15,384: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [loadPlayload] startMoveJackup -> loadPlayload
[INFO]2021-04-28 12:06:16,173: ------------------------根据agvControl中的_func来到agvList中的moveJackup---------------999--------
[DEBUG]2021-04-28 12:06:16,176: agvInfo: AGV30 meiwei423.1 move jackup to meiwei423.6 ,taskId 6088df08e0811de98b8d68bc_3
[DEBUG]2021-04-28 12:06:17,298: AGV30 set loc meiwei423.6 ,old 1 (2.15,0.37)
[WARNING]2021-04-28 12:06:17,715: AGV30 waitFinish status error: 6 ,target= 6 task_status= 2
[SUCC]2021-04-28 12:06:19,235: Finish:  AGV30 arrived meiwei423.6 ,task: 6088df08e0811de98b8d68bc_3
[INFO]2021-04-28 12:06:19,350: task: move finish callback task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [loadPlayload]
[INFO]2021-04-28 12:06:19,352: ***************进入onFinish.loadPlayload**********************
[INFO]2021-04-28 12:06:19,355: task[6088df08e0811de98b8d68bc] update info: {'failMsg': 'AGV顶升', 'updateTime': datetime.datetime(2021, 4, 28, 12, 6, 19, 354851)}
[DEBUG]2021-04-28 12:06:19,394: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] loadPlayload_readqr -> loadPlayload_jackup
[INFO]2021-04-28 12:06:19,711: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [loadPlayload_jackup] _jackUp
[DEBUG]2021-04-28 12:06:19,713: send http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:06:19,717: GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 12:06:19,719: ************run jackUpOld********************
[DEBUG]2021-04-28 12:06:20,745: used 1028ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:06:20,986: [return] use 1273 ms,http_get: http://127.0.0.1:5551/api/agv/jackupOld?agv=AGV30&loc=None&timeoutSec=90
[INFO]2021-04-28 12:06:21,112: task[6088df08e0811de98b8d68bc] update info: {'failMsg': '等待MeiWeiTarget工位点锁', 'updateTime': datetime.datetime(2021, 4, 28, 12, 6, 21, 16928)}
[DEBUG]2021-04-28 12:06:21,208: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [waitDestPreLoc] loadPlayload_jackup -> waitDestPreLoc
[INFO]2021-04-28 12:06:21,703: task: prepoint locked  6088df08e0811de98b8d68bc meiwei423.7
[INFO]2021-04-28 12:06:21,812: task[6088df08e0811de98b8d68bc] update info: {'failMsg': '前往7工位点放下货架', 'updateTime': datetime.datetime(2021, 4, 28, 12, 6, 21, 766924)}
[DEBUG]2021-04-28 12:06:21,924: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [movePreSource] waitDestPreLoc -> movePreSource
[INFO]2021-04-28 12:06:22,387: ***************进入目的地的前置点************
[INFO]2021-04-28 12:06:22,483: ***************调用move方法
[DEBUG]2021-04-28 12:06:22,566: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.8&location=8&p_direction=0.0&recognize=False&result=True&resultDesc=None&taskId=6088df08e0811de98b8d68bc_4&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 12:06:22,616: Begin: AGV30 move from meiwei423.6 to meiwei423.8 by paths: [('meiwei423', ['6', '8'], 20.21778345454478)] task: 6088df08e0811de98b8d68bc_4 timeout 86400 used 45 ms
[DEBUG]2021-04-28 12:06:22,620: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [movePreSourceStep] movePreSource -> movePreSourceStep
[DEBUG]2021-04-28 12:06:23,490: agvInfo: AGV30 meiwei423.6 move to meiwei423.8 ,taskId 6088df08e0811de98b8d68bc_4
[DEBUG]2021-04-28 12:06:51,960: AGV30 set loc meiwei423.8 ,old 6 (22.36,0.73)
[SUCC]2021-04-28 12:06:53,041: Finish:  AGV30 arrived meiwei423.8 ,task: 6088df08e0811de98b8d68bc_4
[INFO]2021-04-28 12:06:53,188: task: move finish callback task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [movePreSourceStep]
[INFO]2021-04-28 12:06:53,190: ********************************目的地前置点的onFinish位置********************
[INFO]2021-04-28 12:06:53,192: 等待对接信号！ 2021-04-28 12:06:53
[INFO]2021-04-28 12:06:56,203: 等待对接信号！ 2021-04-28 12:06:56
[INFO]2021-04-28 12:06:59,217: 等待对接信号！ 2021-04-28 12:06:59
[INFO]2021-04-28 12:06:59,219: 检测到进去的信号，进入工位取料
[WARNING]2021-04-28 12:06:59,220: Thread-3[tid:9756] <locked _thread.RLock object owner=9756 count=1 at 0x0000022A9169F6C0> ,hold 6032 ms
[INFO]2021-04-28 12:06:59,222: name=Thread-3, pid=8668, tid=9756
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../agvCtrl/agvApi.py", line 279, in _checkFinish() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 12:06:59,225: ***************调用_moveJackdown方法
[DEBUG]2021-04-28 12:06:59,229: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6088df08e0811de98b8d68bc_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False addr: 127.0.0.1
[INFO]2021-04-28 12:06:59,245: Begin: AGV30 move from meiwei423.8 to meiwei423.7 by paths: [('meiwei423', ['8', '7'], 1.1429417289360195)] task: 6088df08e0811de98b8d68bc_5 timeout 86400 used 15 ms
[DEBUG]2021-04-28 12:06:59,247: used 19ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV30&agvId=AGV30&appName=MeiWeiTask&direction=None&floorId=meiwei423&isRotate&loc=meiwei423.7&location=7&p_direction=0.0&recognize=False&result=True&resultDesc=None&seer_jackup=JackUnload&taskId=6088df08e0811de98b8d68bc_5&taskType=scadaTask&timeoutSec=86400&use_pgv=False
[INFO]2021-04-28 12:06:59,251: task[6088df08e0811de98b8d68bc] update info: {'step': 'dropPayload', 'updateTime': datetime.datetime(2021, 4, 28, 12, 6, 59, 250307)}
[INFO]2021-04-28 12:06:59,253: 当前步骤： dropPayload
[WARNING]2021-04-28 12:06:59,254: scada.6088df08e0811de98b8d68bc[tid:5856] <locked _thread.RLock object owner=5856 count=1 at 0x0000022A9169F6C0> ,hold 5989 ms
[INFO]2021-04-28 12:06:59,256: name=scada.6088df08e0811de98b8d68bc, pid=8668, tid=5856
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 564, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-04-28 12:06:59,258: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [dropPayload] movePreSourceStep -> dropPayload
[INFO]2021-04-28 12:07:00,179: ------------------------根据agvControl中的_func来到agvList中的moveJackdown---------------999--------
[DEBUG]2021-04-28 12:07:00,181: agvInfo: AGV30 meiwei423.8 move jackdown to meiwei423.7 ,taskId 6088df08e0811de98b8d68bc_5
[DEBUG]2021-04-28 12:07:02,638: AGV30 set loc meiwei423.7 ,old 8 (23.51,0.77)
[WARNING]2021-04-28 12:07:02,739: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 12:07:03,254: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[WARNING]2021-04-28 12:07:03,763: AGV30 waitFinish status error: 7 ,target= 7 task_status= 2
[SUCC]2021-04-28 12:07:05,277: Finish:  AGV30 arrived meiwei423.7 ,task: 6088df08e0811de98b8d68bc_5
[INFO]2021-04-28 12:07:05,329: task: move finish callback task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [dropPayload]
[INFO]2021-04-28 12:07:05,332: ******************假设是顶升*******************
[INFO]2021-04-28 12:07:05,334: task[6088df08e0811de98b8d68bc] update info: {'failMsg': '放下货架，旋转顶升机构初始化', 'updateTime': datetime.datetime(2021, 4, 28, 12, 7, 5, 333047)}
[INFO]2021-04-28 12:07:05,420: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [dropPayloadJackdown] _jackDown
[DEBUG]2021-04-28 12:07:05,422: send http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:07:05,425: GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-04-28 12:07:05,427: ************run jackDownOld********************
[DEBUG]2021-04-28 12:07:06,438: used 1013ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:07:06,613: [return] use 1191 ms,http_get: http://127.0.0.1:5551/api/agv/jackdownOld?agv=AGV30&loc=None&timeoutSec=90
[DEBUG]2021-04-28 12:07:06,677: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [dropPayloadReset] dropPayloadJackdown -> dropPayloadReset
[INFO]2021-04-28 12:07:07,140: task[6088df08e0811de98b8d68bc]:  successed {'step': 'finish', 'failMsg': '任务成功', 'endTime': datetime.datetime(2021, 4, 28, 12, 7, 7, 92383), 'status': 'success'}
[DEBUG]2021-04-28 12:07:07,203: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [finish] dropPayloadReset -> finish
[INFO]2021-04-28 12:07:07,695: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [finish] AGV30 release task, release agv True True False
[DEBUG]2021-04-28 12:07:07,851: GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=6088df08e0811de98b8d68bc addr: 127.0.0.1
[DEBUG]2021-04-28 12:07:07,915: used 64ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/isLocked?agv=AGV30&appName=MeiWeiTask&taskId=6088df08e0811de98b8d68bc
[DEBUG]2021-04-28 12:07:08,198: GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=6088df08e0811de98b8d68bc addr: 127.0.0.1
[DEBUG]2021-04-28 12:07:08,277: unlock: AGV30 taskId 6088df08e0811de98b8d68bc app MeiWeiTask force False
[DEBUG]2021-04-28 12:07:08,340: used 142ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/release?agv=AGV30&appName=MeiWeiTask&force=False&taskId=6088df08e0811de98b8d68bc
[INFO]2021-04-28 12:07:08,451: task[6088df08e0811de98b8d68bc][AGV30] 6(1) -> 7(8) [finish] let AGV30 gohome
[DEBUG]2021-04-28 12:07:08,707: GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800 addr: 127.0.0.1
[INFO]2021-04-28 12:07:08,786: AGV30 gohome home_2 force False taskId home_2 : AGV30.7 -> meiwei423.9
[INFO]2021-04-28 12:07:10,496: Begin: AGV30 move from meiwei423.7 to meiwei423.9 by paths: [('meiwei423', ['7', '9'], 3.87438880919504)] task: home_2 timeout 10800 used 1635 ms
[DEBUG]2021-04-28 12:07:10,576: used 1869ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/goHome?agv=AGV30&appName=MeiWeiTask&force=False&timeout=10800
[INFO]2021-04-28 12:07:10,747: task: prepoint released2  6088df08e0811de98b8d68bc meiwei423.7
[WARNING]2021-04-28 12:07:10,811: scada.6088df08e0811de98b8d68bc[tid:5856] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=5856 count=1 at 0x0000022A8EDCA3C0>> ,hold 3116 ms
[INFO]2021-04-28 12:07:11,015: name=scada.6088df08e0811de98b8d68bc, pid=8668, tid=5856
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "E:/projects_by_myself/backup/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 561, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-28 12:07:11,063: **********上一个按钮任务结束，重置状态，允许继续接受按钮任务************
[INFO]2021-04-28 12:07:11,158: 运行结束，重置running
[INFO]2021-04-28 12:07:11,238: task: stop task[6088df08e0811de98b8d68bc][-] 6(1) -> 7(8) [finish]
[DEBUG]2021-04-28 12:07:12,076: task: delete task 6088df08e0811de98b8d68bc
[DEBUG]2021-04-28 12:07:12,700: agvInfo: AGV30 meiwei423.7 move to meiwei423.9 ,taskId home_2
[DEBUG]2021-04-28 12:07:19,644: AGV30 set loc meiwei423.9 ,old 7 (27.38,0.85)
[SUCC]2021-04-28 12:07:21,405: Finish:  AGV30 arrived meiwei423.9 ,task: home_2
[DEBUG]2021-04-28 12:07:21,533: unlock: AGV30 taskId None app None force False
[INFO]2021-04-28 12:10:15,532: tcp server [0.0.0.0][10001] ,connectedLen: 9, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58233
[INFO]2021-04-28 12:10:15,691: **************回复线程启动**************
[INFO]2021-04-28 12:15:16,520: tcp server [0.0.0.0][10001] ,connectedLen: 10, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58234
[INFO]2021-04-28 12:15:16,660: **************回复线程启动**************
[INFO]2021-04-28 12:20:17,573: tcp server [0.0.0.0][10001] ,connectedLen: 11, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58235
[INFO]2021-04-28 12:20:17,668: **************回复线程启动**************
[INFO]2021-04-28 12:25:18,569: tcp server [0.0.0.0][10001] ,connectedLen: 12, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58236
[INFO]2021-04-28 12:25:18,649: **************回复线程启动**************
[INFO]2021-04-28 12:30:26,652: tcp server [0.0.0.0][10001] ,connectedLen: 13, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58238
[INFO]2021-04-28 12:30:26,765: **************回复线程启动**************
[INFO]2021-04-28 12:35:27,726: tcp server [0.0.0.0][10001] ,connectedLen: 14, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58239
[INFO]2021-04-28 12:35:27,900: **************回复线程启动**************
[INFO]2021-04-28 12:40:28,637: tcp server [0.0.0.0][10001] ,connectedLen: 15, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58240
[INFO]2021-04-28 12:40:28,797: **************回复线程启动**************
[INFO]2021-04-28 12:45:29,689: tcp server [0.0.0.0][10001] ,connectedLen: 16, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58241
[INFO]2021-04-28 12:45:29,802: **************回复线程启动**************
[INFO]2021-04-28 12:50:30,694: tcp server [0.0.0.0][10001] ,connectedLen: 17, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58242
[INFO]2021-04-28 12:50:30,836: **************回复线程启动**************
[INFO]2021-04-28 12:55:31,737: tcp server [0.0.0.0][10001] ,connectedLen: 18, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58243
[INFO]2021-04-28 12:55:31,863: **************回复线程启动**************
[INFO]2021-04-28 13:00:32,764: tcp server [0.0.0.0][10001] ,connectedLen: 19, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58244
[INFO]2021-04-28 13:00:32,845: **************回复线程启动**************
[INFO]2021-04-28 13:05:33,751: tcp server [0.0.0.0][10001] ,connectedLen: 20, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58245
[INFO]2021-04-28 13:05:33,943: **************回复线程启动**************
[INFO]2021-04-28 13:10:34,795: tcp server [0.0.0.0][10001] ,connectedLen: 21, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58246
[INFO]2021-04-28 13:10:34,875: **************回复线程启动**************
[INFO]2021-04-28 13:14:25,238: tcp server [0.0.0.0][10001] ,connectedLen: 22, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58248
[INFO]2021-04-28 13:14:25,377: **************回复线程启动**************
[INFO]2021-04-28 13:19:26,283: tcp server [0.0.0.0][10001] ,connectedLen: 23, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58249
[INFO]2021-04-28 13:19:26,422: **************回复线程启动**************
[INFO]2021-04-28 13:24:27,316: tcp server [0.0.0.0][10001] ,connectedLen: 24, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58250
[INFO]2021-04-28 13:24:27,427: **************回复线程启动**************
[INFO]2021-04-28 13:29:28,345: tcp server [0.0.0.0][10001] ,connectedLen: 25, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58251
[INFO]2021-04-28 13:29:28,457: **************回复线程启动**************
[INFO]2021-04-28 13:34:29,350: tcp server [0.0.0.0][10001] ,connectedLen: 26, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58252
[INFO]2021-04-28 13:34:29,431: **************回复线程启动**************
[INFO]2021-04-28 13:39:30,372: tcp server [0.0.0.0][10001] ,connectedLen: 27, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58253
[INFO]2021-04-28 13:39:30,437: **************回复线程启动**************
[INFO]2021-04-28 13:44:31,434: tcp server [0.0.0.0][10001] ,connectedLen: 28, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58254
[INFO]2021-04-28 13:44:31,575: **************回复线程启动**************
[INFO]2021-04-28 13:49:32,432: tcp server [0.0.0.0][10001] ,connectedLen: 29, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58255
[INFO]2021-04-28 13:49:32,496: **************回复线程启动**************
[INFO]2021-04-28 13:54:33,439: tcp server [0.0.0.0][10001] ,connectedLen: 30, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58256
[INFO]2021-04-28 13:54:33,469: **************回复线程启动**************
[INFO]2021-04-28 13:59:34,420: tcp server [0.0.0.0][10001] ,connectedLen: 31, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58257
[INFO]2021-04-28 13:59:34,468: **************回复线程启动**************
[INFO]2021-04-28 14:04:35,444: tcp server [0.0.0.0][10001] ,connectedLen: 32, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58258
[INFO]2021-04-28 14:04:35,489: **************回复线程启动**************
[INFO]2021-04-28 14:09:36,473: tcp server [0.0.0.0][10001] ,connectedLen: 33, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58259
[INFO]2021-04-28 14:09:36,543: **************回复线程启动**************
[INFO]2021-04-28 14:14:37,505: tcp server [0.0.0.0][10001] ,connectedLen: 34, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58260
[INFO]2021-04-28 14:14:37,596: **************回复线程启动**************
[INFO]2021-04-28 14:19:38,543: tcp server [0.0.0.0][10001] ,connectedLen: 35, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58261
[INFO]2021-04-28 14:19:38,670: **************回复线程启动**************
[INFO]2021-04-28 14:24:39,526: tcp server [0.0.0.0][10001] ,connectedLen: 36, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58262
[INFO]2021-04-28 14:24:39,604: **************回复线程启动**************
[INFO]2021-04-28 14:29:40,546: tcp server [0.0.0.0][10001] ,connectedLen: 37, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58263
[INFO]2021-04-28 14:29:40,608: **************回复线程启动**************
[INFO]2021-04-28 14:34:41,618: tcp server [0.0.0.0][10001] ,connectedLen: 38, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58264
[INFO]2021-04-28 14:34:41,746: **************回复线程启动**************
[INFO]2021-04-28 14:39:42,596: tcp server [0.0.0.0][10001] ,connectedLen: 39, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58265
[INFO]2021-04-28 14:39:42,676: **************回复线程启动**************
[INFO]2021-04-28 14:44:43,620: tcp server [0.0.0.0][10001] ,connectedLen: 40, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:58266
[INFO]2021-04-28 14:44:43,696: **************回复线程启动**************
[ERROR]2021-04-28 14:46:42,302: user press Ctrl+C, system quit!
[WARNING]2021-04-28 14:46:42,304: runTask:stop save file
[ERROR]2021-04-28 14:46:42,350: process exited, living 3:15:12.620367 seconds
