[INFO]2021-05-11 10:39:49,511: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-05-11 10:39:49,513: find module account.main_account
[INFO]2021-05-11 10:39:49,525: find module agvCtrl.main_agv
[INFO]2021-05-11 10:39:49,528: find module agvDevice.main_agvDevice
[INFO]2021-05-11 10:39:49,529: find module akmCtrl.main_akmCtrl
[INFO]2021-05-11 10:39:49,530: find module alarm.main_alarm
[INFO]2021-05-11 10:39:49,531: find module auth.main_auth
[INFO]2021-05-11 10:39:49,533: find module door.main_door
[INFO]2021-05-11 10:39:49,534: find module elevator.main_elevator
[INFO]2021-05-11 10:39:49,535: find module feed.main_feed
[INFO]2021-05-11 10:39:49,536: find module feed.main_feed_0427
[INFO]2021-05-11 10:39:49,536: find module remoteio.main_remoteio
[INFO]2021-05-11 10:39:49,537: import account.main_account
[INFO]2021-05-11 10:39:49,900: import agvCtrl.main_agv
[INFO]2021-05-11 10:39:52,515: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607B325060>>
[INFO]2021-05-11 10:39:53,741: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607B3305A0>>
[INFO]2021-05-11 10:39:54,214: create lock <lock name:timer.lock_2613413675984,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607B980540>>
[ERROR]2021-05-11 10:39:54,269: mqtt is disabled
[INFO]2021-05-11 10:39:54,271: mqtt: subscribe [alarm/raise/+]
[INFO]2021-05-11 10:39:54,272: mqtt: subscribe [alarm/clear/+]
[INFO]2021-05-11 10:39:57,488: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-05-11 10:39:57,550: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607BB91F30>>
[WARNING]2021-05-11 10:39:57,610: use mockAgvCtrl
[INFO]2021-05-11 10:39:57,614: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026079C044E0>>
[INFO]2021-05-11 10:39:57,789: name=pymongo_kill_cursors_thread, pid=10960, tid=5972
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/pymongo/periodic_executor.py", line 140, in _run() 

name=pymongo_server_monitor_thread, pid=10960, tid=10532
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/site-packages/pymongo/periodic_executor.py", line 140, in _run() 

name=tcplisten.port_6789, pid=10960, tid=15836
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/tcpSocket.py", line 66, in _acceptThread() 
[03] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/socket.py", line 292, in accept() 

name=MainThread, pid=10960, tid=13200
[01] File "run_all.py", line 57, in <module>() 
[02] File "run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/main_agv.py", line 10, in <module>() 
[09] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[10] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[11] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[12] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[13] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[14] File "E:/projects_by_myself/backup/MeiWei_back_0421/agvCtrl/mapMgr.py", line 35, in <module>() 
[15] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/local.py", line 84, in get() 
[16] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/local.py", line 33, in _get_cfg() 
[17] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/local.py", line 28, in _loadStackFiles() 
[18] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/local.py", line 19, in _add() 
[19] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/config.py", line 26, in __init__() 
[20] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/config.py", line 45, in load() 
[21] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/config.py", line 36, in getIncludeCfg() 
[22] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/config.py", line 24, in __init__() 
[23] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/genericpath.py", line 19, in exists() 
[24] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/utility.py", line 598, in exit() 
[25] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 256, in getTrace() 
[26] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-05-11 10:39:57,798: lock info: count 0

try lock info: count 0
[ERROR]2021-05-11 10:39:57,801: user press Ctrl+C, print thread stack
[INFO]2021-05-11 10:39:58,193: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607CC659C0>>
[INFO]2021-05-11 10:39:58,199: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607CD153C0>>
[INFO]2021-05-11 10:39:58,271: charge policy 1 , fix time
[INFO]2021-05-11 10:39:58,311: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002607CD15F60>>
[INFO]2021-05-11 10:39:59,229: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-05-11 10:39:59,581: elevator thread start
[INFO]2021-05-11 10:39:59,612: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 392 ms
[INFO]2021-05-11 10:39:59,631: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-05-11 10:39:59,692: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 78 ms
[INFO]2021-05-11 10:39:59,702: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-05-11 10:39:59,849: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 156 ms
[INFO]2021-05-11 10:39:59,861: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-05-11 10:40:00,071: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 221 ms
[INFO]2021-05-11 10:40:00,081: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-05-11 10:40:00,156: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 84 ms
[INFO]2021-05-11 10:40:00,166: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-05-11 10:40:00,267: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 110 ms
[INFO]2021-05-11 10:40:00,272: import agvDevice.main_agvDevice
[INFO]2021-05-11 10:40:00,274: import akmCtrl.main_akmCtrl
[INFO]2021-05-11 10:40:00,366: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026000891090>>
[INFO]2021-05-11 10:40:00,462: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000260008CCD80>>
[INFO]2021-05-11 10:40:00,500: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000260003B7C00>>
[INFO]2021-05-11 10:40:00,501: create lock <lock name:timer.lock_2611344011760,<unlocked _thread.RLock object owner=0 count=0 at 0x00000260003B7390>>
[INFO]2021-05-11 10:40:00,504: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026000704510>>
[INFO]2021-05-11 10:40:00,587: import alarm.main_alarm
[INFO]2021-05-11 10:40:00,589: import auth.main_auth
[INFO]2021-05-11 10:40:00,603: import door.main_door
[INFO]2021-05-11 10:40:00,606: import elevator.main_elevator
[INFO]2021-05-11 10:40:00,614: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000260007384B0>>
[INFO]2021-05-11 10:40:00,615: import feed.main_feed
[INFO]2021-05-11 10:40:00,653: IP: 0.0.0.0 port: 10001
[INFO]2021-05-11 10:40:00,655: import feed.main_feed_0427
[INFO]2021-05-11 10:40:00,693: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000260008DE6C0>>
[INFO]2021-05-11 10:40:00,784: import remoteio.main_remoteio
[SUCC]2021-05-11 10:40:00,825: utility start, pid=10960, ppid=10036
[DEBUG]2021-05-11 10:40:00,827: start timer
[INFO]2021-05-11 10:40:00,839: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-05-11 10:40:00,840: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026000906120>>
[DEBUG]2021-05-11 10:40:00,843: create aliveObj AGV30 AGV¿Îœﬂ“Ï≥£ timeout 300
[INFO]2021-05-11 10:40:00,930: AGV30 start agvList run thread
[INFO]2021-05-11 10:40:00,931: AGV30 start agvList run2 thread
[ERROR]2021-05-11 10:40:00,939: agv check init error False
[DEBUG]2021-05-11 10:40:00,965: start timer
[INFO]2021-05-11 10:40:01,086: add_ignore: taskStatus
[INFO]2021-05-11 10:40:01,089: add_ignore: api/elevator/status
[INFO]2021-05-11 10:40:01,091: add_ignore: scada/getTask
[INFO]2021-05-11 10:40:01,645: AGV30 current map meiwei428
[ERROR]2021-05-11 10:40:01,788: user press Ctrl+C, system quit!
[INFO]2021-05-11 10:40:03,229: AGV30 is online
[ERROR]2021-05-11 10:40:03,984: user press Ctrl+C, system quit!
[CRITICAL]2021-05-11 10:40:05,234: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'MeiWeiTask'}, 'error:', '<urlopen error [WinError 10061] ”…”⁄ƒø±Íº∆À„ª˙ª˝º´æ‹æ¯£¨Œﬁ∑®¡¨Ω”°£>')
pid=10960, ppid=10036, tid=18268
Traceback (most recent call last):
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 1354, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\http\client.py", line 1255, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\http\client.py", line 1301, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\http\client.py", line 1250, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\http\client.py", line 1010, in _send_output
    self.send(msg)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\http\client.py", line 950, in send
    self.connect()
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\http\client.py", line 921, in connect
    self.sock = self._create_connection(
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\socket.py", line 808, in create_connection
    raise err
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] ”…”⁄ƒø±Íº∆À„ª˙ª˝º´æ‹æ¯£¨Œﬁ∑®¡¨Ω”°£

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 1383, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "E:\Users\Administrator\AppData\Local\Programs\Python\Python38\lib\urllib\request.py", line 1357, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] ”…”⁄ƒø±Íº∆À„ª˙ª˝º´æ‹æ¯£¨Œﬁ∑®¡¨Ω”°£>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "..\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "..\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'MeiWeiTask'}, 'error:', '<urlopen error [WinError 10061] ”…”⁄ƒø±Íº∆À„ª˙ª˝º´æ‹æ¯£¨Œﬁ∑®¡¨Ω”°£>')

[INFO]2021-05-11 10:40:09,139: startCharge is false
