[INFO]2021-04-27 17:15:44,388: log files at E:\projects_by_myself\backup\MeiWei_back_0421\common\log
[INFO]2021-04-27 17:15:44,390: find module account.main_account
[INFO]2021-04-27 17:15:44,391: find module agvCtrl.main_agv
[INFO]2021-04-27 17:15:44,392: find module agvDevice.main_agvDevice
[INFO]2021-04-27 17:15:44,393: find module akmCtrl.main_akmCtrl
[INFO]2021-04-27 17:15:44,394: find module alarm.main_alarm
[INFO]2021-04-27 17:15:44,395: find module auth.main_auth
[INFO]2021-04-27 17:15:44,396: find module door.main_door
[INFO]2021-04-27 17:15:44,397: find module elevator.main_elevator
[INFO]2021-04-27 17:15:44,402: find module feed.main_feed
[INFO]2021-04-27 17:15:44,403: find module feed.main_feed_0427
[INFO]2021-04-27 17:15:44,404: find module remoteio.main_remoteio
[INFO]2021-04-27 17:15:44,405: import account.main_account
[INFO]2021-04-27 17:15:44,492: import agvCtrl.main_agv
[INFO]2021-04-27 17:15:45,341: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D356C36E70>>
[INFO]2021-04-27 17:15:46,288: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D356C4B3F0>>
[INFO]2021-04-27 17:15:46,400: create lock <lock name:timer.lock_2007211942384,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D35727A360>>
[ERROR]2021-04-27 17:15:46,412: mqtt is disabled
[INFO]2021-04-27 17:15:46,413: mqtt: subscribe [alarm/raise/+]
[INFO]2021-04-27 17:15:46,414: mqtt: subscribe [alarm/clear/+]
[INFO]2021-04-27 17:15:49,446: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-04-27 17:15:49,471: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D35748CD50>>
[WARNING]2021-04-27 17:15:49,483: use mockAgvCtrl
[INFO]2021-04-27 17:15:49,487: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D355504330>>
[INFO]2021-04-27 17:15:49,824: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D3575257E0>>
[INFO]2021-04-27 17:15:49,827: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D3575CBD20>>
[INFO]2021-04-27 17:15:49,900: charge policy 1 , fix time
[INFO]2021-04-27 17:15:49,938: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D3575D6900>>
[INFO]2021-04-27 17:15:50,473: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-04-27 17:15:50,587: elevator thread start
[INFO]2021-04-27 17:15:50,608: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 145 ms
[INFO]2021-04-27 17:15:50,618: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-04-27 17:15:50,688: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 79 ms
[INFO]2021-04-27 17:15:50,700: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-04-27 17:15:50,834: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 144 ms
[INFO]2021-04-27 17:15:50,845: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-04-27 17:15:50,992: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 156 ms
[INFO]2021-04-27 17:15:51,005: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-04-27 17:15:51,056: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 62 ms
[INFO]2021-04-27 17:15:51,067: start load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap
[INFO]2021-04-27 17:15:51,109: load map E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl\projects\test\untitled_20210420032952.smap ,used 51 ms
[INFO]2021-04-27 17:15:51,113: import agvDevice.main_agvDevice
[INFO]2021-04-27 17:15:51,116: import akmCtrl.main_akmCtrl
[INFO]2021-04-27 17:15:51,135: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D35785BED0>>
[INFO]2021-04-27 17:15:51,150: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D357893C30>>
[INFO]2021-04-27 17:15:51,167: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D35A149510>>
[INFO]2021-04-27 17:15:51,169: create lock <lock name:timer.lock_2007261093072,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D35A159B10>>
[INFO]2021-04-27 17:15:51,171: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D35601D060>>
[INFO]2021-04-27 17:15:51,639: import alarm.main_alarm
[INFO]2021-04-27 17:15:51,640: import auth.main_auth
[INFO]2021-04-27 17:15:51,650: import door.main_door
[INFO]2021-04-27 17:15:51,652: import elevator.main_elevator
[INFO]2021-04-27 17:15:51,658: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D359DA0120>>
[INFO]2021-04-27 17:15:51,659: import feed.main_feed
[INFO]2021-04-27 17:15:51,690: IP: 0.0.0.0 port: 10001
[INFO]2021-04-27 17:15:51,691: import feed.main_feed_0427
[INFO]2021-04-27 17:15:51,701: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D359DC3930>>
[INFO]2021-04-27 17:15:51,757: import remoteio.main_remoteio
[SUCC]2021-04-27 17:15:51,768: utility start, pid=3192, ppid=17380
[DEBUG]2021-04-27 17:15:51,769: start timer
[INFO]2021-04-27 17:15:51,776: load agv file: E:\projects_by_myself\backup\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-04-27 17:15:51,777: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D359DDEAB0>>
[DEBUG]2021-04-27 17:15:51,779: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-04-27 17:15:51,780: AGV30 start agvList run thread
[INFO]2021-04-27 17:15:51,780: AGV30 start agvList run2 thread
[ERROR]2021-04-27 17:15:51,790: agv check init error False
[DEBUG]2021-04-27 17:15:51,791: start timer
[INFO]2021-04-27 17:15:51,796: add_ignore: taskStatus
[INFO]2021-04-27 17:15:51,796: add_ignore: api/elevator/status
[INFO]2021-04-27 17:15:51,797: add_ignore: scada/getTask
[INFO]2021-04-27 17:15:52,301: AGV30 current map meiwei423
[INFO]2021-04-27 17:15:52,302: AGV30 is online
[INFO]2021-04-27 17:15:52,419: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60458
[INFO]2021-04-27 17:15:52,422: **************回复线程启动**************
[DEBUG]2021-04-27 17:15:52,800: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-04-27 17:15:52,803: MeiWeiTask init client agvApi
[DEBUG]2021-04-27 17:15:52,805: used 5ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-04-27 17:15:55,910: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-04-27 17:15:55,989: used 80ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-04-27 17:15:56,113: timer_thread[tid:1908] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=1908 count=1 at 0x000001D35785BED0>> ,hold 3316 ms
[INFO]2021-04-27 17:15:56,478: name=timer_thread, pid=3192, tid=1908
[01] File "E:/Users/Administrator/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "E:/projects_by_myself/backup/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-04-27 17:15:58,989: ****************接受到的数据**************： devID: 223 keyID: 1
[INFO]2021-04-27 17:16:00,401: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[INFO]2021-04-27 17:16:00,481: 1 号工位放行
[INFO]2021-04-27 17:16:02,151: 信息*********map: meiwei423 agvId AGV30 tyepe: move loc p1
[CRITICAL]2021-04-27 17:16:02,309: : 192.168.252.237:10001 <--> 192.168.252.242:60458 error:  cause a error: too many values to unpack (expected 3)
pid=3192, ppid=17380, tid=9656
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 63, in _handle
    addTask(str(devID), str(keyID))
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 107, in addTask
    type, source, target = getButtonInfo(devID, keyID)
ValueError: too many values to unpack (expected 3)

[INFO]2021-04-27 17:16:02,435: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60458
[WARNING]2021-04-27 17:16:02,529: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60458
[INFO]2021-04-27 17:16:03,655: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60459
[INFO]2021-04-27 17:16:03,780: **************回复线程启动**************
[CRITICAL]2021-04-27 17:16:13,876: : 192.168.252.237:10001 <--> 192.168.252.242:60459 time out cause a error: <tcpSocket.client object at 0x000001D359E2DAF0>
pid=3192, ppid=17380, tid=17848
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:16:14,002: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60459
[WARNING]2021-04-27 17:16:14,050: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60459
[INFO]2021-04-27 17:16:14,160: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60460
[INFO]2021-04-27 17:16:14,271: **************回复线程启动**************
[CRITICAL]2021-04-27 17:16:24,312: : 192.168.252.237:10001 <--> 192.168.252.242:60460 time out cause a error: <tcpSocket.client object at 0x000001D359E2DC70>
pid=3192, ppid=17380, tid=9380
Traceback (most recent call last):
  File "E:\projects_by_myself\backup\MeiWei_back_0421\feed\main_feed.py", line 51, in _handle
    data = client.recv(6)
  File "E:\projects_by_myself\backup\MeiWei_back_0421\common\tcpSocket.py", line 165, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-04-27 17:16:24,393: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  : 192.168.252.237:10001 <--> 192.168.252.242:60460
[WARNING]2021-04-27 17:16:24,425: disconnect : 192.168.252.237:10001 <--> 192.168.252.242:60460
[INFO]2021-04-27 17:16:24,456: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected : 192.168.252.237:10001 <--> 192.168.252.242:60461
[INFO]2021-04-27 17:16:24,504: **************回复线程启动**************
[ERROR]2021-04-27 17:16:29,561: user press Ctrl+C, system quit!
[WARNING]2021-04-27 17:16:29,655: runTask:stop save file
[ERROR]2021-04-27 17:16:29,703: process exited, living 0:00:38.574621 seconds
[ERROR]2021-04-27 17:16:29,735: user press Ctrl+C, system quit!
[WARNING]2021-04-27 17:16:29,797: runTask:stop save file
[ERROR]2021-04-27 17:16:29,876: process exited, living 0:00:38.748245 seconds
