[INFO]2021-06-12 19:45:51,121: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-12 19:45:51,122: find module account.main_account
[INFO]2021-06-12 19:45:51,122: find module agvCtrl.main_agv
[INFO]2021-06-12 19:45:51,123: find module agvDevice.main_agvDevice
[INFO]2021-06-12 19:45:51,123: find module akmCtrl.main_akmCtrl
[INFO]2021-06-12 19:45:51,123: find module alarm.main_alarm
[INFO]2021-06-12 19:45:51,124: find module auth.main_auth
[INFO]2021-06-12 19:45:51,124: find module door.main_door
[INFO]2021-06-12 19:45:51,124: find module elevator.main_elevator
[INFO]2021-06-12 19:45:51,133: find module feed.main_feed
[INFO]2021-06-12 19:45:51,133: find module remoteio.main_remoteio
[INFO]2021-06-12 19:45:51,134: import account.main_account
[INFO]2021-06-12 19:45:51,210: import agvCtrl.main_agv
[INFO]2021-06-12 19:45:51,665: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000188912AEDA0>>
[INFO]2021-06-12 19:45:51,697: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000188912AEF08>>
[INFO]2021-06-12 19:45:51,835: create lock <lock name:timer.lock_1686066721008,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891624BE8>>
[ERROR]2021-06-12 19:45:51,847: mqtt is disabled
[INFO]2021-06-12 19:45:51,848: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-12 19:45:51,848: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-12 19:45:54,888: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-12 19:45:54,917: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000188918E70A8>>
[WARNING]2021-06-12 19:45:54,934: use mockAgvCtrl
[INFO]2021-06-12 19:45:54,938: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001888FAECC88>>
[INFO]2021-06-12 19:45:55,205: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891998058>>
[INFO]2021-06-12 19:45:55,209: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891998BE8>>
[INFO]2021-06-12 19:45:55,266: charge policy 1 , fix time
[INFO]2021-06-12 19:45:55,297: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891A11418>>
[INFO]2021-06-12 19:45:55,915: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-12 19:45:56,011: elevator thread start
[INFO]2021-06-12 19:45:56,029: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 123 ms
[INFO]2021-06-12 19:45:56,038: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-12 19:45:56,084: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 54 ms
[INFO]2021-06-12 19:45:56,096: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-12 19:45:56,214: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 128 ms
[INFO]2021-06-12 19:45:56,225: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-12 19:45:56,336: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 121 ms
[INFO]2021-06-12 19:45:56,347: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-12 19:45:56,411: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 73 ms
[INFO]2021-06-12 19:45:56,423: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-12 19:45:56,468: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 55 ms
[INFO]2021-06-12 19:45:56,475: import agvDevice.main_agvDevice
[INFO]2021-06-12 19:45:56,475: import akmCtrl.main_akmCtrl
[INFO]2021-06-12 19:45:56,498: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891EA50D0>>
[INFO]2021-06-12 19:45:56,507: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891EDC3F0>>
[INFO]2021-06-12 19:45:56,534: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891E06B70>>
[INFO]2021-06-12 19:45:56,535: create lock <lock name:timer.lock_1686072890032,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018891DEA2B0>>
[INFO]2021-06-12 19:45:56,538: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000188906E71E8>>
[INFO]2021-06-12 19:45:56,584: import alarm.main_alarm
[INFO]2021-06-12 19:45:56,921: import auth.main_auth
[INFO]2021-06-12 19:45:56,976: import door.main_door
[INFO]2021-06-12 19:45:56,978: import elevator.main_elevator
[INFO]2021-06-12 19:45:56,981: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000188906E7CD8>>
[INFO]2021-06-12 19:45:56,982: import feed.main_feed
[INFO]2021-06-12 19:45:56,990: IP: 0.0.0.0 port: 10001
[INFO]2021-06-12 19:45:56,993: import remoteio.main_remoteio
[SUCC]2021-06-12 19:45:57,003: utility start, pid=16236, ppid=15304
[DEBUG]2021-06-12 19:45:57,007: start timer
[INFO]2021-06-12 19:45:57,013: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-12 19:45:57,015: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000188925936C0>>
[DEBUG]2021-06-12 19:45:57,017: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-12 19:45:57,018: AGV30 start agvList run thread
[INFO]2021-06-12 19:45:57,018: AGV30 start agvList run2 thread
[DEBUG]2021-06-12 19:45:57,027: start timer
[ERROR]2021-06-12 19:45:57,029: agv check init error False
[WARNING]2021-06-12 19:45:57,035: Local server start! version 3.7.3, path C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common, pid 16236
[INFO]2021-06-12 19:45:57,036: add_ignore: taskStatus
[INFO]2021-06-12 19:45:57,037: add_ignore: api/elevator/status
[INFO]2021-06-12 19:45:57,038: add_ignore: scada/getTask
[INFO]2021-06-12 19:45:57,439: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:50500
[INFO]2021-06-12 19:45:57,442: **************回复线程启动**************
[INFO]2021-06-12 19:45:57,548: AGV30 current map meiwei428
[INFO]2021-06-12 19:45:57,551: AGV30 is online
[DEBUG]2021-06-12 19:45:58,046: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-12 19:45:58,048: MeiWeiTask init client agvApi
[DEBUG]2021-06-12 19:45:58,050: used 4ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-12 19:46:01,101: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-12 19:46:01,202: used 101ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-12 19:46:01,311: timer_thread[tid:4556] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=4556 count=1 at 0x0000018891EA50D0>> ,hold 3280 ms
[INFO]2021-06-12 19:46:01,451: name=timer_thread, pid=16236, tid=4556
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-12 19:46:03,414: 1
[INFO]2021-06-12 19:46:03,522: {'21': {'loc': 'Locl', 'map': 'test'}, '23': {'loc': 'Loc2', 'map': 'test'}}
[INFO]2021-06-12 19:46:03,584: 测试添加任务，起点和目的地，固化在下面的方法中
[INFO]2021-06-12 19:46:03,664: Loc2
[INFO]2021-06-12 19:46:03,726: source Loc8
[INFO]2021-06-12 19:46:03,773: target Loc2
[INFO]2021-06-12 19:46:03,866: ---------------------runTask01--------------------addTaskByButton-----
[INFO]2021-06-12 19:46:03,947: ----------------------scadaTask----------------
[INFO]2021-06-12 19:46:04,026: Loc8 Loc2
[INFO]2021-06-12 19:46:04,122: create task[60c49e7cc35b67f152d5b8a1]: type= scadaTask , 从Loc8运送货架到Loc2 {'source': 'Loc8', 'target': 'Loc2', 'payloadId': None, 'priority': 1, 'type': 'scadaTask', 'taskName': '从Loc8运送货架到Loc2', 'createTime': datetime.datetime(2021, 6, 12, 19, 46, 4, 106158), 'updateTime': datetime.datetime(2021, 6, 12, 19, 46, 4, 106158), 'startTime': None, 'endTime': None, 'status': 'waiting', 'step': 'waiting', 'failMsg': None, 'history': [], '_id': ObjectId('60c49e7cc35b67f152d5b8a1')}
[INFO]2021-06-12 19:46:04,185: 60c49e7cc35b67f152d5b8a1
[INFO]2021-06-12 19:46:04,584: {'prepoint': '', 'location': '8', 'floorId': 'meiwei428', 'direction': None, 'payloadId': None, 'p_direction': 0.0, 'WorkPlace': 'true'}
[INFO]2021-06-12 19:46:04,726: task[60c49e7cc35b67f152d5b8a1]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 6, 12, 19, 46, 4, 710577), 'updateTime': datetime.datetime(2021, 6, 12, 19, 46, 4, 710577), 'status': 'running'}
[INFO]2021-06-12 19:46:04,850: task: start task[60c49e7cc35b67f152d5b8a1][-] 8() -> 3(4) [waiting]
[INFO]2021-06-12 19:46:04,961: task[60c49e7cc35b67f152d5b8a1] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 6, 12, 19, 46, 4, 945911)}
[DEBUG]2021-06-12 19:46:05,039: task[60c49e7cc35b67f152d5b8a1][-] 8() -> 3(4) [waitForAgv] waiting -> waitForAgv
[INFO]2021-06-12 19:46:06,394: ******************url********************: http://127.0.0.1:5551
[DEBUG]2021-06-12 19:46:06,599: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc&mapId=meiwei428&taskId=60c49e7cc35b67f152d5b8a1&timeout=10 addr: 127.0.0.1
[CRITICAL]2021-06-12 19:46:06,800: apply agv failed, count=0 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=10428
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:07,033: apply agv failed, count=1 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=10428
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:07,191: apply agv failed, count=2 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=10428
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:07,330: apply agv failed, count=3 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=10428
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:07,470: apply agv failed, count=4 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=10428
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:07,566: apply failed, count=1 cause a error: ('apply agv failed3!', 'taskId', '60c49e7cc35b67f152d5b8a1', 'loc', None)
pid=16236, ppid=15304, tid=10428

[INFO]2021-06-12 19:46:09,261: 0
[ERROR]2021-06-12 19:46:10,651: apply agv timeout
[DEBUG]2021-06-12 19:46:10,874: used 4275ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc&mapId=meiwei428&taskId=60c49e7cc35b67f152d5b8a1&timeout=10
[WARNING]2021-06-12 19:46:10,970: [task[60c49e7cc35b67f152d5b8a1][-] 8() -> 3(4) [waitForAgv]] apply agv failed:
[WARNING]2021-06-12 19:46:16,013: scada.60c49e7cc35b67f152d5b8a1[tid:5868] <locked _thread.RLock object owner=5868 count=1 at 0x00000188928A5670> ,hold 9619 ms
[INFO]2021-06-12 19:46:16,342: name=scada.60c49e7cc35b67f152d5b8a1, pid=16236, tid=5868
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/utility.py", line 167, in __call() 
[03] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/akmCtrl/beans/scadaTaskBean.py", line 802, in _taskFunc() 
[04] File "../common/lock.py", line 122, in _call() 
[05] File "../common/lock.py", line 100, in release() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-12 19:46:16,498: task[60c49e7cc35b67f152d5b8a1][-] 8() -> 3(4) [waitForAgv] waitForAgv error
[INFO]2021-06-12 19:46:18,563: ******************url********************: http://127.0.0.1:5551
[DEBUG]2021-06-12 19:46:18,703: GET: http://127.0.0.1:5551/api/agv/apply?appName=MeiWeiTask&autoLock=False&exclude&loc&mapId=meiwei428&taskId=60c49e7cc35b67f152d5b8a1&timeout=10 addr: 127.0.0.1
[CRITICAL]2021-06-12 19:46:18,829: apply agv failed, count=0 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=272
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:18,968: apply agv failed, count=1 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=272
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:19,062: apply agv failed, count=2 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=272
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:19,188: apply agv failed, count=3 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=272
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:19,311: apply agv failed, count=4 cause a error: 'NoneType' object has no attribute 'find'
pid=16236, ppid=15304, tid=272
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1125, in apply
    agvId = _apply(mapId, autoLock, exclude, loc, taskId=taskId,appName=appName)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\lock.py", line 120, in _call
    return func(*p,**pp)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\agvControl.py", line 1044, in _apply
    mapId2,loc = mapMgr.decodeLoc(loc)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\mapMgr.py", line 83, in decodeLoc
    index = loc.find(".")
AttributeError: 'NoneType' object has no attribute 'find'

[CRITICAL]2021-06-12 19:46:19,395: apply failed, count=1 cause a error: ('apply agv failed3!', 'taskId', '60c49e7cc35b67f152d5b8a1', 'loc', None)
pid=16236, ppid=15304, tid=272

[CRITICAL]2021-06-12 19:46:19,513: 192.168.3.105:10001 <--> 192.168.3.106:50500 time out cause a error: <tcpSocket.client object at 0x0000018891FBD278>
pid=16236, ppid=15304, tid=2792
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 131, in _handle
    data = client.recv(6)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\tcpSocket.py", line 179, in recv
    recvdata = self._socket.recv(bufferLen if remainLen > bufferLen else remainLen)
socket.timeout: timed out

[INFO]2021-06-12 19:46:19,591: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.3.105:10001 <--> 192.168.3.106:50500
[WARNING]2021-06-12 19:46:19,622: disconnect 192.168.3.105:10001 <--> 192.168.3.106:50500
[INFO]2021-06-12 19:46:20,730: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.3.105:10001 <--> 192.168.3.106:50501
[ERROR]2021-06-12 19:46:22,526: apply agv timeout
[WARNING]2021-06-12 19:47:03,726: [task[60c49e7cc35b67f152d5b8a1][-] 8() -> 3(4) [waitForAgv]] apply agv failed: ('http get', 'http://127.0.0.1:5551/api/agv/apply', {'loc': '', 'exclude': '', 'autoLock': False, 'mapId': 'meiwei428', 'taskId': '60c49e7cc35b67f152d5b8a1', 'timeout': 10, 'appName': 'MeiWeiTask'}, 'error:', 'timed out')
