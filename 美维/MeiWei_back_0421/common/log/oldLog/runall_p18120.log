[INFO]2021-03-25 13:59:19,993: log files at D:\python_work\AKMfloor\common\log
[INFO]2021-03-25 13:59:19,994: find module account.main_account
[INFO]2021-03-25 13:59:19,995: find module agvCtrl.main_agv
[INFO]2021-03-25 13:59:19,995: find module agvDevice.main_agvDevice
[INFO]2021-03-25 13:59:19,995: find module alarm.main_alarm
[INFO]2021-03-25 13:59:19,995: find module auth.main_auth
[INFO]2021-03-25 13:59:19,995: find module door.main_door
[INFO]2021-03-25 13:59:19,996: find module elevator.main_elevator
[INFO]2021-03-25 13:59:19,996: find module feed.main_feed
[INFO]2021-03-25 13:59:19,997: find module menu.main_menu
[INFO]2021-03-25 13:59:19,997: find module pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-25 13:59:19,998: find module webFront.main_web
[INFO]2021-03-25 13:59:19,998: find module wmqtt.main_wmqtt
[INFO]2021-03-25 13:59:19,998: import account.main_account
[INFO]2021-03-25 13:59:20,136: import agvCtrl.main_agv
[INFO]2021-03-25 13:59:20,678: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E24B1AE0>>
[INFO]2021-03-25 13:59:20,682: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E24C1420>>
[INFO]2021-03-25 13:59:20,998: create lock <lock name:timer.lock_1816276016576,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E27C9F00>>
[ERROR]2021-03-25 13:59:21,054: mqtt is disabled
[INFO]2021-03-25 13:59:21,054: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-25 13:59:21,054: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-25 13:59:24,140: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-25 13:59:24,157: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2A2A540>>
[INFO]2021-03-25 13:59:24,159: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2A1C900>>
[INFO]2021-03-25 13:59:24,739: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2A334B0>>
[INFO]2021-03-25 13:59:25,183: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2B134E0>>
[INFO]2021-03-25 13:59:25,187: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2BB4300>>
[INFO]2021-03-25 13:59:25,274: charge policy 1 , fix time
[INFO]2021-03-25 13:59:25,360: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2BB4EA0>>
[INFO]2021-03-25 13:59:25,735: start load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap
[DEBUG]2021-03-25 13:59:26,064: elevator thread start
[INFO]2021-03-25 13:59:26,095: load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM2F.smap ,used 394 ms
[INFO]2021-03-25 13:59:26,105: start load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap
[INFO]2021-03-25 13:59:26,181: load map D:\python_work\AKMfloor\agvCtrl\projects\AKMfloor\AKM4F.smap ,used 86 ms
[INFO]2021-03-25 13:59:26,186: import agvDevice.main_agvDevice
[INFO]2021-03-25 13:59:26,186: import alarm.main_alarm
[INFO]2021-03-25 13:59:26,187: import auth.main_auth
[INFO]2021-03-25 13:59:26,209: import door.main_door
[INFO]2021-03-25 13:59:26,220: import elevator.main_elevator
[INFO]2021-03-25 13:59:26,221: import feed.main_feed
[INFO]2021-03-25 13:59:26,270: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2E35300>>
[INFO]2021-03-25 13:59:26,281: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E2E35ED0>>
[INFO]2021-03-25 13:59:27,881: import menu.main_menu
[INFO]2021-03-25 13:59:27,893: import pharmapackCtrl.main_scadaCtrl
[INFO]2021-03-25 13:59:28,237: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E3B0BB10>>
[INFO]2021-03-25 13:59:28,238: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E3B21D80>>
[INFO]2021-03-25 13:59:28,251: recover can release agv *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [loadPlayload]
[INFO]2021-03-25 13:59:28,251: load task: *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waiting]
[INFO]2021-03-25 13:59:28,252: import webFront.main_web
[INFO]2021-03-25 13:59:28,258: import wmqtt.main_wmqtt
[SUCC]2021-03-25 13:59:28,271: utility start, pid=18120, ppid=9204
[DEBUG]2021-03-25 13:59:28,271: start timer
[INFO]2021-03-25 13:59:28,282: load agv file: D:\python_work\AKMfloor\agvCtrl/projects/AKMfloor/agv.cfg
[INFO]2021-03-25 13:59:28,283: create lock <lock name:agvList.AGV03.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E44CB600>>
[DEBUG]2021-03-25 13:59:28,285: create aliveObj AGV03 AGV离线异常 timeout 300
[INFO]2021-03-25 13:59:28,287: AGV03 start agvList run thread
[INFO]2021-03-25 13:59:28,287: AGV03 start agvList run2 thread
[INFO]2021-03-25 13:59:28,287: create lock <lock name:agv.AGV03.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E44245D0>>
[DEBUG]2021-03-25 13:59:28,287: try connect AGV03 192.168.20.182:19204
[INFO]2021-03-25 13:59:28,291: add_ignore: taskStatus
[INFO]2021-03-25 13:59:28,291: add_ignore: api/elevator/status
[INFO]2021-03-25 13:59:28,291: add_ignore: scada/getTask
[INFO]2021-03-25 13:59:28,307: AGV03 connected 192.168.20.182 19204
[INFO]2021-03-25 13:59:28,308: create lock <lock name:agv.AGV03.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E4424600>>
[DEBUG]2021-03-25 13:59:28,308: try connect AGV03 192.168.20.182:19205
[INFO]2021-03-25 13:59:28,344: AGV03 connected 192.168.20.182 19205
[INFO]2021-03-25 13:59:28,344: create lock <lock name:agv.AGV03.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E4424630>>
[DEBUG]2021-03-25 13:59:28,345: try connect AGV03 192.168.20.182:19206
[INFO]2021-03-25 13:59:28,350: AGV03 connected 192.168.20.182 19206
[INFO]2021-03-25 13:59:28,351: create lock <lock name:agv.AGV03.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E44245A0>>
[DEBUG]2021-03-25 13:59:28,351: try connect AGV03 192.168.20.182:19207
[INFO]2021-03-25 13:59:28,363: AGV03 connected 192.168.20.182 19207
[INFO]2021-03-25 13:59:28,364: create lock <lock name:agv.AGV03.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E44433F0>>
[DEBUG]2021-03-25 13:59:28,364: try connect AGV03 192.168.20.182:19208
[INFO]2021-03-25 13:59:28,369: AGV03 connected 192.168.20.182 19208
[INFO]2021-03-25 13:59:28,370: create lock <lock name:agv.AGV03.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001A6E44434E0>>
[DEBUG]2021-03-25 13:59:28,370: try connect AGV03 192.168.20.182:19210
[INFO]2021-03-25 13:59:28,374: AGV03 connected 192.168.20.182 19210
[INFO]2021-03-25 13:59:28,472: AGV03 current map AKM4F
[INFO]2021-03-25 13:59:28,653: AGV03 is online
[WARNING]2021-03-25 13:59:28,669: clear alarm obj=AGV03, typeId=54070, id=605c268707e2e631304f41ad
[CRITICAL]2021-03-25 13:59:32,329: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=18120, ppid=9204, tid=22144
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[DEBUG]2021-03-25 13:59:33,839: AGV03 set loc AKM4F.LM15 ,old AP13 (-9.89,-3.49)
[CRITICAL]2021-03-25 13:59:35,374: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=18120, ppid=9204, tid=22144
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[CRITICAL]2021-03-25 13:59:38,416: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=18120, ppid=9204, tid=22144
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[CRITICAL]2021-03-25 13:59:41,461: agvApi.init cause a error: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')
pid=18120, ppid=9204, tid=22144
Traceback (most recent call last):
  File "C:\Python38\lib\urllib\request.py", line 1317, in do_open
    h.request(req.get_method(), req.selector, req.data, headers,
  File "C:\Python38\lib\http\client.py", line 1230, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1276, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1225, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Python38\lib\http\client.py", line 1004, in _send_output
    self.send(msg)
  File "C:\Python38\lib\http\client.py", line 944, in send
    self.connect()
  File "C:\Python38\lib\http\client.py", line 915, in connect
    self.sock = self._create_connection(
  File "C:\Python38\lib\socket.py", line 807, in create_connection
    raise err
  File "C:\Python38\lib\socket.py", line 796, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] 由于目标计算机积极拒绝，无法连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\common\webutility.py", line 103, in http_get
    f = urllib.request.urlopen(u,timeout=timeout)
  File "C:\Python38\lib\urllib\request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "C:\Python38\lib\urllib\request.py", line 525, in open
    response = self._open(req, data)
  File "C:\Python38\lib\urllib\request.py", line 542, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "C:\Python38\lib\urllib\request.py", line 502, in _call_chain
    result = func(*args)
  File "C:\Python38\lib\urllib\request.py", line 1346, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "C:\Python38\lib\urllib\request.py", line 1320, in do_open
    raise URLError(err)
urllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 40, in init
    _http_get(url + '/api/agv/init', param)
  File "D:\python_work\AKMfloor\agvCtrl\agvApi.py", line 61, in _http_get
    r = webutility.http_get(url, param, timeout=45,writelog=False)
  File "D:\python_work\AKMfloor\common\webutility.py", line 105, in http_get
    raise Exception("http get",url,params,"error:",str(e))
Exception: ('http get', 'http://127.0.0.1:5551/api/agv/init', {'appName': 'scadaTask'}, 'error:', '<urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>')

[DEBUG]2021-03-25 13:59:42,972: GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask addr: 127.0.0.1
[INFO]2021-03-25 13:59:42,974: scadaTask init client agvApi
[DEBUG]2021-03-25 13:59:42,976: used 5ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=scadaTask
[INFO]2021-03-25 13:59:42,982: task recover: add task *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waiting]
[DEBUG]2021-03-25 13:59:46,061: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask addr: 127.0.0.1
[DEBUG]2021-03-25 13:59:46,085: used 25ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=scadaTask
[INFO]2021-03-25 13:59:46,145: task[605c24548f0ddbc349ddb396]:  start {'failMsg': '任务等待执行', 'startTime': datetime.datetime(2021, 3, 25, 13, 59, 46, 118230), 'updateTime': datetime.datetime(2021, 3, 25, 13, 59, 46, 118230), 'status': 'running'}
[INFO]2021-03-25 13:59:46,163: task: start *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waiting]
[INFO]2021-03-25 13:59:46,210: task[605c24548f0ddbc349ddb396] update info: {'failMsg': '等待分配小车', 'updateTime': datetime.datetime(2021, 3, 25, 13, 59, 46, 203122)}
[DEBUG]2021-03-25 13:59:46,235: *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waitForAgv] waiting -> waitForAgv
[WARNING]2021-03-25 13:59:47,167: timer_thread[tid:22144] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=22144 count=1 at 0x000001A6E3B0BB10>> ,hold 16892 ms
[INFO]2021-03-25 13:59:47,234: name=timer_thread, pid=18120, tid=22144
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_work/AKMfloor/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_work/AKMfloor/common/lock.py", line 122, in _call() 
[04] File "D:/python_work/AKMfloor/common/lock.py", line 100, in release() 
[05] File "D:/python_work/AKMfloor/common/enhance.py", line 258, in getTrace() 
[06] File "D:/python_work/AKMfloor/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-25 13:59:47,659: GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP13&mapId=AKM4F&taskId=605c24548f0ddbc349ddb396&timeout=10 addr: 127.0.0.1
[INFO]2021-03-25 13:59:48,975: apply AGV03 ,taskId: 605c24548f0ddbc349ddb396 ,loc AKM4F.AP13 ,autoLock False , used 1309 ms
[DEBUG]2021-03-25 13:59:48,989: used 1330ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/apply?appName=scadaTask&autoLock=False&exclude&loc=AP13&mapId=AKM4F&taskId=605c24548f0ddbc349ddb396&timeout=10
[WARNING]2021-03-25 13:59:48,997: AGV03 low battery charge,batteryLevel= 0.468 start charge level= 0.500
[INFO]2021-03-25 13:59:49,052: AGV03 battery 0.468 check success
[DEBUG]2021-03-25 13:59:49,095: GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV03&appName=scadaTask&taskId=605c24548f0ddbc349ddb396 addr: 127.0.0.1
[WARNING]2021-03-25 13:59:49,096: AGV03 Can't find charge point at AKM4F battery: 0.468
[DEBUG]2021-03-25 13:59:49,124: lock:  AGV03 taskId 605c24548f0ddbc349ddb396 app scadaTask
[WARNING]2021-03-25 13:59:50,191: AGV03 clear task finish, cur= AKM4F.LM15 task_status= 4
[DEBUG]2021-03-25 13:59:50,232: used 1137ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/lock?agv=AGV03&appName=scadaTask&taskId=605c24548f0ddbc349ddb396
[INFO]2021-03-25 13:59:50,280: *task[605c24548f0ddbc349ddb396][-] AP13(LM15) -> AP14(LM16) [waitForAgv] apply AGV03
[INFO]2021-03-25 13:59:50,309: task[605c24548f0ddbc349ddb396] update info: {'agvId': 'AGV03', 'failMsg': '成功分配小车AGV03,检测顶升下降', 'updateTime': datetime.datetime(2021, 3, 25, 13, 59, 50, 298215)}
[DEBUG]2021-03-25 13:59:50,326: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [initJackdown] waitForAgv -> initJackdown
[INFO]2021-03-25 13:59:50,674: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [initJackdown] _jackDown
[DEBUG]2021-03-25 13:59:50,685: send http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90
[DEBUG]2021-03-25 13:59:50,772: GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90 addr: 127.0.0.1
[INFO]2021-03-25 13:59:51,981: _jack in jackMgr: AGV03 down [{'id': 0, 'source': 'normal', 'status': True}, {'id': 1, 'source': 'normal', 'status': True}, {'id': 2, 'source': 'normal', 'status': True}, {'id': 3, 'source': 'normal', 'status': True}, {'id': 4, 'source': 'normal', 'status': True}, {'id': 5, 'source': 'normal', 'status': True}, {'id': 6, 'source': 'normal', 'status': True}, {'id': 7, 'source': 'normal', 'status': True}, {'id': 17, 'source': 'reserve', 'status': False}, {'id': 20, 'source': 'modbus', 'status': False}, {'id': 21, 'source': 'modbus', 'status': False}, {'id': 22, 'source': 'modbus', 'status': False}, {'id': 23, 'source': 'modbus', 'status': False}, {'id': 24, 'source': 'modbus', 'status': False}, {'id': 25, 'source': 'modbus', 'status': False}, {'id': 26, 'source': 'modbus', 'status': False}, {'id': 27, 'source': 'modbus', 'status': False}, {'id': 30, 'source': 'modbus', 'status': False}, {'id': 31, 'source': 'modbus', 'status': False}, {'id': 32, 'source': 'modbus', 'status': True}, {'id': 33, 'source': 'modbus', 'status': True}, {'id': 34, 'source': 'modbus', 'status': False}, {'id': 35, 'source': 'modbus', 'status': False}, {'id': 36, 'source': 'modbus', 'status': False}, {'id': 37, 'source': 'modbus', 'status': True}]
[INFO]2021-03-25 13:59:52,050: AGV03 jack down status:  True
[DEBUG]2021-03-25 13:59:52,064: used 1291ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90
[DEBUG]2021-03-25 13:59:52,135: [return] use 1450 ms,http_get: http://127.0.0.1:5551/api/agv/jackdown?agv=AGV03&loc=None&timeoutSec=90
[INFO]2021-03-25 13:59:52,151: task[605c24548f0ddbc349ddb396] update info: {'failMsg': '前往四楼Test1工位点拉取货架', 'updateTime': datetime.datetime(2021, 3, 25, 13, 59, 52, 146627)}
[DEBUG]2021-03-25 13:59:52,169: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [startMoveJackup] initJackdown -> startMoveJackup
[DEBUG]2021-03-25 13:59:52,517: GET: http://127.0.0.1:5551/api/agv/move?WorkPlace=None&agv=AGV03&agvId=AGV03&appName=scadaTask&direction=None&floorId=AKM4F&isRotate&loc=AKM4F.AP13&location=AP13&p_direction=0.0&pgv_type=1&recognize=False&seer_jackup=JackLoad&taskId=605c24548f0ddbc349ddb396_2&taskType=scadaTask&timeoutSec=86400&use_pgv=True addr: 127.0.0.1
[INFO]2021-03-25 13:59:52,552: Begin: AGV03 move from AKM4F.LM15 to AKM4F.AP13 by paths: [('AKM4F', ['LM15', 'AP13'], 1.358)] task: 605c24548f0ddbc349ddb396_2 timeout 86400 used 32 ms
[DEBUG]2021-03-25 13:59:52,555: *task[605c24548f0ddbc349ddb396][AGV03] AP13(LM15) -> AP14(LM16) [loadPlayload] startMoveJackup -> loadPlayload
[DEBUG]2021-03-25 13:59:53,475: agvInfo: AGV03 AKM4F.LM15 move jackup to AKM4F.AP13 ,taskId 605c24548f0ddbc349ddb396_2
[INFO]2021-03-25 13:59:53,476: +++++++ {'id': 'AP13', 'operation': 'JackLoad', 'recognize': False, 'use_pgv': True}
[WARNING]2021-03-25 13:59:54,696: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:55,201: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:55,702: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:56,205: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:56,711: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:57,221: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:57,723: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[WARNING]2021-03-25 13:59:58,225: AGV03 waitFinish: loc is diff LM15 AP13 task_status= 2
[DEBUG]2021-03-25 13:59:58,326: AGV03 set loc AKM4F.AP13 ,old LM15 (-9.89,-2.33)
[WARNING]2021-03-25 13:59:59,224: AGV03 low battery charge,batteryLevel= 0.468 start charge level= 0.500
[WARNING]2021-03-25 13:59:59,225: AGV03 battery 0.468 check failed: isLocked
[INFO]2021-03-25 13:59:59,410: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
[ERROR]2021-03-25 13:59:59,415: raise alarm obj=AGV03, typeId=54070, desc=AGV异常, id=605c26df07e2e631304f420f
[WARNING]2021-03-25 13:59:59,751: AGV03 moveJackup error: Cannot Find PGV code：{54070}
[INFO]2021-03-25 13:59:59,956: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
[INFO]2021-03-25 14:00:00,498: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
[WARNING]2021-03-25 14:00:00,754: AGV03 moveJackup error: Cannot Find PGV code2：{54070}
[INFO]2021-03-25 14:00:01,055: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
[INFO]2021-03-25 14:00:01,604: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
[WARNING]2021-03-25 14:00:01,780: AGV03 moveJackup error: Cannot Find PGV code2：{54070}
[INFO]2021-03-25 14:00:02,159: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
[INFO]2021-03-25 14:00:02,792: get 54901 warnings: AGV03 [{'54070': 1616652255, 'desc': 'PGV cannot find code', 'times': 1}]
