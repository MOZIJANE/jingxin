[INFO]2021-06-15 09:20:14,003: log files at C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common\log
[INFO]2021-06-15 09:20:14,003: find module account.main_account
[INFO]2021-06-15 09:20:14,007: find module agvCtrl.main_agv
[INFO]2021-06-15 09:20:14,008: find module agvDevice.main_agvDevice
[INFO]2021-06-15 09:20:14,008: find module akmCtrl.main_akmCtrl
[INFO]2021-06-15 09:20:14,009: find module alarm.main_alarm
[INFO]2021-06-15 09:20:14,009: find module auth.main_auth
[INFO]2021-06-15 09:20:14,010: find module door.main_door
[INFO]2021-06-15 09:20:14,010: find module elevator.main_elevator
[INFO]2021-06-15 09:20:14,011: find module feed.main_feed
[INFO]2021-06-15 09:20:14,011: find module remoteio.main_remoteio
[INFO]2021-06-15 09:20:14,011: import account.main_account
[INFO]2021-06-15 09:20:14,089: import agvCtrl.main_agv
[INFO]2021-06-15 09:20:14,376: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F79221DDA0>>
[INFO]2021-06-15 09:20:14,392: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F79221DF08>>
[INFO]2021-06-15 09:20:14,481: create lock <lock name:timer.lock_2162824270288,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792594BE8>>
[ERROR]2021-06-15 09:20:14,495: mqtt is disabled
[INFO]2021-06-15 09:20:14,496: mqtt: subscribe [alarm/raise/+]
[INFO]2021-06-15 09:20:14,497: mqtt: subscribe [alarm/clear/+]
[INFO]2021-06-15 09:20:17,528: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-06-15 09:20:17,557: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F7928570A8>>
[WARNING]2021-06-15 09:20:17,571: use mockAgvCtrl
[INFO]2021-06-15 09:20:17,576: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F790A5DC88>>
[INFO]2021-06-15 09:20:17,853: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792908058>>
[INFO]2021-06-15 09:20:17,858: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792908BE8>>
[INFO]2021-06-15 09:20:17,928: charge policy 1 , fix time
[INFO]2021-06-15 09:20:17,960: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792981418>>
[INFO]2021-06-15 09:20:18,573: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap
[DEBUG]2021-06-15 09:20:18,672: elevator thread start
[INFO]2021-06-15 09:20:18,692: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\AKM2F.smap ,used 128 ms
[INFO]2021-06-15 09:20:18,701: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap
[INFO]2021-06-15 09:20:18,746: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmt.smap ,used 53 ms
[INFO]2021-06-15 09:20:18,757: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap
[INFO]2021-06-15 09:20:18,905: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\akmsmtMap.smap ,used 158 ms
[INFO]2021-06-15 09:20:18,915: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap
[INFO]2021-06-15 09:20:19,028: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\desai-all-20191223.smap ,used 121 ms
[INFO]2021-06-15 09:20:19,039: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap
[INFO]2021-06-15 09:20:19,110: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei423.smap ,used 80 ms
[INFO]2021-06-15 09:20:19,121: start load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap
[INFO]2021-06-15 09:20:19,168: load map C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl\projects\test\meiwei428.smap ,used 56 ms
[INFO]2021-06-15 09:20:19,176: import agvDevice.main_agvDevice
[INFO]2021-06-15 09:20:19,177: import akmCtrl.main_akmCtrl
[INFO]2021-06-15 09:20:19,201: create lock <lock name:runTasks.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792E56170>>
[INFO]2021-06-15 09:20:19,222: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792EC9F08>>
[INFO]2021-06-15 09:20:19,243: create lock <lock name:runTasks.pre_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792D9FB20>>
[INFO]2021-06-15 09:20:19,245: create lock <lock name:timer.lock_2162868098552,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F792D57EB8>>
[INFO]2021-06-15 09:20:19,249: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F791657238>>
[INFO]2021-06-15 09:20:19,298: import alarm.main_alarm
[INFO]2021-06-15 09:20:19,626: import auth.main_auth
[INFO]2021-06-15 09:20:19,700: import door.main_door
[INFO]2021-06-15 09:20:19,702: import elevator.main_elevator
[INFO]2021-06-15 09:20:19,708: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F791657D28>>
[INFO]2021-06-15 09:20:19,709: import feed.main_feed
[INFO]2021-06-15 09:20:19,711: IP: 0.0.0.0 port: 10001
[INFO]2021-06-15 09:20:19,714: import remoteio.main_remoteio
[SUCC]2021-06-15 09:20:19,728: utility start, pid=8236, ppid=8476
[DEBUG]2021-06-15 09:20:19,729: start timer
[INFO]2021-06-15 09:20:19,743: load agv file: C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\agvCtrl/projects/test/agv.cfg
[INFO]2021-06-15 09:20:19,745: create lock <lock name:agvList.AGV30.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001F793524288>>
[DEBUG]2021-06-15 09:20:19,749: create aliveObj AGV30 AGV离线异常 timeout 300
[INFO]2021-06-15 09:20:19,751: AGV30 start agvList run thread
[INFO]2021-06-15 09:20:19,751: AGV30 start agvList run2 thread
[DEBUG]2021-06-15 09:20:19,765: start timer
[ERROR]2021-06-15 09:20:19,765: agv check init error False
[WARNING]2021-06-15 09:20:19,772: Local server start! version 3.7.3, path C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\common, pid 8236
[INFO]2021-06-15 09:20:19,774: add_ignore: taskStatus
[INFO]2021-06-15 09:20:19,776: add_ignore: api/elevator/status
[INFO]2021-06-15 09:20:19,778: add_ignore: scada/getTask
[INFO]2021-06-15 09:20:20,270: AGV30 current map meiwei428
[INFO]2021-06-15 09:20:20,272: AGV30 is online
[INFO]2021-06-15 09:20:20,577: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61518
[DEBUG]2021-06-15 09:20:20,797: GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask addr: 127.0.0.1
[INFO]2021-06-15 09:20:20,800: MeiWeiTask init client agvApi
[DEBUG]2021-06-15 09:20:20,805: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/init?appName=MeiWeiTask
[DEBUG]2021-06-15 09:20:24,027: GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask addr: 127.0.0.1
[DEBUG]2021-06-15 09:20:24,089: used 62ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:5551/api/agv/startCharge?appName=MeiWeiTask
[WARNING]2021-06-15 09:20:24,270: timer_thread[tid:16472] <lock name:runTasks.g_lock,<locked _thread.RLock object owner=16472 count=1 at 0x000001F792E56170>> ,hold 3491 ms
[INFO]2021-06-15 09:20:24,675: name=timer_thread, pid=8236, tid=16472
[01] File "C:/Python37/lib/threading.py", line 865, in run() 
[02] File "../common/mytimer.py", line 113, in _loop() 
[03] File "../common/lock.py", line 122, in _call() 
[04] File "../common/lock.py", line 100, in release() 
[05] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 258, in getTrace() 
[06] File "C:/Users/Administrator/Desktop/SVN/美维/MeiWei_back_0421/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-06-15 09:20:30,594: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61518
[WARNING]2021-06-15 09:20:30,735: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61518
[INFO]2021-06-15 09:20:30,858: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61519
[INFO]2021-06-15 09:20:40,966: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61519
[WARNING]2021-06-15 09:20:41,026: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61519
[INFO]2021-06-15 09:20:41,152: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61520
[INFO]2021-06-15 09:20:47,649: {'21': {'loc': 'Locl', 'map': 'meiwei428'}, '23': {'loc': 'Loc2', 'map': 'meiwei428'}}
[INFO]2021-06-15 09:20:47,727: 测试添加任务，起点和目的地，固化在下面的方法中
[CRITICAL]2021-06-15 09:20:47,972: 192.168.252.159:10001 <--> 192.168.252.148:61520 error:  cause a error: 'function' object does not support item assignment
pid=8236, ppid=8476, tid=15596
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\feed\main_feed.py", line 171, in _handle
    objectUtil.setAllownext(devID=devID, sig=0)
  File "C:\Users\Administrator\Desktop\SVN\美维\MeiWei_back_0421\akmCtrl\utils\objectUtil.py", line 83, in setAllownext
    g_allowNext[devID] = sig
TypeError: 'function' object does not support item assignment

[INFO]2021-06-15 09:20:48,109: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61520
[WARNING]2021-06-15 09:20:48,170: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61520
[INFO]2021-06-15 09:20:48,492: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61521
[INFO]2021-06-15 09:20:58,595: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61521
[WARNING]2021-06-15 09:20:58,627: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61521
[INFO]2021-06-15 09:20:58,840: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61522
[INFO]2021-06-15 09:21:08,901: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61522
[WARNING]2021-06-15 09:21:09,056: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61522
[INFO]2021-06-15 09:21:09,195: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61523
[INFO]2021-06-15 09:21:19,349: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61523
[WARNING]2021-06-15 09:21:19,395: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61523
[INFO]2021-06-15 09:21:19,548: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61524
[INFO]2021-06-15 09:21:29,669: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61524
[WARNING]2021-06-15 09:21:29,747: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61524
[INFO]2021-06-15 09:21:30,867: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61525
[INFO]2021-06-15 09:21:40,964: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61525
[WARNING]2021-06-15 09:21:41,024: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61525
[INFO]2021-06-15 09:21:42,153: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61526
[INFO]2021-06-15 09:21:52,239: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61526
[WARNING]2021-06-15 09:21:52,301: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61526
[INFO]2021-06-15 09:21:52,455: tcp server [0.0.0.0][10001] ,connectedLen: 2, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61527
[INFO]2021-06-15 09:22:02,586: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61527
[WARNING]2021-06-15 09:22:02,632: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61527
[INFO]2021-06-15 09:22:02,772: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61528
[INFO]2021-06-15 09:22:12,947: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61528
[WARNING]2021-06-15 09:22:12,963: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61528
[INFO]2021-06-15 09:22:13,071: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61529
[INFO]2021-06-15 09:22:23,185: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61529
[WARNING]2021-06-15 09:22:23,246: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61529
[INFO]2021-06-15 09:22:24,361: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61530
[INFO]2021-06-15 09:22:34,436: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61530
[WARNING]2021-06-15 09:22:34,497: disconnect 192.168.252.159:10001 <--> 192.168.252.148:61530
[INFO]2021-06-15 09:22:34,652: tcp server [0.0.0.0][10001] ,connectedLen: 1, tcp connected 192.168.252.159:10001 <--> 192.168.252.148:61531
[INFO]2021-06-15 09:22:44,731: tcp server [0.0.0.0][10001] ,connectedLen: 1, disconnect:  192.168.252.159:10001 <--> 192.168.252.148:61531
