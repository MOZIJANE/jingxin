[INFO]2021-03-09 12:11:09,653: log files at C:\Users\WINDOWS\Desktop\akmLine\common\log
[INFO]2021-03-09 12:11:09,653: find module agvCtrl.main_agv
[INFO]2021-03-09 12:11:09,654: find module agvDevice.main_agvDevice
[INFO]2021-03-09 12:11:09,655: find module alarm.main_alarm
[INFO]2021-03-09 12:11:09,655: find module auth.main_auth
[INFO]2021-03-09 12:11:09,656: find module door.main_door
[INFO]2021-03-09 12:11:09,656: find module elevator.main_elevator
[INFO]2021-03-09 12:11:09,657: find module elevator.main_elevator
[INFO]2021-03-09 12:11:09,657: find module feed.main_feed
[INFO]2021-03-09 12:11:09,657: import agvCtrl.main_agv
[ERROR]2021-03-09 12:11:09,802: mongo db is disabled
[INFO]2021-03-09 12:11:10,260: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A2F80960>>
[INFO]2021-03-09 12:11:10,264: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A2F8E2A0>>
[INFO]2021-03-09 12:11:10,473: create lock <lock name:timer.lock_1527452089888,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A33D3F90>>
[ERROR]2021-03-09 12:11:10,498: mqtt is disabled
[INFO]2021-03-09 12:11:10,500: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-09 12:11:10,502: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-09 12:11:10,600: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A358D6C0>>
[WARNING]2021-03-09 12:11:10,656: use mockAgvCtrl
[INFO]2021-03-09 12:11:10,660: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A1542480>>
[INFO]2021-03-09 12:11:11,240: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A362A0F0>>
[INFO]2021-03-09 12:11:11,245: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A36CB990>>
[INFO]2021-03-09 12:11:11,331: charge policy 0 , fix time
[INFO]2021-03-09 12:11:11,378: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A36D5600>>
[INFO]2021-03-09 12:11:11,636: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\akmLineMap.smap
[DEBUG]2021-03-09 12:11:12,554: create aliveObj ELEVATOR01 电梯离线异常 timeout 30
[DEBUG]2021-03-09 12:11:12,591: elevator thread start
[INFO]2021-03-09 12:11:12,699: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\akmLineMap.smap ,used 1074 ms
[INFO]2021-03-09 12:11:12,714: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\firstFloor.smap
[INFO]2021-03-09 12:11:13,077: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\firstFloor.smap ,used 376 ms
[INFO]2021-03-09 12:11:13,089: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\secondFloor.smap
[INFO]2021-03-09 12:11:13,838: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\secondFloor.smap ,used 759 ms
[INFO]2021-03-09 12:11:13,856: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\shuqin.smap
[INFO]2021-03-09 12:11:13,961: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\shuqin.smap ,used 121 ms
[INFO]2021-03-09 12:11:13,979: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\test430.smap
[INFO]2021-03-09 12:11:14,135: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\test430.smap ,used 172 ms
[INFO]2021-03-09 12:11:14,153: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\testdesay.smap
[INFO]2021-03-09 12:11:14,395: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\test\testdesay.smap ,used 259 ms
[WARNING]2021-03-09 12:11:14,397: MainThread[tid:9664] <lock name:mapMgr.lock,<locked _thread.RLock object owner=9664 count=1 at 0x00000163A1542480>> ,hold 3017 ms
[INFO]2021-03-09 12:11:14,399: name=MainThread, pid=12816, tid=9664
[01] File "run_all.py", line 57, in <module>() 
[02] File "run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "C:/Users/WINDOWS/Desktop/akmLine/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 122, in _call() 
[10] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 100, in release() 
[11] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 258, in getTrace() 
[12] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 240, in getThreadStack()
[INFO]2021-03-09 12:11:14,404: import agvDevice.main_agvDevice
[INFO]2021-03-09 12:11:14,405: import alarm.main_alarm
[INFO]2021-03-09 12:11:14,408: import auth.main_auth
[INFO]2021-03-09 12:11:14,419: import door.main_door
[INFO]2021-03-09 12:11:14,423: import elevator.main_elevator
[INFO]2021-03-09 12:11:16,417: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A5083ED0>>
[INFO]2021-03-09 12:11:16,420: import elevator.main_elevator
[INFO]2021-03-09 12:11:16,421: import feed.main_feed
[INFO]2021-03-09 12:11:16,429: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A536EC60>>
[INFO]2021-03-09 12:11:16,494: create lock <lock name:PDA runTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A536E900>>
[INFO]2021-03-09 12:11:16,499: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A53AB060>>
[INFO]2021-03-09 12:11:16,548: IP: 0.0.0.0 port: 10001
[SUCC]2021-03-09 12:11:16,557: utility start, pid=12816, ppid=1556
[DEBUG]2021-03-09 12:11:16,559: start timer
[INFO]2021-03-09 12:11:16,571: load agv file: C:\Users\WINDOWS\Desktop\akmLine\agvCtrl/projects/test/agv.cfg
[INFO]2021-03-09 12:11:16,572: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000163A53F3CF0>>
[DEBUG]2021-03-09 12:11:16,576: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-09 12:11:16,579: AGV01 start agvList run thread
[INFO]2021-03-09 12:11:16,579: AGV01 start agvList run2 thread
[INFO]2021-03-09 12:11:16,581: === AGV01 {}
[ERROR]2021-03-09 12:11:16,583: agv check init error False
[WARNING]2021-03-09 12:11:16,588: Local server start! version 3.8.0, path C:\Users\WINDOWS\Desktop\akmLine\common, pid 12816
[INFO]2021-03-09 12:11:16,589: add_ignore: taskStatus
[INFO]2021-03-09 12:11:17,085: === AGV01 {'AGV01': <driver.seerAgv.mockAgvCtrl.mockAgv object at 0x00000163A549F1C0>}
[INFO]2021-03-09 12:11:17,087: AGV01 current map akmLineMap
[INFO]2021-03-09 12:11:17,088: AGV01 is online
[CRITICAL]2021-03-09 12:11:49,634: Connect mongodb error! cause a error: 127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。, Timeout: 30s, Topology Description: <TopologyDescription id: 6046f564007776dc362b3130, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')>]>
pid=12816, ppid=1556, tid=14832

[CRITICAL]2021-03-09 12:11:49,694: invoke timer func<function msubscribe at 0x00000163A345BB80> cause a error: mongodb is not connected
pid=12816, ppid=1556, tid=14832
Traceback (most recent call last):
  File "C:\Users\WINDOWS\Desktop\akmLine\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "C:\Users\WINDOWS\Desktop\akmLine\alarm\alarmThreshold.py", line 65, in msubscribe
    for key in _loadInfo():
  File "C:\Users\WINDOWS\Desktop\akmLine\alarm\alarmThreshold.py", line 51, in _loadInfo
    ds = db.find("c_alarm_threshold")
  File "C:\Users\WINDOWS\Desktop\akmLine\common\mongodb.py", line 188, in find
    raise Exception("mongodb is not connected")
Exception: mongodb is not connected

[CRITICAL]2021-03-09 12:12:23,802: Connect mongodb error! cause a error: 127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。, Timeout: 30s, Topology Description: <TopologyDescription id: 6046f586007776dc362b3131, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')>]>
pid=12816, ppid=1556, tid=14832

[INFO]2021-03-09 13:44:25,514: user press moveAgv AGV01 button
