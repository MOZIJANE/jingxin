[INFO]2021-03-09 12:08:47,362: log files at C:\Users\WINDOWS\Desktop\akmLine\common\log
[INFO]2021-03-09 12:08:47,362: find module agvCtrl.main_agv
[INFO]2021-03-09 12:08:47,363: find module agvDevice.main_agvDevice
[INFO]2021-03-09 12:08:47,363: find module alarm.main_alarm
[INFO]2021-03-09 12:08:47,364: find module auth.main_auth
[INFO]2021-03-09 12:08:47,364: find module door.main_door
[INFO]2021-03-09 12:08:47,365: find module elevator.main_elevator
[INFO]2021-03-09 12:08:47,365: find module elevator.main_elevator
[INFO]2021-03-09 12:08:47,366: find module feed.main_feed
[INFO]2021-03-09 12:08:47,366: import agvCtrl.main_agv
[ERROR]2021-03-09 12:08:47,625: mongo db is disabled
[INFO]2021-03-09 12:08:48,003: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228BC0C090>>
[INFO]2021-03-09 12:08:48,007: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228BC0C9C0>>
[INFO]2021-03-09 12:08:48,174: create lock <lock name:timer.lock_2347401139488,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C02D690>>
[ERROR]2021-03-09 12:08:48,191: mqtt is disabled
[INFO]2021-03-09 12:08:48,191: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-09 12:08:48,191: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-09 12:08:49,766: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C1ED8A0>>
[INFO]2021-03-09 12:08:49,767: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C1DFCC0>>
[INFO]2021-03-09 12:08:50,516: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228ADB4120>>
[INFO]2021-03-09 12:08:51,546: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228DB9AC60>>
[INFO]2021-03-09 12:08:51,612: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C5D5AE0>>
[INFO]2021-03-09 12:08:51,694: charge policy 0 , fix time
[INFO]2021-03-09 12:08:51,776: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C5E8810>>
[INFO]2021-03-09 12:08:51,922: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\akmLine\akmLineMap.smap
[DEBUG]2021-03-09 12:08:52,410: elevator thread start
[INFO]2021-03-09 12:08:52,504: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\akmLine\akmLineMap.smap ,used 596 ms
[INFO]2021-03-09 12:08:52,515: start load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\akmLine\office.smap
[INFO]2021-03-09 12:08:52,637: load map C:\Users\WINDOWS\Desktop\akmLine\agvCtrl\projects\akmLine\office.smap ,used 133 ms
[INFO]2021-03-09 12:08:52,640: import agvDevice.main_agvDevice
[INFO]2021-03-09 12:08:52,640: import alarm.main_alarm
[INFO]2021-03-09 12:08:52,640: import auth.main_auth
[INFO]2021-03-09 12:08:52,739: import door.main_door
[INFO]2021-03-09 12:08:52,768: import elevator.main_elevator
[INFO]2021-03-09 12:08:52,768: import elevator.main_elevator
[INFO]2021-03-09 12:08:52,769: import feed.main_feed
[INFO]2021-03-09 12:08:52,967: create lock <lock name:feedTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C7547B0>>
[INFO]2021-03-09 12:08:53,219: create lock <lock name:PDA runTask.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C75FC30>>
[INFO]2021-03-09 12:08:53,232: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228B14A8A0>>
[INFO]2021-03-09 12:08:53,461: IP: 0.0.0.0 port: 10001
[SUCC]2021-03-09 12:08:53,468: utility start, pid=6904, ppid=12416
[DEBUG]2021-03-09 12:08:53,468: start timer
[INFO]2021-03-09 12:08:53,603: load agv file: C:\Users\WINDOWS\Desktop\akmLine\agvCtrl/projects/akmLine/agv.cfg
[INFO]2021-03-09 12:08:53,604: create lock <lock name:agvList.AGV01.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C538870>>
[DEBUG]2021-03-09 12:08:53,610: create aliveObj AGV01 AGV离线异常 timeout 300
[INFO]2021-03-09 12:08:53,646: AGV01 start agvList run thread
[INFO]2021-03-09 12:08:53,647: create lock <lock name:agv.AGV01.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002228C568660>>
[DEBUG]2021-03-09 12:08:53,648: try connect AGV01 192.168.252.241:19204
[INFO]2021-03-09 12:08:53,648: AGV01 start agvList run2 thread
[WARNING]2021-03-09 12:08:53,655: Local server start! version 3.8.0, path C:\Users\WINDOWS\Desktop\akmLine\common, pid 6904
[INFO]2021-03-09 12:08:53,655: add_ignore: taskStatus
[ERROR]2021-03-09 12:09:03,651: connect AGV01 failed timed out
[DEBUG]2021-03-09 12:09:03,651: try connect AGV01 192.168.252.241:19204
[ERROR]2021-03-09 12:09:13,651: connect AGV01 failed timed out
[INFO]2021-03-09 12:09:13,652: AGV01 checkLink failed 192.168.252.241 19204
[WARNING]2021-03-09 12:09:13,652: agvThread.AGV01[tid:11884] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11884 count=1 at 0x000002228C568660>> ,hold 20004 ms
[INFO]2021-03-09 12:09:13,654: name=agvThread.AGV01, pid=6904, tid=11884
[01] File "C:/Users/WINDOWS/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Users/WINDOWS/Desktop/akmLine/agvCtrl/agvList.py", line 562, in run() 
[03] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvApi.py", line 175, in checkLink() 
[05] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 100, in release() 
[06] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-09 12:09:15,656: try connect AGV01 192.168.252.241:19204
[ERROR]2021-03-09 12:09:25,657: connect AGV01 failed timed out
[INFO]2021-03-09 12:09:25,658: AGV01 checkLink failed 192.168.252.241 19204
[WARNING]2021-03-09 12:09:25,658: agvThread.AGV01[tid:11884] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11884 count=1 at 0x000002228C568660>> ,hold 10002 ms
[INFO]2021-03-09 12:09:25,660: name=agvThread.AGV01, pid=6904, tid=11884
[01] File "C:/Users/WINDOWS/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Users/WINDOWS/Desktop/akmLine/agvCtrl/agvList.py", line 562, in run() 
[03] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvApi.py", line 175, in checkLink() 
[05] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 100, in release() 
[06] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 240, in getThreadStack()
[CRITICAL]2021-03-09 12:09:27,326: Connect mongodb error! cause a error: 127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。, Timeout: 30s, Topology Description: <TopologyDescription id: 6046f4d5da9306c3645d8797, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')>]>
pid=6904, ppid=12416, tid=12824

[CRITICAL]2021-03-09 12:09:27,356: invoke timer func<function msubscribe at 0x000002228C0C2310> cause a error: mongodb is not connected
pid=6904, ppid=12416, tid=12824
Traceback (most recent call last):
  File "C:\Users\WINDOWS\Desktop\akmLine\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "C:\Users\WINDOWS\Desktop\akmLine\alarm\alarmThreshold.py", line 65, in msubscribe
    for key in _loadInfo():
  File "C:\Users\WINDOWS\Desktop\akmLine\alarm\alarmThreshold.py", line 51, in _loadInfo
    ds = db.find("c_alarm_threshold")
  File "C:\Users\WINDOWS\Desktop\akmLine\common\mongodb.py", line 188, in find
    raise Exception("mongodb is not connected")
Exception: mongodb is not connected

[DEBUG]2021-03-09 12:09:27,662: try connect AGV01 192.168.252.241:19204
[ERROR]2021-03-09 12:09:37,663: connect AGV01 failed timed out
[INFO]2021-03-09 12:09:37,664: AGV01 checkLink failed 192.168.252.241 19204
[WARNING]2021-03-09 12:09:37,664: agvThread.AGV01[tid:11884] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11884 count=1 at 0x000002228C568660>> ,hold 10002 ms
[INFO]2021-03-09 12:09:37,666: name=agvThread.AGV01, pid=6904, tid=11884
[01] File "C:/Users/WINDOWS/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Users/WINDOWS/Desktop/akmLine/agvCtrl/agvList.py", line 562, in run() 
[03] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvApi.py", line 175, in checkLink() 
[05] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 100, in release() 
[06] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-09 12:09:39,668: try connect AGV01 192.168.252.241:19204
[ERROR]2021-03-09 12:09:49,669: connect AGV01 failed timed out
[INFO]2021-03-09 12:09:49,670: AGV01 checkLink failed 192.168.252.241 19204
[WARNING]2021-03-09 12:09:49,670: agvThread.AGV01[tid:11884] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11884 count=1 at 0x000002228C568660>> ,hold 10002 ms
[INFO]2021-03-09 12:09:49,672: name=agvThread.AGV01, pid=6904, tid=11884
[01] File "C:/Users/WINDOWS/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Users/WINDOWS/Desktop/akmLine/agvCtrl/agvList.py", line 562, in run() 
[03] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvApi.py", line 175, in checkLink() 
[05] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 100, in release() 
[06] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-09 12:09:51,672: try connect AGV01 192.168.252.241:19204
[CRITICAL]2021-03-09 12:10:01,514: Connect mongodb error! cause a error: 127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。, Timeout: 30s, Topology Description: <TopologyDescription id: 6046f4f8da9306c3645d8798, topology_type: Single, servers: [<ServerDescription ('127.0.0.1', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('127.0.0.1:27017: [WinError 10061] 由于目标计算机积极拒绝，无法连接。')>]>
pid=6904, ppid=12416, tid=12824

[CRITICAL]2021-03-09 12:10:01,522: invoke timer func<function _load at 0x000002228C0C2040> cause a error: mongodb is not connected
pid=6904, ppid=12416, tid=12824
Traceback (most recent call last):
  File "C:\Users\WINDOWS\Desktop\akmLine\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "C:\Users\WINDOWS\Desktop\akmLine\alarm\alarmForward.py", line 55, in _load
    ds = db.find("u_alarm_forward")
  File "C:\Users\WINDOWS\Desktop\akmLine\common\mongodb.py", line 188, in find
    raise Exception("mongodb is not connected")
Exception: mongodb is not connected

[ERROR]2021-03-09 12:10:01,673: connect AGV01 failed timed out
[INFO]2021-03-09 12:10:01,673: AGV01 checkLink failed 192.168.252.241 19204
[WARNING]2021-03-09 12:10:01,673: agvThread.AGV01[tid:11884] <lock name:agv.AGV01.lock_status,<locked _thread.RLock object owner=11884 count=1 at 0x000002228C568660>> ,hold 10001 ms
[INFO]2021-03-09 12:10:01,673: name=agvThread.AGV01, pid=6904, tid=11884
[01] File "C:/Users/WINDOWS/AppData/Local/Programs/Python/Python38/lib/threading.py", line 870, in run() 
[02] File "C:/Users/WINDOWS/Desktop/akmLine/agvCtrl/agvList.py", line 562, in run() 
[03] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "C:/Users/WINDOWS/Desktop/akmLine/driver/seerAgv/agvApi.py", line 175, in checkLink() 
[05] File "C:/Users/WINDOWS/Desktop/akmLine/common/lock.py", line 100, in release() 
[06] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 258, in getTrace() 
[07] File "C:/Users/WINDOWS/Desktop/akmLine/common/enhance.py", line 240, in getThreadStack()
[DEBUG]2021-03-09 12:10:03,676: try connect AGV01 192.168.252.241:19204
