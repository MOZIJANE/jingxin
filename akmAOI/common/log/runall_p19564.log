[INFO]2021-03-08 11:04:09,801: log files at D:\python_lx\akm\common\log
[INFO]2021-03-08 11:04:09,801: find module agvCtrl.main_agv
[INFO]2021-03-08 11:04:09,801: find module agvDevice.main_agvDevice
[INFO]2021-03-08 11:04:09,801: find module alarm.main_alarm
[INFO]2021-03-08 11:04:09,802: find module auth.main_auth
[INFO]2021-03-08 11:04:09,802: find module button.main_button
[INFO]2021-03-08 11:04:09,802: find module door.main_door
[INFO]2021-03-08 11:04:09,802: find module elevator.main_elevator
[INFO]2021-03-08 11:04:09,802: find module virtualDoor.main_doorCtrl
[INFO]2021-03-08 11:04:09,803: import agvCtrl.main_agv
[INFO]2021-03-08 11:04:10,433: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A42AE630>>
[INFO]2021-03-08 11:04:10,436: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A42BE810>>
[INFO]2021-03-08 11:04:10,436: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A42BEAE0>>
[INFO]2021-03-08 11:04:10,537: create lock <lock name:timer.lock_2279090241792,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A45D4180>>
[ERROR]2021-03-08 11:04:10,549: mqtt is disabled
[INFO]2021-03-08 11:04:10,550: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-08 11:04:10,550: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-08 11:04:19,130: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-08 11:04:19,175: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A485A570>>
[INFO]2021-03-08 11:04:19,175: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4853ED0>>
[INFO]2021-03-08 11:04:19,175: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4853360>>
[INFO]2021-03-08 11:04:19,187: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A48AE690>>
[INFO]2021-03-08 11:04:19,457: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4875390>>
[INFO]2021-03-08 11:04:19,719: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4953090>>
[INFO]2021-03-08 11:04:19,721: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4A00A20>>
[INFO]2021-03-08 11:04:19,779: charge policy 0 , fix time
[INFO]2021-03-08 11:04:19,810: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4A0C630>>
[INFO]2021-03-08 11:04:20,293: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-08 11:04:20,468: elevator thread start
[INFO]2021-03-08 11:04:20,487: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 201 ms
[INFO]2021-03-08 11:04:20,495: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-08 11:04:20,553: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 66 ms
[INFO]2021-03-08 11:04:20,563: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[DEBUG]2021-03-08 11:04:20,604: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,605: create aliveObj DDT_DOOR03 门控离线异常 timeout 60
[INFO]2021-03-08 11:04:20,625: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 71 ms
[INFO]2021-03-08 11:04:20,633: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-03-08 11:04:20,788: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 163 ms
[INFO]2021-03-08 11:04:20,796: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[DEBUG]2021-03-08 11:04:20,889: create aliveObj QCL_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,889: create aliveObj vitualDoor10 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,889: create aliveObj vitualDoor11 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,889: create aliveObj vitualDoor12 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,889: create aliveObj vitualDoor13 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,890: create aliveObj vitualDoor14 门控离线异常 timeout 60
[INFO]2021-03-08 11:04:20,910: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 121 ms
[INFO]2021-03-08 11:04:20,918: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[DEBUG]2021-03-08 11:04:20,978: create aliveObj ZP_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,978: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,978: create aliveObj vitualDoor02 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,978: create aliveObj vitualDoor03 门控离线异常 timeout 60
[DEBUG]2021-03-08 11:04:20,978: create aliveObj vitualDoor04 门控离线异常 timeout 60
[INFO]2021-03-08 11:04:21,000: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 90 ms
[INFO]2021-03-08 11:04:21,009: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-08 11:04:21,064: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 64 ms
[INFO]2021-03-08 11:04:21,067: import agvDevice.main_agvDevice
[INFO]2021-03-08 11:04:21,067: import alarm.main_alarm
[INFO]2021-03-08 11:04:21,067: import auth.main_auth
[INFO]2021-03-08 11:04:21,075: import button.main_button
[INFO]2021-03-08 11:04:21,079: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4F28A20>>
[INFO]2021-03-08 11:04:21,110: import door.main_door
[INFO]2021-03-08 11:04:21,113: import elevator.main_elevator
[INFO]2021-03-08 11:04:21,113: import virtualDoor.main_doorCtrl
[INFO]2021-03-08 11:04:22,364: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4F69570>>
[DEBUG]2021-03-08 11:04:22,365: create aliveObj magneticAGV03 磁导车掉线异常 timeout 120
[INFO]2021-03-08 11:04:22,367: create lock <lock name:magneticAGVlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A4F7C300>>
[SUCC]2021-03-08 11:04:22,374: utility start, pid=19564, ppid=4440
[DEBUG]2021-03-08 11:04:22,376: start timer
[INFO]2021-03-08 11:04:22,385: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-08 11:04:22,386: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A654C780>>
[DEBUG]2021-03-08 11:04:22,387: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-08 11:04:22,388: AGV06 start agvList run thread
[INFO]2021-03-08 11:04:22,388: create lock <lock name:agv.AGV06.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000212A6569720>>
[INFO]2021-03-08 11:04:22,388: AGV06 start agvList run2 thread
[DEBUG]2021-03-08 11:04:22,388: try connect AGV06 192.168.20.201:19204
[WARN]2021-03-08 11:04:22,391: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 19564
[INFO]2021-03-08 11:04:22,391: add_ignore: taskStatus
[ERROR]2021-03-08 11:04:22,400: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[DEBUG]2021-03-08 11:04:22,400: try connect AGV06 192.168.20.201:19204
[ERROR]2021-03-08 11:04:22,402: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[INFO]2021-03-08 11:04:22,402: AGV06 checkLink failed 192.168.20.201 19204
[DEBUG]2021-03-08 11:04:24,404: try connect AGV06 192.168.20.201:19204
[ERROR]2021-03-08 11:04:24,404: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[INFO]2021-03-08 11:04:24,405: AGV06 checkLink failed 192.168.20.201 19204
[DEBUG]2021-03-08 11:04:26,407: try connect AGV06 192.168.20.201:19204
[ERROR]2021-03-08 11:04:26,408: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[INFO]2021-03-08 11:04:26,409: AGV06 checkLink failed 192.168.20.201 19204
[CRITICAL]2021-03-08 11:04:26,435: [modbusApi: 192.168.20.153] execute fcode=1, addr=0 exception:  cause a error: [WinError 10065] 套接字操作尝试一个无法连接的主机。
pid=19564, ppid=4440, tid=10516
Traceback (most recent call last):
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
OSError: [WinError 10065] 套接字操作尝试一个无法连接的主机。

[CRITICAL]2021-03-08 11:04:26,443: magneticAGV03 readDIList fail cause a error: [WinError 10065] 套接字操作尝试一个无法连接的主机。
pid=19564, ppid=4440, tid=10516
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
OSError: [WinError 10065] 套接字操作尝试一个无法连接的主机。

[CRITICAL]2021-03-08 11:04:26,451: magneticAGV readDIList error cause a error: [WinError 10065] 套接字操作尝试一个无法连接的主机。
pid=19564, ppid=4440, tid=10516
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 90, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
OSError: [WinError 10065] 套接字操作尝试一个无法连接的主机。

[DEBUG]2021-03-08 11:04:28,410: try connect AGV06 192.168.20.201:19204
[ERROR]2021-03-08 11:04:28,420: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[INFO]2021-03-08 11:04:28,420: AGV06 checkLink failed 192.168.20.201 19204
[DEBUG]2021-03-08 11:04:30,422: try connect AGV06 192.168.20.201:19204
[ERROR]2021-03-08 11:04:30,422: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[INFO]2021-03-08 11:04:30,422: AGV06 checkLink failed 192.168.20.201 19204
[DEBUG]2021-03-08 11:04:32,423: try connect AGV06 192.168.20.201:19204
[ERROR]2021-03-08 11:04:32,433: connect AGV06 failed [WinError 10065] 套接字操作尝试一个无法连接的主机。
[INFO]2021-03-08 11:04:32,433: AGV06 checkLink failed 192.168.20.201 19204
