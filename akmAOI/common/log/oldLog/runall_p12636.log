[INFO]2021-03-04 15:20:27,426: log files at D:\python_lx\akm\common\log
[INFO]2021-03-04 15:20:27,427: find module agvCtrl.main_agv
[INFO]2021-03-04 15:20:27,427: find module agvDevice.main_agvDevice
[INFO]2021-03-04 15:20:27,427: find module alarm.main_alarm
[INFO]2021-03-04 15:20:27,427: find module auth.main_auth
[INFO]2021-03-04 15:20:27,427: find module button.main_button
[INFO]2021-03-04 15:20:27,428: find module door.main_door
[INFO]2021-03-04 15:20:27,428: find module elevator.main_elevator
[INFO]2021-03-04 15:20:27,428: find module virtualDoor.main_doorCtrl
[INFO]2021-03-04 15:20:27,428: import agvCtrl.main_agv
[INFO]2021-03-04 15:20:28,003: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D666ECD660>>
[INFO]2021-03-04 15:20:28,007: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D666EDD840>>
[INFO]2021-03-04 15:20:28,007: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D666EDDB10>>
[INFO]2021-03-04 15:20:28,171: create lock <lock name:timer.lock_3119876362352,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D6671F51B0>>
[ERROR]2021-03-04 15:20:28,197: mqtt is disabled
[INFO]2021-03-04 15:20:28,197: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-04 15:20:28,197: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-04 15:20:31,263: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-04 15:20:31,323: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D6674775A0>>
[INFO]2021-03-04 15:20:31,324: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66746FEA0>>
[INFO]2021-03-04 15:20:31,325: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66746F300>>
[INFO]2021-03-04 15:20:31,345: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D6674BA6C0>>
[INFO]2021-03-04 15:20:31,717: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D6674813C0>>
[INFO]2021-03-04 15:20:32,372: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D6675620C0>>
[INFO]2021-03-04 15:20:32,376: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66760FA50>>
[INFO]2021-03-04 15:20:32,455: charge policy 0 , fix time
[INFO]2021-03-04 15:20:32,488: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66761B660>>
[INFO]2021-03-04 15:20:32,972: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-04 15:20:33,369: elevator thread start
[INFO]2021-03-04 15:20:33,425: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 473 ms
[INFO]2021-03-04 15:20:33,445: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-04 15:20:33,513: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 88 ms
[INFO]2021-03-04 15:20:33,522: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-04 15:20:33,592: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 79 ms
[INFO]2021-03-04 15:20:33,607: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-03-04 15:20:33,788: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 196 ms
[INFO]2021-03-04 15:20:33,822: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-04 15:20:34,082: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 294 ms
[INFO]2021-03-04 15:20:34,090: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[DEBUG]2021-03-04 15:20:34,145: create aliveObj ZP_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:20:34,145: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:20:34,145: create aliveObj vitualDoor02 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:20:34,145: create aliveObj vitualDoor03 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:20:34,145: create aliveObj vitualDoor04 门控离线异常 timeout 60
[INFO]2021-03-04 15:20:34,166: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 84 ms
[INFO]2021-03-04 15:20:34,176: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-04 15:20:34,219: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 52 ms
[INFO]2021-03-04 15:20:34,222: import agvDevice.main_agvDevice
[INFO]2021-03-04 15:20:34,222: import alarm.main_alarm
[INFO]2021-03-04 15:20:34,223: import auth.main_auth
[INFO]2021-03-04 15:20:34,232: import button.main_button
[INFO]2021-03-04 15:20:34,236: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D667AFC300>>
[INFO]2021-03-04 15:20:34,298: import door.main_door
[INFO]2021-03-04 15:20:34,304: import elevator.main_elevator
[INFO]2021-03-04 15:20:34,305: import virtualDoor.main_doorCtrl
[INFO]2021-03-04 15:20:37,604: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D667C70030>>
[DEBUG]2021-03-04 15:20:37,605: create aliveObj magneticAGV02 磁导车掉线异常 timeout 120
[INFO]2021-03-04 15:20:37,607: create lock <lock name:magneticAGVlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D667B3D900>>
[SUCC]2021-03-04 15:20:37,615: utility start, pid=12636, ppid=17864
[DEBUG]2021-03-04 15:20:37,625: start timer
[INFO]2021-03-04 15:20:37,642: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-04 15:20:37,642: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D669053870>>
[DEBUG]2021-03-04 15:20:37,643: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-04 15:20:37,644: AGV06 start agvList run thread
[INFO]2021-03-04 15:20:37,645: AGV06 start agvList run2 thread
[INFO]2021-03-04 15:20:37,645: create lock <lock name:agv.AGV06.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66906E810>>
[DEBUG]2021-03-04 15:20:37,645: try connect AGV06 192.168.20.201:19204
[WARN]2021-03-04 15:20:37,647: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 12636
[INFO]2021-03-04 15:20:37,647: add_ignore: taskStatus
[INFO]2021-03-04 15:20:37,651: AGV06 connected 192.168.20.201 19204
[INFO]2021-03-04 15:20:37,651: create lock <lock name:agv.AGV06.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66906E840>>
[DEBUG]2021-03-04 15:20:37,651: try connect AGV06 192.168.20.201:19205
[INFO]2021-03-04 15:20:37,659: AGV06 connected 192.168.20.201 19205
[INFO]2021-03-04 15:20:37,660: create lock <lock name:agv.AGV06.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66907DF00>>
[DEBUG]2021-03-04 15:20:37,661: try connect AGV06 192.168.20.201:19206
[INFO]2021-03-04 15:20:37,666: AGV06 connected 192.168.20.201 19206
[INFO]2021-03-04 15:20:37,667: create lock <lock name:agv.AGV06.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66906E870>>
[DEBUG]2021-03-04 15:20:37,668: try connect AGV06 192.168.20.201:19207
[INFO]2021-03-04 15:20:37,672: AGV06 connected 192.168.20.201 19207
[INFO]2021-03-04 15:20:37,673: create lock <lock name:agv.AGV06.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66906E7E0>>
[DEBUG]2021-03-04 15:20:37,673: try connect AGV06 192.168.20.201:19208
[INFO]2021-03-04 15:20:37,678: AGV06 connected 192.168.20.201 19208
[INFO]2021-03-04 15:20:37,679: create lock <lock name:agv.AGV06.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000002D66906E030>>
[DEBUG]2021-03-04 15:20:37,679: try connect AGV06 192.168.20.201:19210
[INFO]2021-03-04 15:20:37,688: AGV06 connected 192.168.20.201 19210
[INFO]2021-03-04 15:20:37,706: AGV06 current map AKM-ZP
[INFO]2021-03-04 15:20:37,735: AGV06 is online
[INFO]2021-03-04 15:20:41,715: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:20:42,717: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:20:42,734: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:20:42,735: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:20:43,244: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=12636, ppid=17864, tid=15128
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 193, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 226, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:20:43,244: task: stop magneticAGV02 经过门 ['ZP_DOOR']
[INFO]2021-03-04 15:20:44,731: startCharge is false
[INFO]2021-03-04 15:20:44,742: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:20:45,743: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:20:45,754: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:20:45,755: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:20:46,283: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=12636, ppid=17864, tid=5372
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 193, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 226, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:20:46,285: task: stop magneticAGV02 经过门 ['ZP_DOOR']
