[INFO]2021-03-02 15:39:14,272: log files at D:\python_lx\akm\common\log
[INFO]2021-03-02 15:39:14,272: find module agvCtrl.main_agv
[INFO]2021-03-02 15:39:14,272: find module agvDevice.main_agvDevice
[INFO]2021-03-02 15:39:14,272: find module alarm.main_alarm
[INFO]2021-03-02 15:39:14,273: find module auth.main_auth
[INFO]2021-03-02 15:39:14,273: find module button.main_button
[INFO]2021-03-02 15:39:14,273: find module door.main_door
[INFO]2021-03-02 15:39:14,273: find module elevator.main_elevator
[INFO]2021-03-02 15:39:14,274: find module virtualDoor.main_doorCtrl
[INFO]2021-03-02 15:39:14,274: import agvCtrl.main_agv
[INFO]2021-03-02 15:39:14,683: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018106C2C690>>
[INFO]2021-03-02 15:39:14,688: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018106C2CED0>>
[INFO]2021-03-02 15:39:14,781: create lock <lock name:timer.lock_1653679089840,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018106F469F0>>
[ERROR]2021-03-02 15:39:14,793: mqtt is disabled
[INFO]2021-03-02 15:39:14,793: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-02 15:39:14,793: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-02 15:39:17,820: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-02 15:39:17,881: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181071D0DE0>>
[INFO]2021-03-02 15:39:17,882: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181071D0720>>
[INFO]2021-03-02 15:39:17,884: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181071C3B40>>
[INFO]2021-03-02 15:39:17,914: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018107211F00>>
[INFO]2021-03-02 15:39:18,190: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181071D5C00>>
[INFO]2021-03-02 15:39:18,429: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181072BB900>>
[INFO]2021-03-02 15:39:18,431: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181073712D0>>
[INFO]2021-03-02 15:39:18,483: charge policy 0 , fix time
[INFO]2021-03-02 15:39:18,509: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018107371EA0>>
[INFO]2021-03-02 15:39:18,899: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-02 15:39:19,051: elevator thread start
[INFO]2021-03-02 15:39:19,067: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 176 ms
[INFO]2021-03-02 15:39:19,074: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-02 15:39:19,128: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 61 ms
[INFO]2021-03-02 15:39:19,136: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-02 15:39:19,192: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 64 ms
[INFO]2021-03-02 15:39:19,200: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-02 15:39:19,328: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-02 15:39:19,328: create aliveObj DDT_DOOR03 门控离线异常 timeout 60
[INFO]2021-03-02 15:39:19,350: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 157 ms
[INFO]2021-03-02 15:39:19,359: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-02 15:39:19,447: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 97 ms
[INFO]2021-03-02 15:39:19,456: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-02 15:39:19,523: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 75 ms
[INFO]2021-03-02 15:39:19,530: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-02 15:39:19,569: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 46 ms
[INFO]2021-03-02 15:39:19,572: import agvDevice.main_agvDevice
[INFO]2021-03-02 15:39:19,572: import alarm.main_alarm
[INFO]2021-03-02 15:39:19,573: import auth.main_auth
[INFO]2021-03-02 15:39:19,583: import button.main_button
[INFO]2021-03-02 15:39:19,587: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000018107851420>>
[INFO]2021-03-02 15:39:19,623: import door.main_door
[INFO]2021-03-02 15:39:19,625: import elevator.main_elevator
[INFO]2021-03-02 15:39:19,625: import virtualDoor.main_doorCtrl
[INFO]2021-03-02 15:39:22,136: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000181079A4150>>
[DEBUG]2021-03-02 15:39:22,137: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-02 15:39:22,144: utility start, pid=9828, ppid=7936
[DEBUG]2021-03-02 15:39:22,145: start timer
[INFO]2021-03-02 15:39:22,152: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-02 15:39:22,152: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F3DD6C0>>
[DEBUG]2021-03-02 15:39:22,154: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-02 15:39:22,154: AGV23 start agvList run thread
[INFO]2021-03-02 15:39:22,155: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F3F8510>>
[DEBUG]2021-03-02 15:39:22,155: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-02 15:39:22,155: AGV23 start agvList run2 thread
[WARN]2021-03-02 15:39:22,158: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 9828
[INFO]2021-03-02 15:39:22,158: add_ignore: taskStatus
[INFO]2021-03-02 15:39:22,162: AGV23 connected 192.168.20.198 19204
[INFO]2021-03-02 15:39:22,162: create lock <lock name:agv.AGV23.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F3F8540>>
[DEBUG]2021-03-02 15:39:22,162: try connect AGV23 192.168.20.198:19205
[INFO]2021-03-02 15:39:22,170: AGV23 connected 192.168.20.198 19205
[INFO]2021-03-02 15:39:22,170: create lock <lock name:agv.AGV23.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F3F8570>>
[DEBUG]2021-03-02 15:39:22,170: try connect AGV23 192.168.20.198:19206
[INFO]2021-03-02 15:39:22,175: AGV23 connected 192.168.20.198 19206
[INFO]2021-03-02 15:39:22,176: create lock <lock name:agv.AGV23.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F3F8600>>
[DEBUG]2021-03-02 15:39:22,176: try connect AGV23 192.168.20.198:19207
[INFO]2021-03-02 15:39:22,181: AGV23 connected 192.168.20.198 19207
[INFO]2021-03-02 15:39:22,181: create lock <lock name:agv.AGV23.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F403630>>
[DEBUG]2021-03-02 15:39:22,181: try connect AGV23 192.168.20.198:19208
[INFO]2021-03-02 15:39:22,186: AGV23 connected 192.168.20.198 19208
[INFO]2021-03-02 15:39:22,186: create lock <lock name:agv.AGV23.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000001810F4143F0>>
[DEBUG]2021-03-02 15:39:22,187: try connect AGV23 192.168.20.198:19210
[INFO]2021-03-02 15:39:22,193: AGV23 connected 192.168.20.198 19210
[INFO]2021-03-02 15:39:22,207: AGV23 current map AKM-FQC
[INFO]2021-03-02 15:39:22,357: AGV23 is online
[INFO]2021-03-02 15:39:26,219: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-02 15:39:27,221: magneticAGV01 try to open door 0 ['SK_DOOR', 'DDT_DOOR03'] ['SK_DOOR', 'DDT_DOOR03']
[INFO]2021-03-02 15:39:27,232: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 15:39:27,233: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] checkBeginSignal -> opendoor
[INFO]2021-03-02 15:39:27,734: try to open door SK_DOOR
[DEBUG]2021-03-02 15:39:27,735: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-02 15:39:27,745: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-02 15:39:27,747: The signal to open the door has been sent,  doorIP:192.168.20.163
[DEBUG]2021-03-02 15:39:27,765: send to door module:192.168.20.163, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-02 15:39:28,090: read from door module:192.168.20.163, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-02 15:39:28,090: used 345ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-02 15:39:28,093: [return] use 358 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[WARN]2021-03-02 15:39:28,093: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-02 15:39:29,239: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-02 15:39:30,095: try to open door DDT_DOOR03
[DEBUG]2021-03-02 15:39:30,096: send http_get: http://127.0.0.1:8999/api/switch/on?id=DDT_DOOR03
[DEBUG]2021-03-02 15:39:30,110: GET: http://127.0.0.1:8999/api/switch/on?id=DDT_DOOR03 addr: 127.0.0.1
[INFO]2021-03-02 15:39:30,111: The signal to open the door has been sent,  doorIP:192.168.20.160
[DEBUG]2021-03-02 15:39:30,119: send to door module:192.168.20.160, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-02 15:39:30,411: read from door module:192.168.20.160, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-02 15:39:30,411: used 302ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=DDT_DOOR03
[DEBUG]2021-03-02 15:39:30,412: [return] use 316 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=DDT_DOOR03
[WARN]2021-03-02 15:39:30,412: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-02 15:39:32,249: magneticAGV01 (1, 0, 0, 0)
[DEBUG]2021-03-02 15:39:32,413: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor -> leavefirst
[INFO]2021-03-02 15:39:36,445: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 15:39:36,447: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] leavefirst -> waitAlway
[INFO]2021-03-02 15:39:36,454: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-03-02 15:39:36,459: agvThread.AGV23[tid:8340] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=8340 count=1 at 0x000001810F3F8510>> ,hold 3004 ms
[INFO]2021-03-02 15:39:36,462: name=agvThread.AGV23, pid=9828, tid=8340
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 573, in run() 
[03] File "D:/python_lx/akm/agvCtrl/agvList.py", line 855, in readStatus1() 
[04] File "D:/python_lx/akm/agvCtrl/agvList.py", line 835, in _readStatus1() 
[05] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 777, in readStatus1() 
[06] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 195, in status() 
[07] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 254, in _handle() 
[08] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[09] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[10] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-03-02 15:39:36,948: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] waitAlway error
[WARN]2021-03-02 15:39:38,950: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] waitAlway error
[INFO]2021-03-02 15:39:39,465: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-03-02 15:39:40,951: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] waitAlway error
[INFO]2021-03-02 15:39:42,489: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-03-02 15:39:42,953: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] waitAlway error
[WARN]2021-03-02 15:39:44,954: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] waitAlway error
[INFO]2021-03-02 15:39:45,559: magneticAGV01 (0, 0, 0, 0)
