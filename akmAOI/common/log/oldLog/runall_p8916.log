[INFO]2021-02-26 10:48:55,572: log files at D:\python_lx\akm\common\log
[INFO]2021-02-26 10:48:55,573: find module agvCtrl.main_agv
[INFO]2021-02-26 10:48:55,573: find module agvDevice.main_agvDevice
[INFO]2021-02-26 10:48:55,573: find module alarm.main_alarm
[INFO]2021-02-26 10:48:55,573: find module auth.main_auth
[INFO]2021-02-26 10:48:55,574: find module button.main_button
[INFO]2021-02-26 10:48:55,574: find module door.main_door
[INFO]2021-02-26 10:48:55,574: find module elevator.main_elevator
[INFO]2021-02-26 10:48:55,576: find module virtualDoor.main_doorCtrl
[INFO]2021-02-26 10:48:55,576: import agvCtrl.main_agv
[INFO]2021-02-26 10:48:56,063: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2A1C690>>
[INFO]2021-02-26 10:48:56,067: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2A1CED0>>
[INFO]2021-02-26 10:48:56,275: create lock <lock name:timer.lock_2202023454848,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2D369C0>>
[ERROR]2021-02-26 10:48:56,286: mqtt is disabled
[INFO]2021-02-26 10:48:56,286: mqtt: subscribe [alarm/raise/+]
[INFO]2021-02-26 10:48:56,286: mqtt: subscribe [alarm/clear/+]
[INFO]2021-02-26 10:48:59,317: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-02-26 10:48:59,379: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2FC0DB0>>
[INFO]2021-02-26 10:48:59,380: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2FC06F0>>
[INFO]2021-02-26 10:48:59,382: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2FB3B10>>
[INFO]2021-02-26 10:48:59,418: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B3001ED0>>
[INFO]2021-02-26 10:49:00,204: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B2FC7BD0>>
[INFO]2021-02-26 10:49:00,622: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B30AC8D0>>
[INFO]2021-02-26 10:49:00,624: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B31612A0>>
[INFO]2021-02-26 10:49:00,678: charge policy 0 , fix time
[INFO]2021-02-26 10:49:00,761: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B3161E70>>
[INFO]2021-02-26 10:49:01,865: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-02-26 10:49:02,355: elevator thread start
[INFO]2021-02-26 10:49:02,382: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 548 ms
[INFO]2021-02-26 10:49:02,410: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-02-26 10:49:02,617: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 234 ms
[INFO]2021-02-26 10:49:02,654: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-02-26 10:49:02,812: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 195 ms
[INFO]2021-02-26 10:49:02,844: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-02-26 10:49:03,124: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 312 ms
[INFO]2021-02-26 10:49:03,145: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-02-26 10:49:03,261: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 137 ms
[INFO]2021-02-26 10:49:03,289: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-02-26 10:49:03,520: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 259 ms
[INFO]2021-02-26 10:49:03,547: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-02-26 10:49:03,641: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 120 ms
[INFO]2021-02-26 10:49:03,651: import agvDevice.main_agvDevice
[INFO]2021-02-26 10:49:03,652: import alarm.main_alarm
[INFO]2021-02-26 10:49:03,653: import auth.main_auth
[INFO]2021-02-26 10:49:03,684: import button.main_button
[INFO]2021-02-26 10:49:03,697: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B3676DB0>>
[INFO]2021-02-26 10:49:03,813: import door.main_door
[INFO]2021-02-26 10:49:03,820: import elevator.main_elevator
[INFO]2021-02-26 10:49:03,820: import virtualDoor.main_doorCtrl
[INFO]2021-02-26 10:49:06,521: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B36CE450>>
[SUCC]2021-02-26 10:49:06,528: utility start, pid=8916, ppid=23000
[DEBUG]2021-02-26 10:49:06,528: start timer
[INFO]2021-02-26 10:49:06,541: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-02-26 10:49:06,541: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B6FDA150>>
[DEBUG]2021-02-26 10:49:06,543: create aliveObj AGV23 AGV¿Îœﬂ“Ï≥£ timeout 300
[INFO]2021-02-26 10:49:06,543: AGV23 start agvList run thread
[INFO]2021-02-26 10:49:06,544: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000200B6FF73F0>>
[INFO]2021-02-26 10:49:06,544: AGV23 start agvList run2 thread
[DEBUG]2021-02-26 10:49:06,544: try connect AGV23 192.168.20.198:19204
[WARN]2021-02-26 10:49:06,547: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 8916
[INFO]2021-02-26 10:49:06,547: add_ignore: taskStatus
[CRITICAL]2021-02-26 10:49:10,555: magneticAGV01 readDIList fail cause a error: name 'mdef' is not defined
pid=8916, ppid=23000, tid=21984
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
NameError: name 'mdef' is not defined

[CRITICAL]2021-02-26 10:49:10,569: magneticAGV readDIList error cause a error: name 'mdef' is not defined
pid=8916, ppid=23000, tid=21984
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 79, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
NameError: name 'mdef' is not defined

[CRITICAL]2021-02-26 10:49:11,598: invoke timer func<function _monitorDevices at 0x00000200B6FDCDC0> cause a error: 'str' object has no attribute 'running'
pid=8916, ppid=23000, tid=21984
Traceback (most recent call last):
  File "D:\python_lx\akm\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 98, in _monitorDevices
    if task.running == False:
AttributeError: 'str' object has no attribute 'running'

[CRITICAL]2021-02-26 10:49:13,206: magneticAGV01 readDIList fail cause a error: name 'mdef' is not defined
pid=8916, ppid=23000, tid=21984
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
NameError: name 'mdef' is not defined

[CRITICAL]2021-02-26 10:49:13,232: magneticAGV readDIList error cause a error: name 'mdef' is not defined
pid=8916, ppid=23000, tid=21984
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 79, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
NameError: name 'mdef' is not defined

