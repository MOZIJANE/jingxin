[INFO]2021-03-02 15:00:49,531: log files at D:\python_lx\akm\common\log
[INFO]2021-03-02 15:00:49,531: find module agvCtrl.main_agv
[INFO]2021-03-02 15:00:49,531: find module agvDevice.main_agvDevice
[INFO]2021-03-02 15:00:49,531: find module alarm.main_alarm
[INFO]2021-03-02 15:00:49,532: find module auth.main_auth
[INFO]2021-03-02 15:00:49,532: find module button.main_button
[INFO]2021-03-02 15:00:49,532: find module door.main_door
[INFO]2021-03-02 15:00:49,532: find module elevator.main_elevator
[INFO]2021-03-02 15:00:49,533: find module virtualDoor.main_doorCtrl
[INFO]2021-03-02 15:00:49,533: import agvCtrl.main_agv
[INFO]2021-03-02 15:00:49,942: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA524CC690>>
[INFO]2021-03-02 15:00:49,944: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA524CCED0>>
[INFO]2021-03-02 15:00:50,035: create lock <lock name:timer.lock_2999271319632,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52806990>>
[ERROR]2021-03-02 15:00:50,046: mqtt is disabled
[INFO]2021-03-02 15:00:50,047: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-02 15:00:50,047: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-02 15:00:53,084: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-02 15:00:53,146: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52A90D80>>
[INFO]2021-03-02 15:00:53,146: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52A906C0>>
[INFO]2021-03-02 15:00:53,149: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52A83AE0>>
[INFO]2021-03-02 15:00:53,181: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52AD1EA0>>
[INFO]2021-03-02 15:00:53,566: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52A97BA0>>
[INFO]2021-03-02 15:00:53,998: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52B7C8A0>>
[INFO]2021-03-02 15:00:54,001: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52C31270>>
[INFO]2021-03-02 15:00:54,072: charge policy 0 , fix time
[INFO]2021-03-02 15:00:54,106: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA52C31E40>>
[INFO]2021-03-02 15:00:54,519: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-02 15:00:54,690: elevator thread start
[INFO]2021-03-02 15:00:54,706: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 196 ms
[INFO]2021-03-02 15:00:54,714: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-02 15:00:54,776: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 69 ms
[INFO]2021-03-02 15:00:54,785: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-02 15:00:54,852: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 76 ms
[INFO]2021-03-02 15:00:54,861: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-02 15:00:55,023: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-02 15:00:55,024: create aliveObj DDT_DOOR03 门控离线异常 timeout 60
[INFO]2021-03-02 15:00:55,046: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 194 ms
[INFO]2021-03-02 15:00:55,069: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-02 15:00:55,160: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 114 ms
[INFO]2021-03-02 15:00:55,167: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-02 15:00:55,245: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 84 ms
[INFO]2021-03-02 15:00:55,255: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-02 15:00:55,302: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 57 ms
[INFO]2021-03-02 15:00:55,305: import agvDevice.main_agvDevice
[INFO]2021-03-02 15:00:55,305: import alarm.main_alarm
[INFO]2021-03-02 15:00:55,305: import auth.main_auth
[INFO]2021-03-02 15:00:55,315: import button.main_button
[INFO]2021-03-02 15:00:55,319: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA5314E3C0>>
[INFO]2021-03-02 15:00:55,353: import door.main_door
[INFO]2021-03-02 15:00:55,354: import elevator.main_elevator
[INFO]2021-03-02 15:00:55,355: import virtualDoor.main_doorCtrl
[INFO]2021-03-02 15:00:56,552: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA532C4120>>
[DEBUG]2021-03-02 15:00:56,553: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-02 15:00:56,561: utility start, pid=6996, ppid=7484
[DEBUG]2021-03-02 15:00:56,562: start timer
[INFO]2021-03-02 15:00:56,569: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-02 15:00:56,570: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53EBDDE0>>
[DEBUG]2021-03-02 15:00:56,571: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-02 15:00:56,572: AGV23 start agvList run thread
[INFO]2021-03-02 15:00:56,572: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53ED8540>>
[INFO]2021-03-02 15:00:56,572: AGV23 start agvList run2 thread
[DEBUG]2021-03-02 15:00:56,572: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-02 15:00:56,575: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 6996
[INFO]2021-03-02 15:00:56,575: add_ignore: taskStatus
[INFO]2021-03-02 15:00:56,589: AGV23 connected 192.168.20.198 19204
[INFO]2021-03-02 15:00:56,589: create lock <lock name:agv.AGV23.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53ED8570>>
[DEBUG]2021-03-02 15:00:56,589: try connect AGV23 192.168.20.198:19205
[INFO]2021-03-02 15:00:56,600: AGV23 connected 192.168.20.198 19205
[INFO]2021-03-02 15:00:56,601: create lock <lock name:agv.AGV23.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53ED85A0>>
[DEBUG]2021-03-02 15:00:56,601: try connect AGV23 192.168.20.198:19206
[INFO]2021-03-02 15:00:56,607: AGV23 connected 192.168.20.198 19206
[INFO]2021-03-02 15:00:56,607: create lock <lock name:agv.AGV23.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53ED8690>>
[DEBUG]2021-03-02 15:00:56,607: try connect AGV23 192.168.20.198:19207
[INFO]2021-03-02 15:00:56,659: AGV23 connected 192.168.20.198 19207
[INFO]2021-03-02 15:00:56,659: create lock <lock name:agv.AGV23.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53EF4300>>
[DEBUG]2021-03-02 15:00:56,660: try connect AGV23 192.168.20.198:19208
[INFO]2021-03-02 15:00:56,694: AGV23 connected 192.168.20.198 19208
[INFO]2021-03-02 15:00:56,694: create lock <lock name:agv.AGV23.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000002BA53EF4450>>
[DEBUG]2021-03-02 15:00:56,695: try connect AGV23 192.168.20.198:19210
[INFO]2021-03-02 15:00:56,700: AGV23 connected 192.168.20.198 19210
[INFO]2021-03-02 15:00:56,726: AGV23 current map AKM-FQC
[INFO]2021-03-02 15:00:56,862: AGV23 is online
[INFO]2021-03-02 15:01:00,613: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-02 15:01:01,614: magneticAGV01 try to open door 0 ['SK_DOOR', 'DDT_DOOR03'] ['SK_DOOR', 'DDT_DOOR03']
[CRITICAL]2021-03-02 15:01:01,631: magneticAGV readDIList error cause a error: list indices must be integers or slices, not str
pid=6996, ppid=7484, tid=1660
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 88, in _monitorDevices
    g_lastTask[d] = magneticAGVDoor(d,g_devicesAGV[d]["type"],g_devicesAGV[d]["relatedDoor"],g_devicesAGV[d]["virualDoor"])
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 125, in __init__
    self.relatedDoorFalg[door] = False
TypeError: list indices must be integers or slices, not str

[INFO]2021-03-02 15:01:03,991: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-02 15:01:04,071: agvThread.AGV23[tid:7872] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=7872 count=1 at 0x000002BA53ED8540>> ,hold 3075 ms
[INFO]2021-03-02 15:01:04,072: name=agvThread.AGV23, pid=6996, tid=7872
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 573, in run() 
[03] File "D:/python_lx/akm/agvCtrl/agvList.py", line 855, in readStatus1() 
[04] File "D:/python_lx/akm/agvCtrl/agvList.py", line 835, in _readStatus1() 
[05] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 777, in readStatus1() 
[06] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 195, in status() 
[07] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 254, in _handle() 
[08] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[09] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[10] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-02 15:01:04,993: magneticAGV01 try to open door 0 ['SK_DOOR', 'DDT_DOOR03'] ['SK_DOOR', 'DDT_DOOR03']
[CRITICAL]2021-03-02 15:01:05,003: magneticAGV readDIList error cause a error: list indices must be integers or slices, not str
pid=6996, ppid=7484, tid=1660
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 88, in _monitorDevices
    g_lastTask[d] = magneticAGVDoor(d,g_devicesAGV[d]["type"],g_devicesAGV[d]["relatedDoor"],g_devicesAGV[d]["virualDoor"])
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 125, in __init__
    self.relatedDoorFalg[door] = False
TypeError: list indices must be integers or slices, not str

