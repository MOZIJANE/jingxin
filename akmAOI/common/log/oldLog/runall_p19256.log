[INFO]2021-03-03 18:07:15,198: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 18:07:15,199: find module agvCtrl.main_agv
[INFO]2021-03-03 18:07:15,199: find module agvDevice.main_agvDevice
[INFO]2021-03-03 18:07:15,199: find module alarm.main_alarm
[INFO]2021-03-03 18:07:15,199: find module auth.main_auth
[INFO]2021-03-03 18:07:15,200: find module button.main_button
[INFO]2021-03-03 18:07:15,200: find module door.main_door
[INFO]2021-03-03 18:07:15,200: find module elevator.main_elevator
[INFO]2021-03-03 18:07:15,200: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:07:15,200: import agvCtrl.main_agv
[INFO]2021-03-03 18:07:15,625: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1957D630>>
[INFO]2021-03-03 18:07:15,630: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1958D810>>
[INFO]2021-03-03 18:07:15,630: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1958DA20>>
[INFO]2021-03-03 18:07:15,749: create lock <lock name:timer.lock_2470034620080,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F198A4030>>
[ERROR]2021-03-03 18:07:15,763: mqtt is disabled
[INFO]2021-03-03 18:07:15,763: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 18:07:15,763: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 18:07:18,799: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 18:07:18,865: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19B26420>>
[INFO]2021-03-03 18:07:18,866: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19B1FD20>>
[INFO]2021-03-03 18:07:18,868: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19B1F180>>
[INFO]2021-03-03 18:07:18,901: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19B6C540>>
[INFO]2021-03-03 18:07:19,213: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19B31240>>
[INFO]2021-03-03 18:07:19,537: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19C06F00>>
[INFO]2021-03-03 18:07:19,539: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19CC08D0>>
[INFO]2021-03-03 18:07:19,601: charge policy 0 , fix time
[INFO]2021-03-03 18:07:19,628: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F19CCC4E0>>
[INFO]2021-03-03 18:07:20,012: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 18:07:20,187: elevator thread start
[INFO]2021-03-03 18:07:20,205: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 201 ms
[INFO]2021-03-03 18:07:20,214: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 18:07:20,272: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 67 ms
[INFO]2021-03-03 18:07:20,280: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 18:07:20,336: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 63 ms
[INFO]2021-03-03 18:07:20,344: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 18:07:20,493: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:07:20,493: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:07:20,493: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 18:07:20,515: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 179 ms
[INFO]2021-03-03 18:07:20,524: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 18:07:20,623: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 108 ms
[INFO]2021-03-03 18:07:20,632: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 18:07:20,724: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 100 ms
[INFO]2021-03-03 18:07:20,732: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 18:07:20,777: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 53 ms
[INFO]2021-03-03 18:07:20,780: import agvDevice.main_agvDevice
[INFO]2021-03-03 18:07:20,780: import alarm.main_alarm
[INFO]2021-03-03 18:07:20,781: import auth.main_auth
[INFO]2021-03-03 18:07:20,788: import button.main_button
[INFO]2021-03-03 18:07:20,792: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1A1DFE40>>
[INFO]2021-03-03 18:07:20,819: import door.main_door
[INFO]2021-03-03 18:07:20,821: import elevator.main_elevator
[INFO]2021-03-03 18:07:20,821: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:07:21,990: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1A232900>>
[DEBUG]2021-03-03 18:07:21,991: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 18:07:21,999: utility start, pid=19256, ppid=5600
[DEBUG]2021-03-03 18:07:22,002: start timer
[INFO]2021-03-03 18:07:22,009: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 18:07:22,010: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1A80FF90>>
[DEBUG]2021-03-03 18:07:22,011: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 18:07:22,012: AGV23 start agvList run thread
[INFO]2021-03-03 18:07:22,012: AGV23 start agvList run2 thread
[INFO]2021-03-03 18:07:22,012: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000023F1A82AF00>>
[DEBUG]2021-03-03 18:07:22,013: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 18:07:22,015: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 19256
[INFO]2021-03-03 18:07:22,015: add_ignore: taskStatus
[INFO]2021-03-03 18:07:26,066: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:07:29,090: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 18:07:32,013: connect AGV23 failed timed out
[DEBUG]2021-03-03 18:07:32,014: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:07:32,102: startCharge is false
[INFO]2021-03-03 18:07:32,106: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:07:35,121: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 18:07:36,122: magneticAGV01 try to open door 0 ['SK_DOOR'] ['vitualDoor01', 'vitualDoor02']
[INFO]2021-03-03 18:07:36,128: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:07:36,129: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> controlVirualDoor
[INFO]2021-03-03 18:07:36,630: try to open virual door vitualDoor01
[DEBUG]2021-03-03 18:07:36,631: send http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 18:07:36,640: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 18:07:36,641: open vitualDoor 127.0.0.100
[DEBUG]2021-03-03 18:07:36,642: used 2ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 18:07:36,646: [return] use 14 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 18:07:36,646: try to open virual door vitualDoor02
[DEBUG]2021-03-03 18:07:36,647: send http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:07:36,662: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02 addr: 127.0.0.1
[INFO]2021-03-03 18:07:36,663: open vitualDoor 127.0.0.101
[DEBUG]2021-03-03 18:07:36,664: used 2ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:07:36,667: [return] use 19 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:07:36,668: magneticAGV01 经过门 ['SK_DOOR'] controlVirualDoor -> opendoor
[INFO]2021-03-03 18:07:37,170: try to open door SK_DOOR
[DEBUG]2021-03-03 18:07:37,170: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:07:37,176: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-03 18:07:37,177: The signal to open the door has been sent,  doorIP:192.168.252.253
[DEBUG]2021-03-03 18:07:37,200: send to door module:192.168.252.253, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-03 18:07:37,513: read from door module:192.168.252.253, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-03 18:07:37,515: used 338ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:07:37,518: [return] use 348 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:07:37,519: magneticAGV01 经过门 ['SK_DOOR'] opendoor -> leavefirst
[INFO]2021-03-03 18:07:38,132: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:07:39,114: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:07:39,115: magneticAGV01 经过门 ['SK_DOOR'] leavefirst -> waitAlway
[INFO]2021-03-03 18:07:39,619: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:07:39,620: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:07:41,140: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:07:41,624: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:07:41,624: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[ERROR]2021-03-03 18:07:42,017: connect AGV23 failed timed out
[INFO]2021-03-03 18:07:42,017: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 18:07:42,017: agvThread.AGV23[tid:2460] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=2460 count=1 at 0x0000023F1A82AF00>> ,hold 20004 ms
[INFO]2021-03-03 18:07:42,018: name=agvThread.AGV23, pid=19256, tid=2460
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
