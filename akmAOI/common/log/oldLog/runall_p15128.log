[INFO]2021-03-03 16:15:04,683: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 16:15:04,683: find module agvCtrl.main_agv
[INFO]2021-03-03 16:15:04,684: find module agvDevice.main_agvDevice
[INFO]2021-03-03 16:15:04,684: find module alarm.main_alarm
[INFO]2021-03-03 16:15:04,684: find module auth.main_auth
[INFO]2021-03-03 16:15:04,684: find module button.main_button
[INFO]2021-03-03 16:15:04,685: find module door.main_door
[INFO]2021-03-03 16:15:04,685: find module elevator.main_elevator
[INFO]2021-03-03 16:15:04,685: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 16:15:04,685: import agvCtrl.main_agv
[INFO]2021-03-03 16:15:05,066: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF656ED630>>
[INFO]2021-03-03 16:15:05,079: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF656FD810>>
[INFO]2021-03-03 16:15:05,079: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF656FDA20>>
[INFO]2021-03-03 16:15:05,199: create lock <lock name:timer.lock_1852835905200,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65A14030>>
[ERROR]2021-03-03 16:15:05,228: mqtt is disabled
[INFO]2021-03-03 16:15:05,228: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 16:15:05,228: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 16:15:08,265: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 16:15:08,334: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65C97420>>
[INFO]2021-03-03 16:15:08,335: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65C8FD20>>
[INFO]2021-03-03 16:15:08,336: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65C8F180>>
[INFO]2021-03-03 16:15:08,354: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65CDC540>>
[INFO]2021-03-03 16:15:08,643: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65CA2240>>
[INFO]2021-03-03 16:15:08,901: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65D76F00>>
[INFO]2021-03-03 16:15:08,903: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65E308D0>>
[INFO]2021-03-03 16:15:08,959: charge policy 0 , fix time
[INFO]2021-03-03 16:15:08,985: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF65E3C4E0>>
[INFO]2021-03-03 16:15:09,410: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 16:15:09,565: elevator thread start
[INFO]2021-03-03 16:15:09,583: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 181 ms
[INFO]2021-03-03 16:15:09,591: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 16:15:09,654: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 71 ms
[INFO]2021-03-03 16:15:09,662: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 16:15:09,724: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 70 ms
[INFO]2021-03-03 16:15:09,731: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 16:15:09,867: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 16:15:09,867: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 16:15:09,867: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 16:15:09,887: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 163 ms
[INFO]2021-03-03 16:15:09,900: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 16:15:09,999: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 112 ms
[INFO]2021-03-03 16:15:10,008: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 16:15:10,107: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 107 ms
[INFO]2021-03-03 16:15:10,115: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 16:15:10,155: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 48 ms
[INFO]2021-03-03 16:15:10,158: import agvDevice.main_agvDevice
[INFO]2021-03-03 16:15:10,158: import alarm.main_alarm
[INFO]2021-03-03 16:15:10,158: import auth.main_auth
[INFO]2021-03-03 16:15:10,166: import button.main_button
[INFO]2021-03-03 16:15:10,171: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF66350E10>>
[INFO]2021-03-03 16:15:10,201: import door.main_door
[INFO]2021-03-03 16:15:10,202: import elevator.main_elevator
[INFO]2021-03-03 16:15:10,202: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 16:15:11,412: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF6639A930>>
[DEBUG]2021-03-03 16:15:11,413: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 16:15:11,421: utility start, pid=15128, ppid=9224
[DEBUG]2021-03-03 16:15:11,424: start timer
[INFO]2021-03-03 16:15:11,431: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 16:15:11,431: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF66CBAF60>>
[DEBUG]2021-03-03 16:15:11,433: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 16:15:11,433: AGV23 start agvList run thread
[INFO]2021-03-03 16:15:11,433: AGV23 start agvList run2 thread
[INFO]2021-03-03 16:15:11,433: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001AF66CD6E40>>
[DEBUG]2021-03-03 16:15:11,434: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 16:15:11,436: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 15128
[INFO]2021-03-03 16:15:11,436: add_ignore: taskStatus
[INFO]2021-03-03 16:15:15,490: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 16:15:18,498: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 16:15:21,435: connect AGV23 failed timed out
[DEBUG]2021-03-03 16:15:21,436: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 16:15:21,502: startCharge is false
[INFO]2021-03-03 16:15:21,507: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 16:15:22,509: magneticAGV01 try to open door 0 ['SK_DOOR'] ['vitualDoor01', 'vitualDoor02']
[INFO]2021-03-03 16:15:22,516: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 16:15:22,517: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> controlVirualDoor
[CRITICAL]2021-03-03 16:15:23,042: taskFunc2:magneticAGV01 经过门 ['SK_DOOR'] cause a error: 'vitualDoor01'
pid=15128, ppid=9224, tid=11108
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 159, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 190, in handle
    if not self.virualDoorFalg[door]:
KeyError: 'vitualDoor01'

[INFO]2021-03-03 16:15:23,043: task: stop magneticAGV01 经过门 ['SK_DOOR']
[INFO]2021-03-03 16:15:24,527: magneticAGV01 (0, 0, 0, 0)
