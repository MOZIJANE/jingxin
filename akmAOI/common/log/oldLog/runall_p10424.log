[INFO]2021-03-02 16:30:36,374: log files at D:\python_lx\akm\common\log
[INFO]2021-03-02 16:30:36,375: find module agvCtrl.main_agv
[INFO]2021-03-02 16:30:36,381: find module agvDevice.main_agvDevice
[INFO]2021-03-02 16:30:36,382: find module alarm.main_alarm
[INFO]2021-03-02 16:30:36,383: find module auth.main_auth
[INFO]2021-03-02 16:30:36,384: find module button.main_button
[INFO]2021-03-02 16:30:36,385: find module door.main_door
[INFO]2021-03-02 16:30:36,386: find module elevator.main_elevator
[INFO]2021-03-02 16:30:36,387: find module virtualDoor.main_doorCtrl
[INFO]2021-03-02 16:30:36,387: import agvCtrl.main_agv
[INFO]2021-03-02 16:30:37,722: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF7FDC690>>
[INFO]2021-03-02 16:30:37,729: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF7FDCED0>>
[INFO]2021-03-02 16:30:37,991: create lock <lock name:timer.lock_2521014888576,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF83269C0>>
[ERROR]2021-03-02 16:30:38,027: mqtt is disabled
[INFO]2021-03-02 16:30:38,027: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-02 16:30:38,028: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-02 16:30:41,115: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-02 16:30:41,172: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF85AFDB0>>
[INFO]2021-03-02 16:30:41,173: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF85AF6F0>>
[INFO]2021-03-02 16:30:41,176: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF85A3B10>>
[INFO]2021-03-02 16:30:41,206: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF85F0ED0>>
[INFO]2021-03-02 16:30:42,253: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF85B5BD0>>
[INFO]2021-03-02 16:30:43,171: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF869C8D0>>
[INFO]2021-03-02 16:30:43,179: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF874F2A0>>
[INFO]2021-03-02 16:30:43,355: charge policy 0 , fix time
[INFO]2021-03-02 16:30:43,454: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF874FE70>>
[INFO]2021-03-02 16:30:44,595: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-02 16:30:45,039: elevator thread start
[INFO]2021-03-02 16:30:45,088: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 519 ms
[INFO]2021-03-02 16:30:45,112: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-02 16:30:45,275: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 186 ms
[INFO]2021-03-02 16:30:45,299: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-02 16:30:45,465: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 190 ms
[INFO]2021-03-02 16:30:45,489: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-02 16:30:45,867: create aliveObj SK_DOOR 门控离线异常 timeout 60
[INFO]2021-03-02 16:30:45,920: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 455 ms
[INFO]2021-03-02 16:30:45,946: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-02 16:30:46,227: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 305 ms
[INFO]2021-03-02 16:30:46,251: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-02 16:30:46,457: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 229 ms
[INFO]2021-03-02 16:30:46,482: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-02 16:30:46,583: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 125 ms
[WARN]2021-03-02 16:30:46,583: MainThread[tid:16632] <lock name:mapMgr.lock,<locked _thread.RLock object owner=16632 count=1 at 0x0000024AF85B5BD0>> ,hold 3129 ms
[INFO]2021-03-02 16:30:46,584: name=MainThread, pid=10424, tid=16632
[01] File "D:/python_lx/akm/common/run_all.py", line 57, in <module>() 
[02] File "D:/python_lx/akm/common/run_all.py", line 39, in findModule() 
[03] File "<frozen importlib._bootstrap>", line 991, in _find_and_load() 
[04] File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked() 
[05] File "<frozen importlib._bootstrap>", line 671, in _load_unlocked() 
[06] File "<frozen importlib._bootstrap_external>", line 783, in exec_module() 
[07] File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed() 
[08] File "D:/python_lx/akm/agvCtrl/main_agv.py", line 22, in <module>() 
[09] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[10] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[11] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[12] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-02 16:30:46,591: import agvDevice.main_agvDevice
[INFO]2021-03-02 16:30:46,592: import alarm.main_alarm
[INFO]2021-03-02 16:30:46,593: import auth.main_auth
[INFO]2021-03-02 16:30:46,616: import button.main_button
[INFO]2021-03-02 16:30:46,627: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF8C34480>>
[INFO]2021-03-02 16:30:46,739: import door.main_door
[INFO]2021-03-02 16:30:46,746: import elevator.main_elevator
[INFO]2021-03-02 16:30:46,747: import virtualDoor.main_doorCtrl
[INFO]2021-03-02 16:30:50,616: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024AF8C76F30>>
[DEBUG]2021-03-02 16:30:50,618: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-02 16:30:50,634: utility start, pid=10424, ppid=17824
[DEBUG]2021-03-02 16:30:50,635: start timer
[INFO]2021-03-02 16:30:50,657: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[WARN]2021-03-02 16:30:50,658: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 10424
[INFO]2021-03-02 16:30:50,659: add_ignore: taskStatus
[INFO]2021-03-02 16:30:53,649: startCharge is false
[INFO]2021-03-02 16:30:55,765: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:30:58,788: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:01,808: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:04,821: startCharge is false
[INFO]2021-03-02 16:31:04,830: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:07,843: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-02 16:31:08,846: magneticAGV01 try to open door 0 ['SK_DOOR'] ['SK_DOOR']
[INFO]2021-03-02 16:31:08,857: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:08,858: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> opendoor
[INFO]2021-03-02 16:31:09,359: try to open door SK_DOOR
[DEBUG]2021-03-02 16:31:09,360: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-02 16:31:09,370: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-02 16:31:09,372: The signal to open the door has been sent,  doorIP:192.168.20.163
[DEBUG]2021-03-02 16:31:09,380: send to door module:192.168.20.163, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-02 16:31:09,691: read from door module:192.168.20.163, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-02 16:31:09,692: used 322ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-02 16:31:09,696: [return] use 336 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[WARN]2021-03-02 16:31:09,697: magneticAGV01 经过门 ['SK_DOOR'] opendoor error
[INFO]2021-03-02 16:31:10,866: magneticAGV01 (1, 0, 0, 0)
[DEBUG]2021-03-02 16:31:11,700: magneticAGV01 经过门 ['SK_DOOR'] opendoor -> leavefirst
[INFO]2021-03-02 16:31:13,480: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:13,482: magneticAGV01 经过门 ['SK_DOOR'] leavefirst -> waitAlway
[INFO]2021-03-02 16:31:13,886: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:13,992: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[DEBUG]2021-03-02 16:31:13,993: magneticAGV01 经过门 ['SK_DOOR'] waitAlway -> clearfirst
[INFO]2021-03-02 16:31:15,618: task: [magneticAGV01] readDo status  (0, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:15,619: magneticAGV01 经过门 ['SK_DOOR'] clearfirst -> checkfinishSignal
[INFO]2021-03-02 16:31:16,142: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:16,143: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:16,895: startCharge is false
[INFO]2021-03-02 16:31:16,904: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:18,151: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:18,152: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:19,915: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:20,162: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:20,162: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:22,172: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:22,173: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:22,935: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:24,182: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:24,183: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:25,954: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:26,192: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:26,192: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:28,202: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:28,203: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:28,964: startCharge is false
[INFO]2021-03-02 16:31:28,978: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:30,216: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:30,217: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:34,394: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:34,405: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[WARN]2021-03-02 16:31:34,405: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-02 16:31:36,415: task [magneticAGV01] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:36,416: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal -> leavesecond
[INFO]2021-03-02 16:31:37,413: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:37,980: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:37,981: magneticAGV01 经过门 ['SK_DOOR'] leavesecond -> waitAlwaysecond
[INFO]2021-03-02 16:31:38,491: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[DEBUG]2021-03-02 16:31:38,491: magneticAGV01 经过门 ['SK_DOOR'] waitAlwaysecond -> clearIO
[INFO]2021-03-02 16:31:40,089: task: [magneticAGV01] readDo status  (0, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:40,091: magneticAGV01 经过门 ['SK_DOOR'] clearIO -> closeDoor
[INFO]2021-03-02 16:31:40,415: startCharge is false
[INFO]2021-03-02 16:31:40,514: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:40,592: try to close door SK_DOOR
[DEBUG]2021-03-02 16:31:40,593: send http_get: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR
[DEBUG]2021-03-02 16:31:40,597: GET: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-02 16:31:40,598: The signal to close the door has been sent,  doorIP:192.168.20.163
[DEBUG]2021-03-02 16:31:40,621: send to door module:192.168.20.163, values:outbuf[16] 55 00 00 00 00 AA 03 06 90 00 00 00 00 00 98 16
[DEBUG]2021-03-02 16:31:40,925: read from door module:192.168.20.163, values:inbuf[13] 55 00 00 00 00 AA 83 03 90 00 00 15 16
[DEBUG]2021-03-02 16:31:40,926: used 329ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR
[DEBUG]2021-03-02 16:31:40,929: [return] use 336 ms,http_get: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR
[WARN]2021-03-02 16:31:40,930: magneticAGV01 经过门 ['SK_DOOR'] closeDoor error
[DEBUG]2021-03-02 16:31:42,932: magneticAGV01 经过门 ['SK_DOOR'] closeDoor -> finish
[INFO]2021-03-02 16:31:43,433: task: stop
[INFO]2021-03-02 16:31:43,434: task: stop magneticAGV01 经过门 ['SK_DOOR']
[INFO]2021-03-02 16:31:43,535: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:46,656: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-02 16:31:49,684: magneticAGV01 (0, 1, 0, 0)
[INFO]2021-03-02 16:31:50,686: magneticAGV01 try to open door 0 ['SK_DOOR'] ['SK_DOOR']
[INFO]2021-03-02 16:31:50,696: task [magneticAGV01] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:50,697: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> opendoor
[INFO]2021-03-02 16:31:51,198: try to open door SK_DOOR
[DEBUG]2021-03-02 16:31:51,198: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-02 16:31:51,202: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-02 16:31:51,202: The signal to open the door has been sent,  doorIP:192.168.20.163
[DEBUG]2021-03-02 16:31:51,210: send to door module:192.168.20.163, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-02 16:31:51,573: read from door module:192.168.20.163, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-02 16:31:51,574: used 373ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-02 16:31:51,578: [return] use 380 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[WARN]2021-03-02 16:31:51,579: magneticAGV01 经过门 ['SK_DOOR'] opendoor error
[INFO]2021-03-02 16:31:52,689: startCharge is false
[INFO]2021-03-02 16:31:52,703: magneticAGV01 (0, 1, 0, 0)
[DEBUG]2021-03-02 16:31:53,581: magneticAGV01 经过门 ['SK_DOOR'] opendoor -> leavefirst
[INFO]2021-03-02 16:31:55,262: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-02 16:31:55,263: magneticAGV01 经过门 ['SK_DOOR'] leavefirst -> waitAlway
[INFO]2021-03-02 16:31:55,722: magneticAGV01 (0, 1, 0, 0)
[INFO]2021-03-02 16:31:55,774: task [magneticAGV01] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-02 16:31:55,774: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-02 16:31:57,787: task [magneticAGV01] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-02 16:31:57,788: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-02 16:31:58,736: magneticAGV01 (0, 1, 0, 0)
[INFO]2021-03-02 16:31:59,801: task [magneticAGV01] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-02 16:31:59,806: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-02 16:32:01,770: magneticAGV01 (0, 1, 0, 0)
[INFO]2021-03-02 16:32:01,816: task [magneticAGV01] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-02 16:32:01,818: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
