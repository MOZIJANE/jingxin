[INFO]2021-02-26 17:04:16,958: log files at D:\python_lx\akm\common\log
[INFO]2021-02-26 17:04:16,959: find module agvCtrl.main_agv
[INFO]2021-02-26 17:04:16,959: find module agvDevice.main_agvDevice
[INFO]2021-02-26 17:04:16,960: find module alarm.main_alarm
[INFO]2021-02-26 17:04:16,960: find module auth.main_auth
[INFO]2021-02-26 17:04:16,960: find module button.main_button
[INFO]2021-02-26 17:04:16,960: find module door.main_door
[INFO]2021-02-26 17:04:16,961: find module elevator.main_elevator
[INFO]2021-02-26 17:04:16,961: find module virtualDoor.main_doorCtrl
[INFO]2021-02-26 17:04:16,961: import agvCtrl.main_agv
[INFO]2021-02-26 17:04:17,370: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4372CC690>>
[INFO]2021-02-26 17:04:17,374: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4372CCED0>>
[INFO]2021-02-26 17:04:17,455: create lock <lock name:timer.lock_2010973825200,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4376169F0>>
[ERROR]2021-02-26 17:04:17,465: mqtt is disabled
[INFO]2021-02-26 17:04:17,465: mqtt: subscribe [alarm/raise/+]
[INFO]2021-02-26 17:04:17,465: mqtt: subscribe [alarm/clear/+]
[INFO]2021-02-26 17:04:20,490: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-02-26 17:04:20,516: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4378A0DE0>>
[INFO]2021-02-26 17:04:20,516: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4378A0720>>
[INFO]2021-02-26 17:04:20,516: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D437893B40>>
[INFO]2021-02-26 17:04:20,526: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4378E1F00>>
[INFO]2021-02-26 17:04:20,788: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D4378A5C00>>
[INFO]2021-02-26 17:04:21,050: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D43798C900>>
[INFO]2021-02-26 17:04:21,052: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D437A412D0>>
[INFO]2021-02-26 17:04:21,108: charge policy 0 , fix time
[INFO]2021-02-26 17:04:21,135: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D437A41EA0>>
[INFO]2021-02-26 17:04:21,544: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-02-26 17:04:21,710: elevator thread start
[INFO]2021-02-26 17:04:21,727: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 191 ms
[INFO]2021-02-26 17:04:21,735: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-02-26 17:04:21,798: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 71 ms
[INFO]2021-02-26 17:04:21,807: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-02-26 17:04:21,879: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 81 ms
[INFO]2021-02-26 17:04:21,886: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-02-26 17:04:22,053: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 174 ms
[INFO]2021-02-26 17:04:22,062: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-02-26 17:04:22,149: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 96 ms
[INFO]2021-02-26 17:04:22,157: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-02-26 17:04:22,225: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 76 ms
[INFO]2021-02-26 17:04:22,232: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-02-26 17:04:22,273: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 47 ms
[INFO]2021-02-26 17:04:22,276: import agvDevice.main_agvDevice
[INFO]2021-02-26 17:04:22,276: import alarm.main_alarm
[INFO]2021-02-26 17:04:22,276: import auth.main_auth
[INFO]2021-02-26 17:04:22,284: import button.main_button
[INFO]2021-02-26 17:04:22,288: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D437F55DB0>>
[INFO]2021-02-26 17:04:22,320: import door.main_door
[INFO]2021-02-26 17:04:22,322: import elevator.main_elevator
[INFO]2021-02-26 17:04:22,322: import virtualDoor.main_doorCtrl
[INFO]2021-02-26 17:04:23,521: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D437FAD8A0>>
[SUCC]2021-02-26 17:04:23,528: utility start, pid=2456, ppid=1404
[DEBUG]2021-02-26 17:04:23,529: start timer
[DEBUG]2021-02-26 17:04:23,529: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[INFO]2021-02-26 17:04:23,537: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-02-26 17:04:23,538: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D43A5C2BA0>>
[DEBUG]2021-02-26 17:04:23,539: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-02-26 17:04:23,540: AGV23 start agvList run thread
[INFO]2021-02-26 17:04:23,540: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001D43A5CBB40>>
[DEBUG]2021-02-26 17:04:23,540: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-26 17:04:23,540: AGV23 start agvList run2 thread
[WARN]2021-02-26 17:04:23,543: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 2456
[INFO]2021-02-26 17:04:23,543: add_ignore: taskStatus
[INFO]2021-02-26 17:04:27,579: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 17:04:30,594: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-02-26 17:04:33,541: connect AGV23 failed timed out
[DEBUG]2021-02-26 17:04:33,541: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-26 17:04:33,609: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-02-26 17:04:34,610: magneticAGV01 try to open door
[INFO]2021-02-26 17:04:34,622: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-02-26 17:04:34,622: 经过门['DOOR100', 'DOOR101'] checkBeginSignal -> opendoor
[INFO]2021-02-26 17:04:35,133: try to open door
[WARN]2021-02-26 17:04:35,133: 经过门['DOOR100', 'DOOR101'] leave error
[CRITICAL]2021-02-26 17:04:35,621: invoke timer func<function _monitorDevices at 0x000001D437FACC10> cause a error: 'str' object has no attribute 'running'
pid=2456, ppid=1404, tid=15320
Traceback (most recent call last):
  File "D:\python_lx\akm\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 100, in _monitorDevices
    if task.running == False:
AttributeError: 'str' object has no attribute 'running'

[INFO]2021-02-26 17:04:36,645: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-02-26 17:04:38,237: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[CRITICAL]2021-02-26 17:04:38,662: invoke timer func<function _monitorDevices at 0x000001D437FACC10> cause a error: 'str' object has no attribute 'running'
pid=2456, ppid=1404, tid=15320
Traceback (most recent call last):
  File "D:\python_lx\akm\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 100, in _monitorDevices
    if task.running == False:
AttributeError: 'str' object has no attribute 'running'

[INFO]2021-02-26 17:04:39,684: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 17:04:39,803: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[INFO]2021-02-26 17:04:41,391: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[CRITICAL]2021-02-26 17:04:41,692: invoke timer func<function _monitorDevices at 0x000001D437FACC10> cause a error: 'str' object has no attribute 'running'
pid=2456, ppid=1404, tid=15320
Traceback (most recent call last):
  File "D:\python_lx\akm\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 100, in _monitorDevices
    if task.running == False:
AttributeError: 'str' object has no attribute 'running'

[INFO]2021-02-26 17:04:42,719: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 17:04:42,932: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[ERROR]2021-02-26 17:04:43,543: connect AGV23 failed timed out
[INFO]2021-02-26 17:04:43,543: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-02-26 17:04:43,544: agvThread.AGV23[tid:21512] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=21512 count=1 at 0x000001D43A5CBB40>> ,hold 20004 ms
[INFO]2021-02-26 17:04:43,545: name=agvThread.AGV23, pid=2456, tid=21512
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
