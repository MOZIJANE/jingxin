[INFO]2021-03-04 14:11:55,169: log files at D:\python_lx\akm\common\log
[INFO]2021-03-04 14:11:55,169: find module agvCtrl.main_agv
[INFO]2021-03-04 14:11:55,170: find module agvDevice.main_agvDevice
[INFO]2021-03-04 14:11:55,170: find module alarm.main_alarm
[INFO]2021-03-04 14:11:55,170: find module auth.main_auth
[INFO]2021-03-04 14:11:55,170: find module button.main_button
[INFO]2021-03-04 14:11:55,171: find module door.main_door
[INFO]2021-03-04 14:11:55,171: find module elevator.main_elevator
[INFO]2021-03-04 14:11:55,171: find module virtualDoor.main_doorCtrl
[INFO]2021-03-04 14:11:55,171: import agvCtrl.main_agv
[INFO]2021-03-04 14:11:55,615: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DD79D660>>
[INFO]2021-03-04 14:11:55,626: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DD7AD840>>
[INFO]2021-03-04 14:11:55,626: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DD7ADB10>>
[INFO]2021-03-04 14:11:55,762: create lock <lock name:timer.lock_2271461789808,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDAC51E0>>
[ERROR]2021-03-04 14:11:55,775: mqtt is disabled
[INFO]2021-03-04 14:11:55,776: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-04 14:11:55,776: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-04 14:11:58,817: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-04 14:11:58,878: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDD475D0>>
[INFO]2021-03-04 14:11:58,880: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDD3EED0>>
[INFO]2021-03-04 14:11:58,881: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDD3E330>>
[INFO]2021-03-04 14:11:58,916: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDD9B6F0>>
[INFO]2021-03-04 14:11:59,926: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDD613F0>>
[INFO]2021-03-04 14:12:00,439: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDE420F0>>
[INFO]2021-03-04 14:12:00,445: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDEEFA80>>
[INFO]2021-03-04 14:12:00,621: charge policy 0 , fix time
[INFO]2021-03-04 14:12:00,719: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DDEFB690>>
[INFO]2021-03-04 14:12:01,378: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-04 14:12:01,588: elevator thread start
[INFO]2021-03-04 14:12:01,607: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 236 ms
[INFO]2021-03-04 14:12:01,618: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-04 14:12:01,743: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 136 ms
[INFO]2021-03-04 14:12:01,755: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-04 14:12:01,828: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 85 ms
[INFO]2021-03-04 14:12:01,847: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-04 14:12:02,227: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-04 14:12:02,227: create aliveObj DDT_DOOR03 门控离线异常 timeout 60
[DEBUG]2021-03-04 14:12:02,227: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-04 14:12:02,227: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-04 14:12:02,245: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 417 ms
[INFO]2021-03-04 14:12:02,258: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-04 14:12:02,448: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 202 ms
[INFO]2021-03-04 14:12:02,455: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-04 14:12:02,530: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 82 ms
[INFO]2021-03-04 14:12:02,540: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-04 14:12:02,579: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 48 ms
[INFO]2021-03-04 14:12:02,582: import agvDevice.main_agvDevice
[INFO]2021-03-04 14:12:02,582: import alarm.main_alarm
[INFO]2021-03-04 14:12:02,582: import auth.main_auth
[INFO]2021-03-04 14:12:02,591: import button.main_button
[INFO]2021-03-04 14:12:02,594: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DE3DB1B0>>
[INFO]2021-03-04 14:12:02,628: import door.main_door
[INFO]2021-03-04 14:12:02,629: import elevator.main_elevator
[INFO]2021-03-04 14:12:02,630: import virtualDoor.main_doorCtrl
[INFO]2021-03-04 14:12:05,146: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DE41BE10>>
[DEBUG]2021-03-04 14:12:05,148: create aliveObj magneticAGV01 磁导车掉线异常 timeout 120
[INFO]2021-03-04 14:12:05,149: create lock <lock name:magneticAGVlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000210DE41B7B0>>
[SUCC]2021-03-04 14:12:05,155: utility start, pid=10676, ppid=13448
[DEBUG]2021-03-04 14:12:05,157: start timer
[INFO]2021-03-04 14:12:05,165: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[WARN]2021-03-04 14:12:05,166: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 10676
[INFO]2021-03-04 14:12:05,166: add_ignore: taskStatus
[INFO]2021-03-04 14:12:09,241: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:12,252: startCharge is false
[INFO]2021-03-04 14:12:12,263: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:15,275: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:17,287: magneticAGV is alarm: []
[INFO]2021-03-04 14:12:18,375: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:21,387: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:24,402: startCharge is false
[INFO]2021-03-04 14:12:24,412: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:27,424: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-04 14:12:29,438: magneticAGV is alarm: []
[INFO]2021-03-04 14:12:30,466: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-04 14:12:31,469: magneticAGV01 try to open door 0 ['SK_DOOR', 'DDT_DOOR03'] []
[INFO]2021-03-04 14:12:31,485: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 14:12:31,486: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] checkBeginSignal -> checkVirualDoorIsLock
[DEBUG]2021-03-04 14:12:31,988: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] checkVirualDoorIsLock -> controlVirualDoor
[DEBUG]2021-03-04 14:12:32,490: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] controlVirualDoor -> opendoor
[INFO]2021-03-04 14:12:32,992: try to open door SK_DOOR
[DEBUG]2021-03-04 14:12:32,992: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-04 14:12:33,011: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-04 14:12:33,013: The signal to open the door has been sent,  doorIP:192.168.20.163
[DEBUG]2021-03-04 14:12:33,021: send to door module:192.168.20.163, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-04 14:12:33,324: read from door module:192.168.20.163, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 81 00 86 16
[DEBUG]2021-03-04 14:12:33,326: used 315ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-04 14:12:33,331: [return] use 339 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[WARN]2021-03-04 14:12:33,333: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:33,530: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:35,335: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:36,543: startCharge is false
[INFO]2021-03-04 14:12:36,558: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:37,336: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:12:39,338: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:39,572: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:41,340: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:41,583: magneticAGV is alarm: []
[INFO]2021-03-04 14:12:42,614: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:43,342: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:12:45,345: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:45,624: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:47,346: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:48,634: startCharge is false
[INFO]2021-03-04 14:12:48,645: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:49,348: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:12:51,350: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:51,658: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:53,352: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:53,671: magneticAGV is alarm: []
[INFO]2021-03-04 14:12:54,690: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:55,354: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:12:57,356: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:12:57,700: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:12:59,358: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:00,711: startCharge is false
[INFO]2021-03-04 14:13:00,723: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:01,360: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:03,362: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:03,735: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:05,364: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:05,759: magneticAGV is alarm: []
[WARN]2021-03-04 14:13:07,366: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:09,368: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:09,817: timer_thread[tid:11084] <locked _thread.RLock object owner=11084 count=1 at 0x00000210DE914E40> ,hold 3038 ms
[INFO]2021-03-04 14:13:09,823: name=timer_thread, pid=10676, tid=11084
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 90, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-04 14:13:09,823: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:11,370: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:12,838: startCharge is false
[INFO]2021-03-04 14:13:12,848: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:13,371: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:15,374: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:15,861: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:17,376: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:17,871: magneticAGV is alarm: []
[INFO]2021-03-04 14:13:18,896: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:19,378: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:21,380: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:21,908: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:23,382: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:24,919: startCharge is false
[INFO]2021-03-04 14:13:24,932: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:25,383: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:27,385: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:27,944: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:29,387: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:29,956: magneticAGV is alarm: []
[INFO]2021-03-04 14:13:30,983: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:31,389: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:33,390: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:33,997: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:35,392: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:37,013: startCharge is false
[INFO]2021-03-04 14:13:37,025: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:37,393: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[WARN]2021-03-04 14:13:39,395: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:40,038: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:41,397: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:13:42,053: magneticAGV is alarm: []
[INFO]2021-03-04 14:13:43,081: magneticAGV01 (1, 0, 0, 0)
[WARN]2021-03-04 14:13:43,398: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
