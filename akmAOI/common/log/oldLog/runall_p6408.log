[INFO]2021-03-04 15:18:58,737: log files at D:\python_lx\akm\common\log
[INFO]2021-03-04 15:18:58,737: find module agvCtrl.main_agv
[INFO]2021-03-04 15:18:58,737: find module agvDevice.main_agvDevice
[INFO]2021-03-04 15:18:58,738: find module alarm.main_alarm
[INFO]2021-03-04 15:18:58,738: find module auth.main_auth
[INFO]2021-03-04 15:18:58,738: find module button.main_button
[INFO]2021-03-04 15:18:58,738: find module door.main_door
[INFO]2021-03-04 15:18:58,739: find module elevator.main_elevator
[INFO]2021-03-04 15:18:58,739: find module virtualDoor.main_doorCtrl
[INFO]2021-03-04 15:18:58,739: import agvCtrl.main_agv
[INFO]2021-03-04 15:18:59,284: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287004D660>>
[INFO]2021-03-04 15:18:59,297: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287005D840>>
[INFO]2021-03-04 15:18:59,297: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287005DB10>>
[INFO]2021-03-04 15:18:59,443: create lock <lock name:timer.lock_2372704616560,<unlocked _thread.RLock object owner=0 count=0 at 0x00000228703741B0>>
[ERROR]2021-03-04 15:18:59,454: mqtt is disabled
[INFO]2021-03-04 15:18:59,454: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-04 15:18:59,454: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-04 15:19:02,507: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-04 15:19:02,572: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000228705F65A0>>
[INFO]2021-03-04 15:19:02,573: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000228705EFEA0>>
[INFO]2021-03-04 15:19:02,574: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000228705EF300>>
[INFO]2021-03-04 15:19:02,609: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287063A6C0>>
[INFO]2021-03-04 15:19:02,983: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000228706013C0>>
[INFO]2021-03-04 15:19:03,537: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000228706E20C0>>
[INFO]2021-03-04 15:19:03,540: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287078FA50>>
[INFO]2021-03-04 15:19:03,603: charge policy 0 , fix time
[INFO]2021-03-04 15:19:03,630: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287079B660>>
[INFO]2021-03-04 15:19:04,271: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-04 15:19:04,696: elevator thread start
[INFO]2021-03-04 15:19:04,719: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 487 ms
[INFO]2021-03-04 15:19:04,743: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-04 15:19:04,883: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 164 ms
[INFO]2021-03-04 15:19:04,898: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-04 15:19:05,105: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 221 ms
[INFO]2021-03-04 15:19:05,146: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-03-04 15:19:05,526: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 421 ms
[INFO]2021-03-04 15:19:05,546: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-04 15:19:05,638: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 111 ms
[INFO]2021-03-04 15:19:05,646: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[DEBUG]2021-03-04 15:19:05,699: create aliveObj ZP_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:19:05,699: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:19:05,699: create aliveObj vitualDoor02 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:19:05,699: create aliveObj vitualDoor03 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:19:05,699: create aliveObj vitualDoor04 门控离线异常 timeout 60
[INFO]2021-03-04 15:19:05,720: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 81 ms
[INFO]2021-03-04 15:19:05,729: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-04 15:19:05,771: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 51 ms
[INFO]2021-03-04 15:19:05,776: import agvDevice.main_agvDevice
[INFO]2021-03-04 15:19:05,776: import alarm.main_alarm
[INFO]2021-03-04 15:19:05,776: import auth.main_auth
[INFO]2021-03-04 15:19:05,784: import button.main_button
[INFO]2021-03-04 15:19:05,788: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022870CBC0F0>>
[INFO]2021-03-04 15:19:05,825: import door.main_door
[INFO]2021-03-04 15:19:05,828: import elevator.main_elevator
[INFO]2021-03-04 15:19:05,829: import virtualDoor.main_doorCtrl
[INFO]2021-03-04 15:19:08,715: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022870D03F60>>
[DEBUG]2021-03-04 15:19:08,716: create aliveObj magneticAGV02 磁导车掉线异常 timeout 120
[INFO]2021-03-04 15:19:08,717: create lock <lock name:magneticAGVlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022870D03900>>
[SUCC]2021-03-04 15:19:08,723: utility start, pid=6408, ppid=15696
[DEBUG]2021-03-04 15:19:08,725: start timer
[INFO]2021-03-04 15:19:08,743: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-04 15:19:08,744: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022878822ED0>>
[DEBUG]2021-03-04 15:19:08,749: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-04 15:19:08,750: AGV06 start agvList run thread
[INFO]2021-03-04 15:19:08,751: AGV06 start agvList run2 thread
[INFO]2021-03-04 15:19:08,752: create lock <lock name:agv.AGV06.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287883D870>>
[DEBUG]2021-03-04 15:19:08,753: try connect AGV06 192.168.20.201:19204
[WARN]2021-03-04 15:19:08,770: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 6408
[INFO]2021-03-04 15:19:08,772: AGV06 connected 192.168.20.201 19204
[INFO]2021-03-04 15:19:08,772: add_ignore: taskStatus
[INFO]2021-03-04 15:19:08,773: create lock <lock name:agv.AGV06.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022878822E70>>
[DEBUG]2021-03-04 15:19:08,775: try connect AGV06 192.168.20.201:19205
[INFO]2021-03-04 15:19:08,781: AGV06 connected 192.168.20.201 19205
[INFO]2021-03-04 15:19:08,782: create lock <lock name:agv.AGV06.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000022870C473F0>>
[DEBUG]2021-03-04 15:19:08,783: try connect AGV06 192.168.20.201:19206
[INFO]2021-03-04 15:19:08,790: AGV06 connected 192.168.20.201 19206
[INFO]2021-03-04 15:19:08,791: create lock <lock name:agv.AGV06.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287883D840>>
[DEBUG]2021-03-04 15:19:08,792: try connect AGV06 192.168.20.201:19207
[INFO]2021-03-04 15:19:08,797: AGV06 connected 192.168.20.201 19207
[INFO]2021-03-04 15:19:08,799: create lock <lock name:agv.AGV06.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287883D810>>
[DEBUG]2021-03-04 15:19:08,801: try connect AGV06 192.168.20.201:19208
[INFO]2021-03-04 15:19:08,806: AGV06 connected 192.168.20.201 19208
[INFO]2021-03-04 15:19:08,807: create lock <lock name:agv.AGV06.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x000002287883DC90>>
[DEBUG]2021-03-04 15:19:08,809: try connect AGV06 192.168.20.201:19210
[INFO]2021-03-04 15:19:08,817: AGV06 connected 192.168.20.201 19210
[INFO]2021-03-04 15:19:08,838: AGV06 current map AKM-ZP
[INFO]2021-03-04 15:19:08,898: AGV06 is online
[INFO]2021-03-04 15:19:12,815: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:19:13,817: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:19:13,828: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:19:13,829: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:19:14,351: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=6408, ppid=15696, tid=9676
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 188, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 221, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:19:14,353: task: stop magneticAGV02 经过门 ['ZP_DOOR']
[INFO]2021-03-04 15:19:15,833: startCharge is false
[INFO]2021-03-04 15:19:15,845: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:19:16,848: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:19:16,863: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:19:16,863: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:19:17,388: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=6408, ppid=15696, tid=13692
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 188, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 221, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:19:17,400: task: stop magneticAGV02 经过门 ['ZP_DOOR']
[INFO]2021-03-04 15:19:18,860: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:19:19,861: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:19:19,873: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:19:19,874: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:19:20,401: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=6408, ppid=15696, tid=20248
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 188, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 221, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:19:20,403: task: stop magneticAGV02 经过门 ['ZP_DOOR']
[INFO]2021-03-04 15:19:20,870: magneticAGV is alarm: []
