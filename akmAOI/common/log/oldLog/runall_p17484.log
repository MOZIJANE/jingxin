[INFO]2021-03-03 14:56:59,471: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 14:56:59,472: find module agvCtrl.main_agv
[INFO]2021-03-03 14:56:59,472: find module agvDevice.main_agvDevice
[INFO]2021-03-03 14:56:59,473: find module alarm.main_alarm
[INFO]2021-03-03 14:56:59,473: find module auth.main_auth
[INFO]2021-03-03 14:56:59,473: find module button.main_button
[INFO]2021-03-03 14:56:59,473: find module door.main_door
[INFO]2021-03-03 14:56:59,473: find module elevator.main_elevator
[INFO]2021-03-03 14:56:59,474: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 14:56:59,474: import agvCtrl.main_agv
[INFO]2021-03-03 14:56:59,910: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDAFCD630>>
[INFO]2021-03-03 14:56:59,918: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDAFDE750>>
[INFO]2021-03-03 14:56:59,918: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDAFDEC00>>
[INFO]2021-03-03 14:56:59,996: create lock <lock name:timer.lock_2675146964848,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB3020F0>>
[ERROR]2021-03-03 14:57:00,009: mqtt is disabled
[INFO]2021-03-03 14:57:00,009: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 14:57:00,010: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 14:57:14,607: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 14:57:14,667: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB58A4E0>>
[INFO]2021-03-03 14:57:14,667: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB584DE0>>
[INFO]2021-03-03 14:57:14,668: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB584330>>
[INFO]2021-03-03 14:57:14,676: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB5DD600>>
[INFO]2021-03-03 14:57:14,932: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB5A6300>>
[INFO]2021-03-03 14:57:15,191: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB676FC0>>
[INFO]2021-03-03 14:57:15,194: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB730990>>
[INFO]2021-03-03 14:57:15,252: charge policy 0 , fix time
[INFO]2021-03-03 14:57:15,282: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDB73C5A0>>
[INFO]2021-03-03 14:57:15,667: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 14:57:15,835: elevator thread start
[INFO]2021-03-03 14:57:15,854: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 201 ms
[INFO]2021-03-03 14:57:15,862: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 14:57:15,933: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 79 ms
[INFO]2021-03-03 14:57:15,952: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 14:57:16,023: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 90 ms
[INFO]2021-03-03 14:57:16,032: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 14:57:16,167: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 14:57:16,167: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 14:57:16,167: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 14:57:16,198: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 175 ms
[INFO]2021-03-03 14:57:16,210: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 14:57:16,309: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 111 ms
[INFO]2021-03-03 14:57:16,317: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 14:57:16,394: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 85 ms
[INFO]2021-03-03 14:57:16,403: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 14:57:16,449: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 54 ms
[INFO]2021-03-03 14:57:16,451: import agvDevice.main_agvDevice
[INFO]2021-03-03 14:57:16,451: import alarm.main_alarm
[INFO]2021-03-03 14:57:16,452: import auth.main_auth
[INFO]2021-03-03 14:57:16,460: import button.main_button
[INFO]2021-03-03 14:57:16,463: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDBC50F00>>
[INFO]2021-03-03 14:57:16,494: import door.main_door
[INFO]2021-03-03 14:57:16,496: import elevator.main_elevator
[INFO]2021-03-03 14:57:16,496: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 14:57:17,861: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDBC9B9F0>>
[DEBUG]2021-03-03 14:57:17,862: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 14:57:17,870: utility start, pid=17484, ppid=17416
[DEBUG]2021-03-03 14:57:17,872: start timer
[INFO]2021-03-03 14:57:17,881: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 14:57:17,881: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDC299EA0>>
[DEBUG]2021-03-03 14:57:17,883: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 14:57:17,883: AGV23 start agvList run thread
[INFO]2021-03-03 14:57:17,884: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000026EDC2B4E10>>
[DEBUG]2021-03-03 14:57:17,884: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 14:57:17,885: AGV23 start agvList run2 thread
[WARN]2021-03-03 14:57:17,887: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 17484
[INFO]2021-03-03 14:57:17,887: add_ignore: taskStatus
[CRITICAL]2021-03-03 14:57:26,913: [modbusApi: 192.168.20.150] execute fcode=1, addr=0 exception:  cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[WARN]2021-03-03 14:57:26,914: timer_thread[tid:17928] <locked _thread.RLock object owner=17928 count=1 at 0x0000026EDC299A20> ,hold 5018 ms
[INFO]2021-03-03 14:57:26,917: name=timer_thread, pid=17484, tid=17928
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 81, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-03-03 14:57:26,932: magneticAGV01 readDIList fail cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-03-03 14:57:26,940: magneticAGV readDIList error cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 81, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[ERROR]2021-03-03 14:57:27,885: connect AGV23 failed timed out
[DEBUG]2021-03-03 14:57:27,886: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 14:57:28,958: startCharge is false
[WARN]2021-03-03 14:57:33,970: timer_thread[tid:17928] <locked _thread.RLock object owner=17928 count=1 at 0x0000026EDC299A20> ,hold 5002 ms
[INFO]2021-03-03 14:57:33,970: name=timer_thread, pid=17484, tid=17928
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 81, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-03-03 14:57:33,976: magneticAGV01 readDIList fail cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-03-03 14:57:33,994: magneticAGV readDIList error cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 81, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[ERROR]2021-03-03 14:57:37,888: connect AGV23 failed timed out
[INFO]2021-03-03 14:57:37,889: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 14:57:37,889: agvThread.AGV23[tid:17964] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=17964 count=1 at 0x0000026EDC2B4E10>> ,hold 20005 ms
[INFO]2021-03-03 14:57:37,892: name=agvThread.AGV23, pid=17484, tid=17964
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 14:57:39,894: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 14:57:41,039: timer_thread[tid:17928] <locked _thread.RLock object owner=17928 count=1 at 0x0000026EDC299A20> ,hold 5023 ms
[INFO]2021-03-03 14:57:41,042: name=timer_thread, pid=17484, tid=17928
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 81, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-03-03 14:57:41,066: magneticAGV01 readDIList fail cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-03-03 14:57:41,081: magneticAGV readDIList error cause a error: timed out
pid=17484, ppid=17416, tid=17928
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 81, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

