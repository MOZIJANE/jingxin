[INFO]2021-03-03 18:15:55,063: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 18:15:55,063: find module agvCtrl.main_agv
[INFO]2021-03-03 18:15:55,063: find module agvDevice.main_agvDevice
[INFO]2021-03-03 18:15:55,064: find module alarm.main_alarm
[INFO]2021-03-03 18:15:55,064: find module auth.main_auth
[INFO]2021-03-03 18:15:55,064: find module button.main_button
[INFO]2021-03-03 18:15:55,064: find module door.main_door
[INFO]2021-03-03 18:15:55,064: find module elevator.main_elevator
[INFO]2021-03-03 18:15:55,065: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:15:55,065: import agvCtrl.main_agv
[INFO]2021-03-03 18:15:55,423: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A11B2D630>>
[INFO]2021-03-03 18:15:55,429: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A11B3D810>>
[INFO]2021-03-03 18:15:55,429: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A11B3DA20>>
[INFO]2021-03-03 18:15:55,515: create lock <lock name:timer.lock_2585870483168,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A11E54060>>
[ERROR]2021-03-03 18:15:55,526: mqtt is disabled
[INFO]2021-03-03 18:15:55,527: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 18:15:55,527: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 18:15:58,565: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 18:15:58,619: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A120D6450>>
[INFO]2021-03-03 18:15:58,619: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A120CFD50>>
[INFO]2021-03-03 18:15:58,620: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A120CF1B0>>
[INFO]2021-03-03 18:15:58,629: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A1211C570>>
[INFO]2021-03-03 18:15:58,892: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A120E2270>>
[INFO]2021-03-03 18:15:59,149: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A121B6F30>>
[INFO]2021-03-03 18:15:59,151: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A12270900>>
[INFO]2021-03-03 18:15:59,204: charge policy 0 , fix time
[INFO]2021-03-03 18:15:59,232: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A1227C510>>
[INFO]2021-03-03 18:15:59,607: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 18:15:59,806: elevator thread start
[INFO]2021-03-03 18:15:59,848: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 249 ms
[INFO]2021-03-03 18:15:59,856: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 18:15:59,909: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 60 ms
[INFO]2021-03-03 18:15:59,917: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 18:15:59,973: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 64 ms
[INFO]2021-03-03 18:15:59,980: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 18:16:00,112: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:16:00,112: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:16:00,112: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 18:16:00,133: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 160 ms
[INFO]2021-03-03 18:16:00,146: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 18:16:00,234: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 101 ms
[INFO]2021-03-03 18:16:00,243: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 18:16:00,316: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 81 ms
[INFO]2021-03-03 18:16:00,326: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 18:16:00,371: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 55 ms
[INFO]2021-03-03 18:16:00,374: import agvDevice.main_agvDevice
[INFO]2021-03-03 18:16:00,374: import alarm.main_alarm
[INFO]2021-03-03 18:16:00,374: import auth.main_auth
[INFO]2021-03-03 18:16:00,383: import button.main_button
[INFO]2021-03-03 18:16:00,387: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A1279C180>>
[INFO]2021-03-03 18:16:00,418: import door.main_door
[INFO]2021-03-03 18:16:00,420: import elevator.main_elevator
[INFO]2021-03-03 18:16:00,420: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:16:01,573: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A127DA930>>
[DEBUG]2021-03-03 18:16:01,574: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 18:16:01,581: utility start, pid=16772, ppid=6416
[DEBUG]2021-03-03 18:16:01,583: start timer
[INFO]2021-03-03 18:16:01,591: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 18:16:01,591: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A12DD5F90>>
[DEBUG]2021-03-03 18:16:01,592: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 18:16:01,593: AGV23 start agvList run thread
[INFO]2021-03-03 18:16:01,593: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000025A12DF0E70>>
[DEBUG]2021-03-03 18:16:01,593: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:16:01,594: AGV23 start agvList run2 thread
[WARN]2021-03-03 18:16:01,596: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 16772
[INFO]2021-03-03 18:16:01,596: add_ignore: taskStatus
[INFO]2021-03-03 18:16:05,635: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:08,646: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 18:16:11,595: connect AGV23 failed timed out
[DEBUG]2021-03-03 18:16:11,596: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:16:11,657: startCharge is false
[INFO]2021-03-03 18:16:11,661: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:14,676: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 18:16:15,678: magneticAGV01 try to open door 0 ['SK_DOOR'] []
[INFO]2021-03-03 18:16:15,682: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:15,683: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> controlVirualDoor
[DEBUG]2021-03-03 18:16:16,185: magneticAGV01 经过门 ['SK_DOOR'] controlVirualDoor -> opendoor
[INFO]2021-03-03 18:16:16,687: try to open door SK_DOOR
[DEBUG]2021-03-03 18:16:16,688: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:16:16,698: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-03 18:16:16,699: The signal to open the door has been sent,  doorIP:192.168.252.253
[DEBUG]2021-03-03 18:16:16,791: send to door module:192.168.252.253, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-03 18:16:17,162: read from door module:192.168.252.253, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-03 18:16:17,162: used 464ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:16:17,163: [return] use 475 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:16:17,163: magneticAGV01 经过门 ['SK_DOOR'] opendoor -> leavefirst
[INFO]2021-03-03 18:16:17,717: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:18,748: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:18,749: magneticAGV01 经过门 ['SK_DOOR'] leavefirst -> waitAlway
[INFO]2021-03-03 18:16:19,253: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:19,253: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:16:20,725: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:21,259: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:21,260: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[ERROR]2021-03-03 18:16:21,598: connect AGV23 failed timed out
[INFO]2021-03-03 18:16:21,599: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 18:16:21,599: agvThread.AGV23[tid:19940] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=19940 count=1 at 0x0000025A12DF0E70>> ,hold 20006 ms
[INFO]2021-03-03 18:16:21,602: name=agvThread.AGV23, pid=16772, tid=19940
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-03 18:16:23,266: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:23,267: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[DEBUG]2021-03-03 18:16:23,604: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:16:23,727: startCharge is false
[INFO]2021-03-03 18:16:23,732: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:25,272: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:25,272: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:16:26,745: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:27,278: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:27,279: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:16:29,283: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:29,283: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:16:29,754: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:31,288: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:31,289: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:16:32,777: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 18:16:33,295: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:33,296: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[ERROR]2021-03-03 18:16:33,604: connect AGV23 failed timed out
[INFO]2021-03-03 18:16:33,605: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 18:16:33,606: agvThread.AGV23[tid:19940] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=19940 count=1 at 0x0000025A12DF0E70>> ,hold 10001 ms
[INFO]2021-03-03 18:16:33,608: name=agvThread.AGV23, pid=16772, tid=19940
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-03 18:16:35,300: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[DEBUG]2021-03-03 18:16:35,301: magneticAGV01 经过门 ['SK_DOOR'] waitAlway -> clearfirst
[DEBUG]2021-03-03 18:16:35,609: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:16:35,780: startCharge is false
[INFO]2021-03-03 18:16:35,785: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:36,887: task: [magneticAGV01] readDo status  (0, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:36,888: magneticAGV01 经过门 ['SK_DOOR'] clearfirst -> checkfinishSignal
[INFO]2021-03-03 18:16:37,392: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:37,392: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-03 18:16:38,800: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:39,397: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:39,397: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-03 18:16:41,403: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:41,404: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal -> leavesecond
[INFO]2021-03-03 18:16:41,816: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 18:16:42,969: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:42,970: magneticAGV01 经过门 ['SK_DOOR'] leavesecond -> waitAlwaysecond
[INFO]2021-03-03 18:16:43,475: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:16:43,476: magneticAGV01 经过门 ['SK_DOOR'] waitAlwaysecond error
[INFO]2021-03-03 18:16:44,826: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:16:45,482: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[DEBUG]2021-03-03 18:16:45,483: magneticAGV01 经过门 ['SK_DOOR'] waitAlwaysecond -> clearIO
[ERROR]2021-03-03 18:16:45,610: connect AGV23 failed timed out
[INFO]2021-03-03 18:16:45,610: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 18:16:45,610: agvThread.AGV23[tid:19940] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=19940 count=1 at 0x0000025A12DF0E70>> ,hold 10001 ms
[INFO]2021-03-03 18:16:45,611: name=agvThread.AGV23, pid=16772, tid=19940
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-03 18:16:47,027: task: [magneticAGV01] readDo status  (0, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:47,027: magneticAGV01 经过门 ['SK_DOOR'] clearIO -> closeDoor
[INFO]2021-03-03 18:16:47,529: try to close door SK_DOOR
[DEBUG]2021-03-03 18:16:47,530: send http_get: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR
[DEBUG]2021-03-03 18:16:47,544: GET: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-03 18:16:47,545: The signal to close the door has been sent,  doorIP:192.168.252.253
[DEBUG]2021-03-03 18:16:47,611: try connect AGV23 192.168.20.198:19204
[DEBUG]2021-03-03 18:16:47,617: send to door module:192.168.252.253, values:outbuf[16] 55 00 00 00 00 AA 03 06 90 00 00 00 00 00 98 16
[INFO]2021-03-03 18:16:47,830: startCharge is false
[INFO]2021-03-03 18:16:47,833: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 18:16:47,969: read from door module:192.168.252.253, values:inbuf[13] 55 00 00 00 00 AA 83 03 90 00 00 15 16
[DEBUG]2021-03-03 18:16:47,970: used 426ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR
[DEBUG]2021-03-03 18:16:47,970: [return] use 440 ms,http_get: http://127.0.0.1:8999/api/switch/off?id=SK_DOOR
[DEBUG]2021-03-03 18:16:47,971: magneticAGV01 经过门 ['SK_DOOR'] closeDoor -> closeVirualDoor
[DEBUG]2021-03-03 18:16:48,473: magneticAGV01 经过门 ['SK_DOOR'] closeVirualDoor -> finish
[INFO]2021-03-03 18:16:48,974: task: stop
[INFO]2021-03-03 18:16:48,974: task: stop magneticAGV01 经过门 ['SK_DOOR']
[INFO]2021-03-03 18:16:50,842: magneticAGV01 (0, 0, 0, 0)
