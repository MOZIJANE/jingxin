[INFO]2021-03-04 14:17:24,155: log files at D:\python_lx\akm\common\log
[INFO]2021-03-04 14:17:24,155: find module agvCtrl.main_agv
[INFO]2021-03-04 14:17:24,155: find module agvDevice.main_agvDevice
[INFO]2021-03-04 14:17:24,156: find module alarm.main_alarm
[INFO]2021-03-04 14:17:24,156: find module auth.main_auth
[INFO]2021-03-04 14:17:24,156: find module button.main_button
[INFO]2021-03-04 14:17:24,156: find module door.main_door
[INFO]2021-03-04 14:17:24,157: find module elevator.main_elevator
[INFO]2021-03-04 14:17:24,157: find module virtualDoor.main_doorCtrl
[INFO]2021-03-04 14:17:24,157: import agvCtrl.main_agv
[INFO]2021-03-04 14:17:24,623: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EAF2D660>>
[INFO]2021-03-04 14:17:24,634: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EAF3D840>>
[INFO]2021-03-04 14:17:24,634: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EAF3DB10>>
[INFO]2021-03-04 14:17:24,747: create lock <lock name:timer.lock_2301752590448,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB2541B0>>
[ERROR]2021-03-04 14:17:24,772: mqtt is disabled
[INFO]2021-03-04 14:17:24,773: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-04 14:17:24,773: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-04 14:17:27,831: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-04 14:17:27,896: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB4D65A0>>
[INFO]2021-03-04 14:17:27,897: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB4CFEA0>>
[INFO]2021-03-04 14:17:27,899: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB4CF300>>
[INFO]2021-03-04 14:17:27,932: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB52A6C0>>
[INFO]2021-03-04 14:17:28,436: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB4F13C0>>
[INFO]2021-03-04 14:17:28,845: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB5D20C0>>
[INFO]2021-03-04 14:17:28,848: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB67FA50>>
[INFO]2021-03-04 14:17:29,023: charge policy 0 , fix time
[INFO]2021-03-04 14:17:29,117: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EB68B660>>
[INFO]2021-03-04 14:17:29,621: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-04 14:17:29,886: elevator thread start
[INFO]2021-03-04 14:17:29,901: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 297 ms
[INFO]2021-03-04 14:17:29,910: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-04 14:17:29,994: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 92 ms
[INFO]2021-03-04 14:17:30,010: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-04 14:17:30,176: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 182 ms
[INFO]2021-03-04 14:17:30,215: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-04 14:17:30,474: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-04 14:17:30,475: create aliveObj DDT_DOOR03 门控离线异常 timeout 60
[DEBUG]2021-03-04 14:17:30,475: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-04 14:17:30,484: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-04 14:17:30,507: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 330 ms
[INFO]2021-03-04 14:17:30,518: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-04 14:17:30,612: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 105 ms
[INFO]2021-03-04 14:17:30,620: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-04 14:17:30,812: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 200 ms
[INFO]2021-03-04 14:17:30,835: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-04 14:17:30,956: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 143 ms
[INFO]2021-03-04 14:17:30,967: import agvDevice.main_agvDevice
[INFO]2021-03-04 14:17:30,967: import alarm.main_alarm
[INFO]2021-03-04 14:17:30,969: import auth.main_auth
[INFO]2021-03-04 14:17:30,999: import button.main_button
[INFO]2021-03-04 14:17:31,012: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EBB6B1B0>>
[INFO]2021-03-04 14:17:31,144: import door.main_door
[INFO]2021-03-04 14:17:31,152: import elevator.main_elevator
[INFO]2021-03-04 14:17:31,153: import virtualDoor.main_doorCtrl
[INFO]2021-03-04 14:17:33,775: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EBBABDE0>>
[DEBUG]2021-03-04 14:17:33,776: create aliveObj magneticAGV01 磁导车掉线异常 timeout 120
[INFO]2021-03-04 14:17:33,778: create lock <lock name:magneticAGVlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000217EBBAB780>>
[SUCC]2021-03-04 14:17:33,783: utility start, pid=9232, ppid=15792
[DEBUG]2021-03-04 14:17:33,785: start timer
[INFO]2021-03-04 14:17:33,792: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[WARN]2021-03-04 14:17:33,793: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 9232
[INFO]2021-03-04 14:17:33,793: add_ignore: taskStatus
[INFO]2021-03-04 14:17:37,992: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-04 14:17:38,994: magneticAGV01 try to open door 0 ['SK_DOOR', 'DDT_DOOR03'] []
[INFO]2021-03-04 14:17:39,007: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 14:17:39,007: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] checkBeginSignal -> checkVirualDoorIsLock
[DEBUG]2021-03-04 14:17:39,509: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] checkVirualDoorIsLock -> controlVirualDoor
[DEBUG]2021-03-04 14:17:40,010: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] controlVirualDoor -> opendoor
[INFO]2021-03-04 14:17:40,512: try to open door SK_DOOR
[DEBUG]2021-03-04 14:17:40,513: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-04 14:17:40,534: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-04 14:17:40,536: The signal to open the door has been sent,  doorIP:192.168.20.163
[DEBUG]2021-03-04 14:17:40,554: send to door module:192.168.20.163, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[INFO]2021-03-04 14:17:41,010: startCharge is false
[DEBUG]2021-03-04 14:17:41,022: read from door module:192.168.20.163, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[INFO]2021-03-04 14:17:41,024: magneticAGV01 (1, 0, 0, 0)
[DEBUG]2021-03-04 14:17:41,024: used 491ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-04 14:17:41,029: [return] use 516 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[INFO]2021-03-04 14:17:41,030: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:41,031: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:43,033: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:43,034: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:44,035: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-04 14:17:45,035: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:45,036: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:46,048: magneticAGV is alarm: []
[INFO]2021-03-04 14:17:47,038: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:47,039: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:47,083: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-04 14:17:49,040: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:49,041: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:50,095: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-04 14:17:51,043: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:51,043: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:53,045: try to open door dict_values([True, False])
[WARN]2021-03-04 14:17:53,047: magneticAGV01 经过门 ['SK_DOOR', 'DDT_DOOR03'] opendoor error
[INFO]2021-03-04 14:17:53,109: startCharge is false
[INFO]2021-03-04 14:17:53,124: magneticAGV01 (1, 0, 0, 0)
