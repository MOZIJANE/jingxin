[INFO]2021-03-03 15:02:55,684: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 15:02:55,685: find module agvCtrl.main_agv
[INFO]2021-03-03 15:02:55,685: find module agvDevice.main_agvDevice
[INFO]2021-03-03 15:02:55,685: find module alarm.main_alarm
[INFO]2021-03-03 15:02:55,685: find module auth.main_auth
[INFO]2021-03-03 15:02:55,685: find module button.main_button
[INFO]2021-03-03 15:02:55,686: find module door.main_door
[INFO]2021-03-03 15:02:55,686: find module elevator.main_elevator
[INFO]2021-03-03 15:02:55,686: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 15:02:55,686: import agvCtrl.main_agv
[INFO]2021-03-03 15:02:56,068: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E175D630>>
[INFO]2021-03-03 15:02:56,081: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E176D870>>
[INFO]2021-03-03 15:02:56,081: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E176DA80>>
[INFO]2021-03-03 15:02:56,160: create lock <lock name:timer.lock_1889276673904,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1AB30F0>>
[ERROR]2021-03-03 15:02:56,169: mqtt is disabled
[INFO]2021-03-03 15:02:56,169: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 15:02:56,169: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 15:02:59,196: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 15:02:59,249: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1D374E0>>
[INFO]2021-03-03 15:02:59,250: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1D2EDE0>>
[INFO]2021-03-03 15:02:59,250: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1D2E240>>
[INFO]2021-03-03 15:02:59,258: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1D7B600>>
[INFO]2021-03-03 15:02:59,547: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1D43300>>
[INFO]2021-03-03 15:02:59,819: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1E16FC0>>
[INFO]2021-03-03 15:02:59,821: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1ED0990>>
[INFO]2021-03-03 15:02:59,879: charge policy 0 , fix time
[INFO]2021-03-03 15:02:59,907: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E1EDC5A0>>
[INFO]2021-03-03 15:03:00,295: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 15:03:00,451: elevator thread start
[INFO]2021-03-03 15:03:00,467: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 180 ms
[INFO]2021-03-03 15:03:00,488: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 15:03:00,596: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 128 ms
[INFO]2021-03-03 15:03:00,607: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 15:03:00,668: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 71 ms
[INFO]2021-03-03 15:03:00,676: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 15:03:00,813: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 15:03:00,813: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 15:03:00,814: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 15:03:00,838: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 170 ms
[INFO]2021-03-03 15:03:00,847: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 15:03:00,932: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 93 ms
[INFO]2021-03-03 15:03:00,940: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 15:03:01,014: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 81 ms
[INFO]2021-03-03 15:03:01,024: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 15:03:01,068: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 52 ms
[INFO]2021-03-03 15:03:01,070: import agvDevice.main_agvDevice
[INFO]2021-03-03 15:03:01,070: import alarm.main_alarm
[INFO]2021-03-03 15:03:01,070: import auth.main_auth
[INFO]2021-03-03 15:03:01,079: import button.main_button
[INFO]2021-03-03 15:03:01,082: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E23EFCC0>>
[INFO]2021-03-03 15:03:01,119: import door.main_door
[INFO]2021-03-03 15:03:01,121: import elevator.main_elevator
[INFO]2021-03-03 15:03:01,121: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 15:03:02,365: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E25539C0>>
[DEBUG]2021-03-03 15:03:02,366: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 15:03:02,374: utility start, pid=17836, ppid=17872
[DEBUG]2021-03-03 15:03:02,377: start timer
[INFO]2021-03-03 15:03:02,385: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 15:03:02,385: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E5C56D20>>
[DEBUG]2021-03-03 15:03:02,387: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 15:03:02,387: AGV23 start agvList run thread
[INFO]2021-03-03 15:03:02,387: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001B7E5C75D80>>
[DEBUG]2021-03-03 15:03:02,387: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:03:02,387: AGV23 start agvList run2 thread
[WARN]2021-03-03 15:03:02,390: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 17836
[INFO]2021-03-03 15:03:02,390: add_ignore: taskStatus
[CRITICAL]2021-03-03 15:03:11,433: [modbusApi: 192.168.20.150] execute fcode=1, addr=0 exception:  cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[WARN]2021-03-03 15:03:11,434: timer_thread[tid:16076] <locked _thread.RLock object owner=16076 count=1 at 0x000001B7E5C56A50> ,hold 5032 ms
[INFO]2021-03-03 15:03:11,438: name=timer_thread, pid=17836, tid=16076
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 81, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-03-03 15:03:11,455: magneticAGV01 readDIList fail cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-03-03 15:03:11,464: magneticAGV readDIList error cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 81, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[ERROR]2021-03-03 15:03:12,389: connect AGV23 failed timed out
[DEBUG]2021-03-03 15:03:12,389: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:03:13,468: startCharge is false
[WARN]2021-03-03 15:03:18,471: timer_thread[tid:16076] <locked _thread.RLock object owner=16076 count=1 at 0x000001B7E5C56A50> ,hold 5000 ms
[INFO]2021-03-03 15:03:18,471: name=timer_thread, pid=17836, tid=16076
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 81, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-03-03 15:03:18,479: magneticAGV01 readDIList fail cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-03-03 15:03:18,485: magneticAGV readDIList error cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 81, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[ERROR]2021-03-03 15:03:22,390: connect AGV23 failed timed out
[INFO]2021-03-03 15:03:22,390: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 15:03:22,390: agvThread.AGV23[tid:1760] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=1760 count=1 at 0x000001B7E5C75D80>> ,hold 20003 ms
[INFO]2021-03-03 15:03:22,391: name=agvThread.AGV23, pid=17836, tid=1760
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 15:03:24,392: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 15:03:25,510: timer_thread[tid:16076] <locked _thread.RLock object owner=16076 count=1 at 0x000001B7E5C56A50> ,hold 5000 ms
[INFO]2021-03-03 15:03:25,511: name=timer_thread, pid=17836, tid=16076
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 81, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-03-03 15:03:25,518: magneticAGV01 readDIList fail cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-03-03 15:03:25,524: magneticAGV readDIList error cause a error: timed out
pid=17836, ppid=17872, tid=16076
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 81, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

