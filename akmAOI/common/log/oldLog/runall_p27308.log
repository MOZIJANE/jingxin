[INFO]2021-02-26 16:47:36,260: log files at D:\python_lx\akm\common\log
[INFO]2021-02-26 16:47:36,260: find module agvCtrl.main_agv
[INFO]2021-02-26 16:47:36,260: find module agvDevice.main_agvDevice
[INFO]2021-02-26 16:47:36,260: find module alarm.main_alarm
[INFO]2021-02-26 16:47:36,261: find module auth.main_auth
[INFO]2021-02-26 16:47:36,261: find module button.main_button
[INFO]2021-02-26 16:47:36,261: find module door.main_door
[INFO]2021-02-26 16:47:36,262: find module elevator.main_elevator
[INFO]2021-02-26 16:47:36,262: find module virtualDoor.main_doorCtrl
[INFO]2021-02-26 16:47:36,263: import agvCtrl.main_agv
[INFO]2021-02-26 16:47:36,696: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F140C690>>
[INFO]2021-02-26 16:47:36,699: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F140CED0>>
[INFO]2021-02-26 16:47:36,786: create lock <lock name:timer.lock_2439297394864,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F17469F0>>
[ERROR]2021-02-26 16:47:36,795: mqtt is disabled
[INFO]2021-02-26 16:47:36,795: mqtt: subscribe [alarm/raise/+]
[INFO]2021-02-26 16:47:36,795: mqtt: subscribe [alarm/clear/+]
[INFO]2021-02-26 16:47:39,822: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-02-26 16:47:39,847: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F19D0DE0>>
[INFO]2021-02-26 16:47:39,848: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F19D0720>>
[INFO]2021-02-26 16:47:39,848: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F19C3B40>>
[INFO]2021-02-26 16:47:39,859: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F1A11F00>>
[INFO]2021-02-26 16:47:40,126: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F19D5C00>>
[INFO]2021-02-26 16:47:40,383: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F1ABC900>>
[INFO]2021-02-26 16:47:40,385: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F1B712D0>>
[INFO]2021-02-26 16:47:40,443: charge policy 0 , fix time
[INFO]2021-02-26 16:47:40,476: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F1B71EA0>>
[INFO]2021-02-26 16:47:40,969: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-02-26 16:47:41,195: elevator thread start
[INFO]2021-02-26 16:47:41,214: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 262 ms
[INFO]2021-02-26 16:47:41,223: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-02-26 16:47:41,288: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 74 ms
[INFO]2021-02-26 16:47:41,297: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-02-26 16:47:41,365: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 77 ms
[INFO]2021-02-26 16:47:41,374: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-02-26 16:47:41,554: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 189 ms
[INFO]2021-02-26 16:47:41,562: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-02-26 16:47:41,663: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 109 ms
[INFO]2021-02-26 16:47:41,670: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-02-26 16:47:41,742: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 79 ms
[INFO]2021-02-26 16:47:41,750: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-02-26 16:47:41,791: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 48 ms
[INFO]2021-02-26 16:47:41,794: import agvDevice.main_agvDevice
[INFO]2021-02-26 16:47:41,794: import alarm.main_alarm
[INFO]2021-02-26 16:47:41,794: import auth.main_auth
[INFO]2021-02-26 16:47:41,803: import button.main_button
[INFO]2021-02-26 16:47:41,807: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F2085DB0>>
[INFO]2021-02-26 16:47:41,840: import door.main_door
[INFO]2021-02-26 16:47:41,842: import elevator.main_elevator
[INFO]2021-02-26 16:47:41,842: import virtualDoor.main_doorCtrl
[INFO]2021-02-26 16:47:42,986: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F20DC8A0>>
[DEBUG]2021-02-26 16:47:42,994: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-02-26 16:47:42,994: utility start, pid=27308, ppid=8232
[DEBUG]2021-02-26 16:47:42,994: start timer
[INFO]2021-02-26 16:47:43,005: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-02-26 16:47:43,005: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F29EE9C0>>
[DEBUG]2021-02-26 16:47:43,007: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-02-26 16:47:43,007: AGV23 start agvList run thread
[INFO]2021-02-26 16:47:43,007: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000237F29F7B40>>
[DEBUG]2021-02-26 16:47:43,008: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-26 16:47:43,008: AGV23 start agvList run2 thread
[WARN]2021-02-26 16:47:43,012: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 27308
[INFO]2021-02-26 16:47:43,012: add_ignore: taskStatus
[INFO]2021-02-26 16:47:47,056: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:47:50,069: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-02-26 16:47:53,009: connect AGV23 failed timed out
[DEBUG]2021-02-26 16:47:53,009: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-26 16:47:53,090: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:47:56,105: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:47:59,123: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:48:02,152: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-02-26 16:48:03,010: connect AGV23 failed timed out
[INFO]2021-02-26 16:48:03,010: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-02-26 16:48:03,011: agvThread.AGV23[tid:3812] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=3812 count=1 at 0x00000237F29F7B40>> ,hold 20003 ms
[INFO]2021-02-26 16:48:03,012: name=agvThread.AGV23, pid=27308, tid=3812
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-02-26 16:48:05,013: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-26 16:48:05,178: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:48:08,193: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:48:11,207: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:48:14,224: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-02-26 16:48:15,013: connect AGV23 failed timed out
[INFO]2021-02-26 16:48:15,013: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-02-26 16:48:15,013: agvThread.AGV23[tid:3812] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=3812 count=1 at 0x00000237F29F7B40>> ,hold 10000 ms
[INFO]2021-02-26 16:48:15,014: name=agvThread.AGV23, pid=27308, tid=3812
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-02-26 16:48:17,016: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-26 16:48:17,234: magneticAGV01 (1, 0, 0, 0)
[CRITICAL]2021-02-26 16:48:18,243: magneticAGV readDIList error cause a error: string indices must be integers
pid=27308, ppid=8232, tid=5216
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 87, in _monitorDevices
    g_lastTask[d] = magneticAGVDoor(d,d["type"],d["relatedDoor"],d["virualDoor"])
TypeError: string indices must be integers

[INFO]2021-02-26 16:48:20,262: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-26 16:48:23,283: magneticAGV01 (0, 0, 0, 0)
