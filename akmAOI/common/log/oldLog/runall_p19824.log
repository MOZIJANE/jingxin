[INFO]2021-03-03 18:11:16,464: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 18:11:16,464: find module agvCtrl.main_agv
[INFO]2021-03-03 18:11:16,464: find module agvDevice.main_agvDevice
[INFO]2021-03-03 18:11:16,465: find module alarm.main_alarm
[INFO]2021-03-03 18:11:16,465: find module auth.main_auth
[INFO]2021-03-03 18:11:16,465: find module button.main_button
[INFO]2021-03-03 18:11:16,465: find module door.main_door
[INFO]2021-03-03 18:11:16,465: find module elevator.main_elevator
[INFO]2021-03-03 18:11:16,466: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:11:16,466: import agvCtrl.main_agv
[INFO]2021-03-03 18:11:16,836: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03CECD630>>
[INFO]2021-03-03 18:11:16,841: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03CEDD810>>
[INFO]2021-03-03 18:11:16,841: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03CEDDA20>>
[INFO]2021-03-03 18:11:16,917: create lock <lock name:timer.lock_3162121326256,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D1F4030>>
[ERROR]2021-03-03 18:11:16,926: mqtt is disabled
[INFO]2021-03-03 18:11:16,926: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 18:11:16,926: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 18:11:19,952: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 18:11:20,004: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D477420>>
[INFO]2021-03-03 18:11:20,005: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D46FD20>>
[INFO]2021-03-03 18:11:20,006: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D46F180>>
[INFO]2021-03-03 18:11:20,016: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D4CC540>>
[INFO]2021-03-03 18:11:20,273: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D492240>>
[INFO]2021-03-03 18:11:20,588: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D566F00>>
[INFO]2021-03-03 18:11:20,591: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D6208D0>>
[INFO]2021-03-03 18:11:20,643: charge policy 0 , fix time
[INFO]2021-03-03 18:11:20,671: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03D62C4E0>>
[INFO]2021-03-03 18:11:21,115: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 18:11:21,329: elevator thread start
[INFO]2021-03-03 18:11:21,345: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 247 ms
[INFO]2021-03-03 18:11:21,353: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 18:11:21,406: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 61 ms
[INFO]2021-03-03 18:11:21,414: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 18:11:21,470: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 63 ms
[INFO]2021-03-03 18:11:21,477: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 18:11:21,605: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:11:21,605: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:11:21,605: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 18:11:21,626: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 156 ms
[INFO]2021-03-03 18:11:21,635: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 18:11:21,746: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 120 ms
[INFO]2021-03-03 18:11:21,756: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 18:11:21,843: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 96 ms
[INFO]2021-03-03 18:11:21,851: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 18:11:21,892: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 48 ms
[INFO]2021-03-03 18:11:21,894: import agvDevice.main_agvDevice
[INFO]2021-03-03 18:11:21,894: import alarm.main_alarm
[INFO]2021-03-03 18:11:21,895: import auth.main_auth
[INFO]2021-03-03 18:11:21,903: import button.main_button
[INFO]2021-03-03 18:11:21,906: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03DB40E10>>
[INFO]2021-03-03 18:11:21,938: import door.main_door
[INFO]2021-03-03 18:11:21,940: import elevator.main_elevator
[INFO]2021-03-03 18:11:21,940: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:11:23,052: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03DB8A900>>
[DEBUG]2021-03-03 18:11:23,053: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 18:11:23,061: utility start, pid=19824, ppid=1452
[DEBUG]2021-03-03 18:11:23,063: start timer
[INFO]2021-03-03 18:11:23,072: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 18:11:23,072: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03E18BF30>>
[DEBUG]2021-03-03 18:11:23,075: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 18:11:23,075: AGV23 start agvList run thread
[INFO]2021-03-03 18:11:23,075: AGV23 start agvList run2 thread
[INFO]2021-03-03 18:11:23,075: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000002E03E1A6F00>>
[DEBUG]2021-03-03 18:11:23,076: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 18:11:23,078: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 19824
[INFO]2021-03-03 18:11:23,078: add_ignore: taskStatus
[INFO]2021-03-03 18:11:27,125: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 18:11:28,127: magneticAGV01 try to open door 0 ['SK_DOOR'] ['vitualDoor01', 'vitualDoor02']
[INFO]2021-03-03 18:11:28,136: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:11:28,137: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> controlVirualDoor
[INFO]2021-03-03 18:11:28,638: try to open virual door vitualDoor01
[DEBUG]2021-03-03 18:11:28,638: send http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 18:11:28,643: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 18:11:28,643: open vitualDoor 127.0.0.100
[DEBUG]2021-03-03 18:11:28,643: used 0ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 18:11:28,644: [return] use 6 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 18:11:28,645: try to open virual door vitualDoor02
[DEBUG]2021-03-03 18:11:28,645: send http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:11:28,657: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02 addr: 127.0.0.1
[INFO]2021-03-03 18:11:28,657: open vitualDoor 127.0.0.101
[DEBUG]2021-03-03 18:11:28,658: used 1ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:11:28,658: [return] use 13 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[INFO]2021-03-03 18:11:28,659: ++++++++++ dict_values([True, True])
[INFO]2021-03-03 18:11:28,659: --------- dict_values([True, True])
[DEBUG]2021-03-03 18:11:28,659: magneticAGV01 经过门 ['SK_DOOR'] controlVirualDoor -> opendoor
[INFO]2021-03-03 18:11:29,160: try to open door SK_DOOR
[DEBUG]2021-03-03 18:11:29,161: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:11:29,174: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-03 18:11:29,176: The signal to open the door has been sent,  doorIP:192.168.252.253
[DEBUG]2021-03-03 18:11:29,190: send to door module:192.168.252.253, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-03 18:11:29,684: read from door module:192.168.252.253, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-03 18:11:29,685: used 511ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:11:29,689: [return] use 527 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:11:29,690: magneticAGV01 经过门 ['SK_DOOR'] opendoor -> leavefirst
[INFO]2021-03-03 18:11:30,146: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:11:31,274: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:11:31,274: magneticAGV01 经过门 ['SK_DOOR'] leavefirst -> waitAlway
[INFO]2021-03-03 18:11:31,780: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:11:31,781: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[ERROR]2021-03-03 18:11:33,076: connect AGV23 failed timed out
[DEBUG]2021-03-03 18:11:33,076: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:11:33,152: startCharge is false
[INFO]2021-03-03 18:11:33,156: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:11:33,785: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:11:33,785: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
