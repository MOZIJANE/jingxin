[INFO]2021-03-04 15:13:10,993: log files at D:\python_lx\akm\common\log
[INFO]2021-03-04 15:13:10,993: find module agvCtrl.main_agv
[INFO]2021-03-04 15:13:10,993: find module agvDevice.main_agvDevice
[INFO]2021-03-04 15:13:10,993: find module alarm.main_alarm
[INFO]2021-03-04 15:13:10,993: find module auth.main_auth
[INFO]2021-03-04 15:13:10,993: find module button.main_button
[INFO]2021-03-04 15:13:10,994: find module door.main_door
[INFO]2021-03-04 15:13:10,994: find module elevator.main_elevator
[INFO]2021-03-04 15:13:10,994: find module virtualDoor.main_doorCtrl
[INFO]2021-03-04 15:13:10,994: import agvCtrl.main_agv
[INFO]2021-03-04 15:13:11,575: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A12D660>>
[INFO]2021-03-04 15:13:11,587: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A13D840>>
[INFO]2021-03-04 15:13:11,587: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A13DB10>>
[INFO]2021-03-04 15:13:11,728: create lock <lock name:timer.lock_1430933557504,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A495180>>
[ERROR]2021-03-04 15:13:11,741: mqtt is disabled
[INFO]2021-03-04 15:13:11,741: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-04 15:13:11,742: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-04 15:13:14,777: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-04 15:13:14,838: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A717570>>
[INFO]2021-03-04 15:13:14,839: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A70FE70>>
[INFO]2021-03-04 15:13:14,841: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A70F2D0>>
[INFO]2021-03-04 15:13:14,876: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A75B690>>
[INFO]2021-03-04 15:13:15,337: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A722390>>
[INFO]2021-03-04 15:13:16,078: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A803090>>
[INFO]2021-03-04 15:13:16,082: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A8AFA20>>
[INFO]2021-03-04 15:13:16,157: charge policy 0 , fix time
[INFO]2021-03-04 15:13:16,220: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2A8BB630>>
[INFO]2021-03-04 15:13:16,745: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-04 15:13:16,933: elevator thread start
[INFO]2021-03-04 15:13:16,950: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 214 ms
[INFO]2021-03-04 15:13:16,959: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-04 15:13:17,036: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 86 ms
[INFO]2021-03-04 15:13:17,060: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-04 15:13:17,247: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 211 ms
[INFO]2021-03-04 15:13:17,283: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-03-04 15:13:17,619: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 371 ms
[INFO]2021-03-04 15:13:17,640: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-04 15:13:17,830: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 210 ms
[INFO]2021-03-04 15:13:17,841: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[DEBUG]2021-03-04 15:13:17,984: create aliveObj ZP_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:13:17,985: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:13:17,985: create aliveObj vitualDoor02 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:13:17,985: create aliveObj vitualDoor03 门控离线异常 timeout 60
[DEBUG]2021-03-04 15:13:17,985: create aliveObj vitualDoor04 门控离线异常 timeout 60
[INFO]2021-03-04 15:13:18,009: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 179 ms
[INFO]2021-03-04 15:13:18,019: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-04 15:13:18,066: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 57 ms
[INFO]2021-03-04 15:13:18,072: import agvDevice.main_agvDevice
[INFO]2021-03-04 15:13:18,073: import alarm.main_alarm
[INFO]2021-03-04 15:13:18,073: import auth.main_auth
[INFO]2021-03-04 15:13:18,094: import button.main_button
[INFO]2021-03-04 15:13:18,102: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2ADDC2D0>>
[INFO]2021-03-04 15:13:18,179: import door.main_door
[INFO]2021-03-04 15:13:18,183: import elevator.main_elevator
[INFO]2021-03-04 15:13:18,184: import virtualDoor.main_doorCtrl
[INFO]2021-03-04 15:13:20,632: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2AE1EF00>>
[DEBUG]2021-03-04 15:13:20,634: create aliveObj magneticAGV02 磁导车掉线异常 timeout 120
[INFO]2021-03-04 15:13:20,639: create lock <lock name:magneticAGVlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2AE1EB10>>
[SUCC]2021-03-04 15:13:20,649: utility start, pid=6200, ppid=19096
[DEBUG]2021-03-04 15:13:20,652: start timer
[INFO]2021-03-04 15:13:20,661: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-04 15:13:20,661: create lock <lock name:agvList.AGV06.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B3FF9F0>>
[DEBUG]2021-03-04 15:13:20,663: create aliveObj AGV06 AGV离线异常 timeout 300
[INFO]2021-03-04 15:13:20,663: AGV06 start agvList run thread
[INFO]2021-03-04 15:13:20,664: AGV06 start agvList run2 thread
[INFO]2021-03-04 15:13:20,664: create lock <lock name:agv.AGV06.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B41E690>>
[DEBUG]2021-03-04 15:13:20,664: try connect AGV06 192.168.20.201:19204
[WARN]2021-03-04 15:13:20,666: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 6200
[INFO]2021-03-04 15:13:20,667: add_ignore: taskStatus
[INFO]2021-03-04 15:13:20,669: AGV06 connected 192.168.20.201 19204
[INFO]2021-03-04 15:13:20,670: create lock <lock name:agv.AGV06.lock_ctrl,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B41E6C0>>
[DEBUG]2021-03-04 15:13:20,670: try connect AGV06 192.168.20.201:19205
[INFO]2021-03-04 15:13:20,678: AGV06 connected 192.168.20.201 19205
[INFO]2021-03-04 15:13:20,678: create lock <lock name:agv.AGV06.lock_task,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B41E6F0>>
[DEBUG]2021-03-04 15:13:20,678: try connect AGV06 192.168.20.201:19206
[INFO]2021-03-04 15:13:20,684: AGV06 connected 192.168.20.201 19206
[INFO]2021-03-04 15:13:20,684: create lock <lock name:agv.AGV06.lock_conf,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B41E660>>
[DEBUG]2021-03-04 15:13:20,685: try connect AGV06 192.168.20.201:19207
[INFO]2021-03-04 15:13:20,690: AGV06 connected 192.168.20.201 19207
[INFO]2021-03-04 15:13:20,691: create lock <lock name:agv.AGV06.lock_core,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B41EC00>>
[DEBUG]2021-03-04 15:13:20,691: try connect AGV06 192.168.20.201:19208
[INFO]2021-03-04 15:13:20,695: AGV06 connected 192.168.20.201 19208
[INFO]2021-03-04 15:13:20,696: create lock <lock name:agv.AGV06.lock_other,<unlocked _thread.RLock object owner=0 count=0 at 0x0000014D2B439B40>>
[DEBUG]2021-03-04 15:13:20,696: try connect AGV06 192.168.20.201:19210
[INFO]2021-03-04 15:13:20,700: AGV06 connected 192.168.20.201 19210
[INFO]2021-03-04 15:13:20,723: AGV06 current map AKM-ZP
[INFO]2021-03-04 15:13:20,747: AGV06 is online
[INFO]2021-03-04 15:13:24,781: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:13:25,783: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:13:25,794: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:13:25,795: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:13:26,318: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=6200, ppid=19096, tid=19360
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 188, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 221, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:13:26,320: task: stop magneticAGV02 经过门 ['ZP_DOOR']
[INFO]2021-03-04 15:13:27,797: startCharge is false
[INFO]2021-03-04 15:13:27,805: magneticAGV02 (0, 1, 0, 0)
[INFO]2021-03-04 15:13:28,807: magneticAGV02 try to open door 0 ['ZP_DOOR'] ['vitualDoor01', 'vitualDoor02', 'vitualDoor03', 'vitualDoor04']
[INFO]2021-03-04 15:13:28,816: task [magneticAGV02] readIo get status  (0, 1, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-04 15:13:28,817: magneticAGV02 经过门 ['ZP_DOOR'] checkBeginSignal -> checkVirualDoorIsLock
[CRITICAL]2021-03-04 15:13:29,340: taskFunc2:magneticAGV02 经过门 ['ZP_DOOR'] cause a error: 'method' object is not subscriptable
pid=6200, ppid=19096, tid=11424
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 188, in _taskFunc
    elif not self.handle():
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 221, in handle
    if self.checkDoorIsLock[door]:
TypeError: 'method' object is not subscriptable

[INFO]2021-03-04 15:13:29,341: task: stop magneticAGV02 经过门 ['ZP_DOOR']
[INFO]2021-03-04 15:13:30,823: magneticAGV02 (0, 1, 0, 0)
