[INFO]2021-02-26 16:33:41,971: log files at D:\python_lx\akm\common\log
[INFO]2021-02-26 16:33:41,972: find module agvCtrl.main_agv
[INFO]2021-02-26 16:33:41,972: find module agvDevice.main_agvDevice
[INFO]2021-02-26 16:33:41,972: find module alarm.main_alarm
[INFO]2021-02-26 16:33:41,972: find module auth.main_auth
[INFO]2021-02-26 16:33:41,973: find module button.main_button
[INFO]2021-02-26 16:33:41,973: find module door.main_door
[INFO]2021-02-26 16:33:41,973: find module elevator.main_elevator
[INFO]2021-02-26 16:33:41,973: find module virtualDoor.main_doorCtrl
[INFO]2021-02-26 16:33:41,974: import agvCtrl.main_agv
[INFO]2021-02-26 16:33:42,393: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA1C2C690>>
[INFO]2021-02-26 16:33:42,398: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA1C2CED0>>
[INFO]2021-02-26 16:33:42,487: create lock <lock name:timer.lock_2528158050432,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA1F669C0>>
[ERROR]2021-02-26 16:33:42,498: mqtt is disabled
[INFO]2021-02-26 16:33:42,498: mqtt: subscribe [alarm/raise/+]
[INFO]2021-02-26 16:33:42,499: mqtt: subscribe [alarm/clear/+]
[INFO]2021-02-26 16:33:45,525: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-02-26 16:33:45,552: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA21F0DB0>>
[INFO]2021-02-26 16:33:45,552: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA21F06F0>>
[INFO]2021-02-26 16:33:45,553: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA21E3B10>>
[INFO]2021-02-26 16:33:45,563: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA2230ED0>>
[INFO]2021-02-26 16:33:45,825: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA21F6BD0>>
[INFO]2021-02-26 16:33:46,084: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA22DC8D0>>
[INFO]2021-02-26 16:33:46,086: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA23912A0>>
[INFO]2021-02-26 16:33:46,142: charge policy 0 , fix time
[INFO]2021-02-26 16:33:46,170: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA2391E70>>
[INFO]2021-02-26 16:33:46,561: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-02-26 16:33:46,713: elevator thread start
[INFO]2021-02-26 16:33:46,728: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 176 ms
[INFO]2021-02-26 16:33:46,735: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-02-26 16:33:46,791: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 63 ms
[INFO]2021-02-26 16:33:46,800: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-02-26 16:33:46,860: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 69 ms
[INFO]2021-02-26 16:33:46,867: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-02-26 16:33:47,023: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 163 ms
[INFO]2021-02-26 16:33:47,031: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-02-26 16:33:47,118: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 95 ms
[INFO]2021-02-26 16:33:47,126: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-02-26 16:33:47,200: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 81 ms
[INFO]2021-02-26 16:33:47,207: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-02-26 16:33:47,245: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 45 ms
[INFO]2021-02-26 16:33:47,247: import agvDevice.main_agvDevice
[INFO]2021-02-26 16:33:47,248: import alarm.main_alarm
[INFO]2021-02-26 16:33:47,248: import auth.main_auth
[INFO]2021-02-26 16:33:47,257: import button.main_button
[INFO]2021-02-26 16:33:47,260: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA28A8B40>>
[INFO]2021-02-26 16:33:47,295: import door.main_door
[INFO]2021-02-26 16:33:47,296: import elevator.main_elevator
[INFO]2021-02-26 16:33:47,297: import virtualDoor.main_doorCtrl
[INFO]2021-02-26 16:33:48,404: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA28FD870>>
[SUCC]2021-02-26 16:33:48,412: utility start, pid=21596, ppid=14356
[DEBUG]2021-02-26 16:33:48,412: start timer
[DEBUG]2021-02-26 16:33:48,412: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[INFO]2021-02-26 16:33:48,422: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-02-26 16:33:48,422: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA3E01B70>>
[DEBUG]2021-02-26 16:33:48,423: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-02-26 16:33:48,423: AGV23 start agvList run thread
[INFO]2021-02-26 16:33:48,424: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000024CA3E0BB40>>
[INFO]2021-02-26 16:33:48,424: AGV23 start agvList run2 thread
[DEBUG]2021-02-26 16:33:48,424: try connect AGV23 192.168.20.198:19204
[WARN]2021-02-26 16:33:48,426: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 21596
[INFO]2021-02-26 16:33:48,426: add_ignore: taskStatus
[CRITICAL]2021-02-26 16:33:57,442: [modbusApi: 192.168.252.238] execute fcode=1, addr=0 exception:  cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[WARN]2021-02-26 16:33:57,443: timer_thread[tid:10504] <locked _thread.RLock object owner=10504 count=1 at 0x0000024CA3E01900> ,hold 5025 ms
[INFO]2021-02-26 16:33:57,445: name=timer_thread, pid=21596, tid=10504
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 80, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-02-26 16:33:57,462: magneticAGV01 readDIList fail cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-02-26 16:33:57,471: magneticAGV readDIList error cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 80, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 226, in _read
    s = self.master.read(mdef.READ_COILS, addr, length)
  File "D:\python_lx\akm\common\modbusapi.py", line 45, in read
    return self.__execute(fcode, start, num)
  File "D:\python_lx\akm\common\modbusapi.py", line 35, in __execute
    data = self.master.execute(self.__salveId, fcode, start, quantity_of_x=num, output_value=value)
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 39, in new
    raise excpt
  File "C:\Python38\lib\site-packages\modbus_tk\utils.py", line 37, in new
    ret = fcn(*args, **kwargs)
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 152, in execute
    self.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[ERROR]2021-02-26 16:33:58,425: connect AGV23 failed timed out
[DEBUG]2021-02-26 16:33:58,425: try connect AGV23 192.168.20.198:19204
[WARN]2021-02-26 16:34:04,480: timer_thread[tid:10504] <locked _thread.RLock object owner=10504 count=1 at 0x0000024CA3E01900> ,hold 5001 ms
[INFO]2021-02-26 16:34:04,482: name=timer_thread, pid=21596, tid=10504
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 80, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-02-26 16:34:04,492: magneticAGV01 readDIList fail cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-02-26 16:34:04,500: magneticAGV readDIList error cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 80, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[ERROR]2021-02-26 16:34:08,427: connect AGV23 failed timed out
[INFO]2021-02-26 16:34:08,428: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-02-26 16:34:08,428: agvThread.AGV23[tid:12716] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=12716 count=1 at 0x0000024CA3E0BB40>> ,hold 20004 ms
[INFO]2021-02-26 16:34:08,430: name=agvThread.AGV23, pid=21596, tid=12716
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-02-26 16:34:10,431: try connect AGV23 192.168.20.198:19204
[WARN]2021-02-26 16:34:11,524: timer_thread[tid:10504] <locked _thread.RLock object owner=10504 count=1 at 0x0000024CA3E01900> ,hold 5001 ms
[INFO]2021-02-26 16:34:11,525: name=timer_thread, pid=21596, tid=10504
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/common/mytimer.py", line 113, in _loop() 
[03] File "D:/python_lx/akm/virtualDoor/doorCtrlRunTasks.py", line 80, in _monitorDevices() 
[04] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 140, in readDIList() 
[05] File "D:/python_lx/akm/virtualDoor/magneticAGV.py", line 192, in readDIList() 
[06] File "D:/python_lx/akm/common/lock.py", line 124, in _call() 
[07] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[08] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[09] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[CRITICAL]2021-02-26 16:34:11,542: magneticAGV01 readDIList fail cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

[CRITICAL]2021-02-26 16:34:11,562: magneticAGV readDIList error cause a error: timed out
pid=21596, ppid=14356, tid=10504
Traceback (most recent call last):
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 80, in _monitorDevices
    s1 = magneticAGV.readDIList(d)["status"]
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 140, in readDIList
    result = remoteioInfo.readDIList()
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 192, in readDIList
    return self._read(D0, IO_LENTH)
  File "D:\python_lx\akm\common\lock.py", line 122, in _call
    return func(*p,**pp)
  File "D:\python_lx\akm\virtualDoor\magneticAGV.py", line 223, in _read
    self.master.open()
  File "D:\python_lx\akm\common\modbusapi.py", line 60, in open
    self.master.open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus.py", line 99, in open
    self._do_open()
  File "C:\Python38\lib\site-packages\modbus_tk\modbus_tcp.py", line 173, in _do_open
    self._sock.connect((self._host, self._port))
socket.timeout: timed out

