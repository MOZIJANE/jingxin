[INFO]2021-02-28 22:02:54,480: log files at D:\python_lx\akm\common\log
[INFO]2021-02-28 22:02:54,481: find module agvCtrl.main_agv
[INFO]2021-02-28 22:02:54,481: find module agvDevice.main_agvDevice
[INFO]2021-02-28 22:02:54,481: find module alarm.main_alarm
[INFO]2021-02-28 22:02:54,481: find module auth.main_auth
[INFO]2021-02-28 22:02:54,482: find module button.main_button
[INFO]2021-02-28 22:02:54,482: find module door.main_door
[INFO]2021-02-28 22:02:54,482: find module elevator.main_elevator
[INFO]2021-02-28 22:02:54,482: find module virtualDoor.main_doorCtrl
[INFO]2021-02-28 22:02:54,482: import agvCtrl.main_agv
[INFO]2021-02-28 22:02:55,138: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF3082C660>>
[INFO]2021-02-28 22:02:55,149: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF3082CEA0>>
[INFO]2021-02-28 22:02:55,244: create lock <lock name:timer.lock_2195545417856,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30B469C0>>
[ERROR]2021-02-28 22:02:55,255: mqtt is disabled
[INFO]2021-02-28 22:02:55,255: mqtt: subscribe [alarm/raise/+]
[INFO]2021-02-28 22:02:55,255: mqtt: subscribe [alarm/clear/+]
[INFO]2021-02-28 22:02:58,283: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-02-28 22:02:58,350: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30DCFDB0>>
[INFO]2021-02-28 22:02:58,350: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30DCF6F0>>
[INFO]2021-02-28 22:02:58,353: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30DC2B10>>
[INFO]2021-02-28 22:02:58,388: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30E20ED0>>
[INFO]2021-02-28 22:02:58,729: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30DD6BD0>>
[INFO]2021-02-28 22:02:59,078: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30ECC8D0>>
[INFO]2021-02-28 22:02:59,085: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30F812A0>>
[INFO]2021-02-28 22:02:59,155: charge policy 0 , fix time
[INFO]2021-02-28 22:02:59,187: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF30F81E70>>
[INFO]2021-02-28 22:02:59,703: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-02-28 22:02:59,895: elevator thread start
[INFO]2021-02-28 22:02:59,920: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 225 ms
[INFO]2021-02-28 22:02:59,941: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-02-28 22:03:00,093: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 172 ms
[INFO]2021-02-28 22:03:00,102: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-02-28 22:03:00,164: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 70 ms
[INFO]2021-02-28 22:03:00,177: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[INFO]2021-02-28 22:03:00,534: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 370 ms
[INFO]2021-02-28 22:03:00,541: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-02-28 22:03:00,629: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 95 ms
[INFO]2021-02-28 22:03:00,637: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-02-28 22:03:00,711: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 82 ms
[INFO]2021-02-28 22:03:00,719: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-02-28 22:03:00,760: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 48 ms
[INFO]2021-02-28 22:03:00,763: import agvDevice.main_agvDevice
[INFO]2021-02-28 22:03:00,763: import alarm.main_alarm
[INFO]2021-02-28 22:03:00,763: import auth.main_auth
[INFO]2021-02-28 22:03:00,773: import button.main_button
[INFO]2021-02-28 22:03:00,777: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF31498B70>>
[INFO]2021-02-28 22:03:00,833: import door.main_door
[INFO]2021-02-28 22:03:00,838: import elevator.main_elevator
[INFO]2021-02-28 22:03:00,838: import virtualDoor.main_doorCtrl
[INFO]2021-02-28 22:03:03,231: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF314ED870>>
[SUCC]2021-02-28 22:03:03,237: utility start, pid=12364, ppid=2976
[DEBUG]2021-02-28 22:03:03,237: start timer
[DEBUG]2021-02-28 22:03:03,237: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[INFO]2021-02-28 22:03:03,245: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-02-28 22:03:03,245: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF32200870>>
[DEBUG]2021-02-28 22:03:03,247: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-02-28 22:03:03,247: AGV23 start agvList run thread
[INFO]2021-02-28 22:03:03,247: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x000001FF3220AB10>>
[DEBUG]2021-02-28 22:03:03,248: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-28 22:03:03,248: AGV23 start agvList run2 thread
[WARN]2021-02-28 22:03:03,250: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 12364
[INFO]2021-02-28 22:03:03,250: add_ignore: taskStatus
[INFO]2021-02-28 22:03:07,287: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-02-28 22:03:08,290: +++++++ addTask None
[INFO]2021-02-28 22:03:08,290: magneticAGV01 try to open door 0 ['DOOR100', 'DOOR101'] ['DOOR100', 'DOOR101']
[INFO]2021-02-28 22:03:08,297: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-02-28 22:03:08,298: 经过门['DOOR100', 'DOOR101'] checkBeginSignal -> opendoor
[INFO]2021-02-28 22:03:08,800: try to open door
[WARN]2021-02-28 22:03:08,800: 经过门['DOOR100', 'DOOR101'] leave error
[INFO]2021-02-28 22:03:10,308: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-02-28 22:03:11,856: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-02-28 22:03:11,857: 经过门['DOOR100', 'DOOR101'] leave -> waitAlway
[WARN]2021-02-28 22:03:12,359: 经过门['DOOR100', 'DOOR101'] waitAlway error
[ERROR]2021-02-28 22:03:13,249: connect AGV23 failed timed out
[DEBUG]2021-02-28 22:03:13,249: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-28 22:03:13,327: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-02-28 22:03:14,361: 经过门['DOOR100', 'DOOR101'] waitAlway error
[INFO]2021-02-28 22:03:16,352: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-02-28 22:03:16,362: 经过门['DOOR100', 'DOOR101'] waitAlway error
[WARN]2021-02-28 22:03:18,364: 经过门['DOOR100', 'DOOR101'] waitAlway error
[INFO]2021-02-28 22:03:19,359: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-02-28 22:03:20,365: 经过门['DOOR100', 'DOOR101'] waitAlway error
[WARN]2021-02-28 22:03:22,366: 经过门['DOOR100', 'DOOR101'] waitAlway error
[INFO]2021-02-28 22:03:22,377: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-02-28 22:03:23,249: connect AGV23 failed timed out
[INFO]2021-02-28 22:03:23,249: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-02-28 22:03:23,249: agvThread.AGV23[tid:5612] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=5612 count=1 at 0x000001FF3220AB10>> ,hold 20001 ms
[INFO]2021-02-28 22:03:23,250: name=agvThread.AGV23, pid=12364, tid=5612
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[WARN]2021-02-28 22:03:24,370: 经过门['DOOR100', 'DOOR101'] waitAlway error
[DEBUG]2021-02-28 22:03:25,251: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-28 22:03:25,385: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-02-28 22:03:26,372: 经过门['DOOR100', 'DOOR101'] waitAlway error
[WARN]2021-02-28 22:03:28,374: 经过门['DOOR100', 'DOOR101'] waitAlway error
[INFO]2021-02-28 22:03:28,410: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-02-28 22:03:30,375: 经过门['DOOR100', 'DOOR101'] waitAlway error
[INFO]2021-02-28 22:03:31,418: magneticAGV01 (0, 0, 0, 0)
[WARN]2021-02-28 22:03:32,377: 经过门['DOOR100', 'DOOR101'] clearIO error
[INFO]2021-02-28 22:03:34,435: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-02-28 22:03:35,253: connect AGV23 failed timed out
[INFO]2021-02-28 22:03:35,254: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-02-28 22:03:35,254: agvThread.AGV23[tid:5612] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=5612 count=1 at 0x000001FF3220AB10>> ,hold 10003 ms
[INFO]2021-02-28 22:03:35,256: name=agvThread.AGV23, pid=12364, tid=5612
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-02-28 22:03:35,459: task: [magneticAGV01] readDo status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-02-28 22:03:35,460: 经过门['DOOR100', 'DOOR101'] checkfinishSignal error
[DEBUG]2021-02-28 22:03:37,257: try connect AGV23 192.168.20.198:19204
[INFO]2021-02-28 22:03:37,443: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-28 22:03:37,462: try to close door
[DEBUG]2021-02-28 22:03:37,463: 经过门['DOOR100', 'DOOR101'] checkfinishSignal -> finish
[INFO]2021-02-28 22:03:37,965: task: stop
[INFO]2021-02-28 22:03:37,966: task: stop 经过门['DOOR100', 'DOOR101']
[CRITICAL]2021-02-28 22:03:39,458: invoke timer func<function _monitorDevices at 0x000001FF314ECB80> cause a error: dictionary keys changed during iteration
pid=12364, ppid=2976, tid=15892
Traceback (most recent call last):
  File "D:\python_lx\akm\common\mytimer.py", line 113, in _loop
    v.func(*v.args)
  File "D:\python_lx\akm\virtualDoor\doorCtrlRunTasks.py", line 98, in _monitorDevices
    for t in g_lastTask:
RuntimeError: dictionary keys changed during iteration

[INFO]2021-02-28 22:03:40,481: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-02-28 22:03:43,488: magneticAGV01 (0, 0, 0, 0)
