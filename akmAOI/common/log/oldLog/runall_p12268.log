[INFO]2021-03-03 18:08:48,024: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 18:08:48,024: find module agvCtrl.main_agv
[INFO]2021-03-03 18:08:48,024: find module agvDevice.main_agvDevice
[INFO]2021-03-03 18:08:48,024: find module alarm.main_alarm
[INFO]2021-03-03 18:08:48,025: find module auth.main_auth
[INFO]2021-03-03 18:08:48,025: find module button.main_button
[INFO]2021-03-03 18:08:48,025: find module door.main_door
[INFO]2021-03-03 18:08:48,025: find module elevator.main_elevator
[INFO]2021-03-03 18:08:48,025: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:08:48,025: import agvCtrl.main_agv
[INFO]2021-03-03 18:08:48,388: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C6AFD630>>
[INFO]2021-03-03 18:08:48,391: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C6B0D810>>
[INFO]2021-03-03 18:08:48,392: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C6B0DA20>>
[INFO]2021-03-03 18:08:48,470: create lock <lock name:timer.lock_2503007878976,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C6E630C0>>
[ERROR]2021-03-03 18:08:48,480: mqtt is disabled
[INFO]2021-03-03 18:08:48,480: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 18:08:48,480: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 18:08:51,505: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 18:08:51,571: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C70E64B0>>
[INFO]2021-03-03 18:08:51,572: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C70DFDB0>>
[INFO]2021-03-03 18:08:51,572: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C70DF210>>
[INFO]2021-03-03 18:08:51,581: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C712A5D0>>
[INFO]2021-03-03 18:08:51,836: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C70F22D0>>
[INFO]2021-03-03 18:08:52,098: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C71C6F90>>
[INFO]2021-03-03 18:08:52,100: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C7280960>>
[INFO]2021-03-03 18:08:52,157: charge policy 0 , fix time
[INFO]2021-03-03 18:08:52,191: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C728C570>>
[INFO]2021-03-03 18:08:52,615: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 18:08:52,798: elevator thread start
[INFO]2021-03-03 18:08:52,819: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 221 ms
[INFO]2021-03-03 18:08:52,830: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 18:08:52,886: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 66 ms
[INFO]2021-03-03 18:08:52,893: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 18:08:52,953: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 67 ms
[INFO]2021-03-03 18:08:52,960: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 18:08:53,106: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:08:53,106: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 18:08:53,106: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 18:08:53,139: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 186 ms
[INFO]2021-03-03 18:08:53,152: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 18:08:53,240: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 101 ms
[INFO]2021-03-03 18:08:53,247: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 18:08:53,336: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 96 ms
[INFO]2021-03-03 18:08:53,353: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 18:08:53,414: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 78 ms
[INFO]2021-03-03 18:08:53,417: import agvDevice.main_agvDevice
[INFO]2021-03-03 18:08:53,417: import alarm.main_alarm
[INFO]2021-03-03 18:08:53,417: import auth.main_auth
[INFO]2021-03-03 18:08:53,427: import button.main_button
[INFO]2021-03-03 18:08:53,432: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C77A1C90>>
[INFO]2021-03-03 18:08:53,471: import door.main_door
[INFO]2021-03-03 18:08:53,473: import elevator.main_elevator
[INFO]2021-03-03 18:08:53,473: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 18:08:54,621: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C77EA990>>
[DEBUG]2021-03-03 18:08:54,623: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 18:08:54,631: utility start, pid=12268, ppid=19204
[DEBUG]2021-03-03 18:08:54,633: start timer
[INFO]2021-03-03 18:08:54,640: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 18:08:54,641: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C8CFDF30>>
[DEBUG]2021-03-03 18:08:54,643: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 18:08:54,643: AGV23 start agvList run thread
[INFO]2021-03-03 18:08:54,644: AGV23 start agvList run2 thread
[INFO]2021-03-03 18:08:54,644: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x00000246C8D18F90>>
[DEBUG]2021-03-03 18:08:54,644: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 18:08:54,646: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 12268
[INFO]2021-03-03 18:08:54,647: add_ignore: taskStatus
[INFO]2021-03-03 18:08:58,692: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:01,707: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 18:09:04,645: connect AGV23 failed timed out
[DEBUG]2021-03-03 18:09:04,646: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:09:04,713: startCharge is false
[INFO]2021-03-03 18:09:04,716: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:07,731: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:10,741: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:13,751: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 18:09:14,648: connect AGV23 failed timed out
[INFO]2021-03-03 18:09:14,649: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 18:09:14,649: agvThread.AGV23[tid:13088] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=13088 count=1 at 0x00000246C8D18F90>> ,hold 20005 ms
[INFO]2021-03-03 18:09:14,652: name=agvThread.AGV23, pid=12268, tid=13088
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 18:09:16,654: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:09:16,754: startCharge is false
[INFO]2021-03-03 18:09:16,757: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:19,770: magneticAGV01 (1, 0, 0, 0)
[INFO]2021-03-03 18:09:20,772: magneticAGV01 try to open door 0 ['SK_DOOR'] ['vitualDoor01', 'vitualDoor02']
[INFO]2021-03-03 18:09:20,778: task [magneticAGV01] readIo get status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:09:20,779: magneticAGV01 经过门 ['SK_DOOR'] checkBeginSignal -> controlVirualDoor
[INFO]2021-03-03 18:09:21,280: try to open virual door vitualDoor01
[DEBUG]2021-03-03 18:09:21,281: send http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 18:09:21,299: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 18:09:21,301: open vitualDoor 127.0.0.100
[DEBUG]2021-03-03 18:09:21,302: used 2ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 18:09:21,305: [return] use 24 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 18:09:21,306: try to open virual door vitualDoor02
[DEBUG]2021-03-03 18:09:21,306: send http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:09:21,320: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02 addr: 127.0.0.1
[INFO]2021-03-03 18:09:21,321: open vitualDoor 127.0.0.101
[DEBUG]2021-03-03 18:09:21,322: used 2ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[DEBUG]2021-03-03 18:09:21,325: [return] use 19 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=vitualDoor02
[INFO]2021-03-03 18:09:21,326: ++++++++++ dict_values([True, True])
[DEBUG]2021-03-03 18:09:21,326: magneticAGV01 经过门 ['SK_DOOR'] controlVirualDoor -> opendoor
[INFO]2021-03-03 18:09:21,829: try to open door SK_DOOR
[DEBUG]2021-03-03 18:09:21,830: send http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:09:21,845: GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR addr: 127.0.0.1
[INFO]2021-03-03 18:09:21,845: The signal to open the door has been sent,  doorIP:192.168.252.253
[DEBUG]2021-03-03 18:09:21,931: send to door module:192.168.252.253, values:outbuf[16] 55 00 00 00 00 AA 03 06 80 00 00 00 00 00 88 16
[DEBUG]2021-03-03 18:09:22,516: read from door module:192.168.252.253, values:inbuf[13] 55 00 00 00 00 AA 83 03 80 01 00 06 16
[DEBUG]2021-03-03 18:09:22,517: used 672ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:09:22,520: [return] use 690 ms,http_get: http://127.0.0.1:8999/api/switch/on?id=SK_DOOR
[DEBUG]2021-03-03 18:09:22,521: magneticAGV01 经过门 ['SK_DOOR'] opendoor -> leavefirst
[INFO]2021-03-03 18:09:22,784: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:24,090: task: [magneticAGV01] readDo status  (1, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:09:24,091: magneticAGV01 经过门 ['SK_DOOR'] leavefirst -> waitAlway
[INFO]2021-03-03 18:09:24,597: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:09:24,598: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[INFO]2021-03-03 18:09:25,799: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:26,602: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:09:26,602: magneticAGV01 经过门 ['SK_DOOR'] waitAlway error
[ERROR]2021-03-03 18:09:26,655: connect AGV23 failed timed out
[INFO]2021-03-03 18:09:26,655: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 18:09:26,655: agvThread.AGV23[tid:13088] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=13088 count=1 at 0x00000246C8D18F90>> ,hold 10001 ms
[INFO]2021-03-03 18:09:26,656: name=agvThread.AGV23, pid=12268, tid=13088
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[INFO]2021-03-03 18:09:28,607: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 1)
[DEBUG]2021-03-03 18:09:28,608: magneticAGV01 经过门 ['SK_DOOR'] waitAlway -> clearfirst
[DEBUG]2021-03-03 18:09:28,657: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 18:09:28,801: startCharge is false
[INFO]2021-03-03 18:09:28,808: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:30,195: task: [magneticAGV01] readDo status  (0, 0, 0, 0, 0, 0, 0, 0)
[DEBUG]2021-03-03 18:09:30,195: magneticAGV01 经过门 ['SK_DOOR'] clearfirst -> checkfinishSignal
[INFO]2021-03-03 18:09:30,701: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:09:30,701: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-03 18:09:31,825: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 18:09:32,706: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:09:32,707: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-03 18:09:34,711: task [magneticAGV01] readIo get status  (0, 0, 0, 0, 0, 0, 0, 0)
[WARN]2021-03-03 18:09:34,711: magneticAGV01 经过门 ['SK_DOOR'] checkfinishSignal error
[INFO]2021-03-03 18:09:34,837: magneticAGV01 (0, 0, 0, 0)
