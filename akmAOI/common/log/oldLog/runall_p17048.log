[INFO]2021-03-03 15:26:47,306: log files at D:\python_lx\akm\common\log
[INFO]2021-03-03 15:26:47,306: find module agvCtrl.main_agv
[INFO]2021-03-03 15:26:47,306: find module agvDevice.main_agvDevice
[INFO]2021-03-03 15:26:47,306: find module alarm.main_alarm
[INFO]2021-03-03 15:26:47,306: find module auth.main_auth
[INFO]2021-03-03 15:26:47,306: find module button.main_button
[INFO]2021-03-03 15:26:47,306: find module door.main_door
[INFO]2021-03-03 15:26:47,308: find module elevator.main_elevator
[INFO]2021-03-03 15:26:47,308: find module virtualDoor.main_doorCtrl
[INFO]2021-03-03 15:26:47,308: import agvCtrl.main_agv
[INFO]2021-03-03 15:26:47,690: create lock <lock name:doorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA79AD630>>
[INFO]2021-03-03 15:26:47,694: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA79BD810>>
[INFO]2021-03-03 15:26:47,694: create lock <lock name:door.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA79BDA20>>
[INFO]2021-03-03 15:26:47,774: create lock <lock name:timer.lock_2249083076224,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA7CC3FC0>>
[ERROR]2021-03-03 15:26:47,783: mqtt is disabled
[INFO]2021-03-03 15:26:47,783: mqtt: subscribe [alarm/raise/+]
[INFO]2021-03-03 15:26:47,784: mqtt: subscribe [alarm/clear/+]
[INFO]2021-03-03 15:26:50,809: Mongodb connect to 127.0.0.1 port 27017
[INFO]2021-03-03 15:26:50,861: create lock <lock name:elevatorApi.tcp_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA7F573F0>>
[INFO]2021-03-03 15:26:50,862: create lock <lock name:elevatorApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA7F50CF0>>
[INFO]2021-03-03 15:26:50,863: create lock <lock name:elevatorMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA7F50150>>
[INFO]2021-03-03 15:26:50,877: create lock <lock name:agvserver,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA7FAC510>>
[INFO]2021-03-03 15:26:51,162: create lock <lock name:mapMgr.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA7F71210>>
[INFO]2021-03-03 15:26:51,444: create lock <lock name:agvList.g_agvLock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA8046ED0>>
[INFO]2021-03-03 15:26:51,447: create lock <lock name:taskList.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA81008A0>>
[INFO]2021-03-03 15:26:51,504: charge policy 0 , fix time
[INFO]2021-03-03 15:26:51,535: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA810C4B0>>
[INFO]2021-03-03 15:26:51,915: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap
[DEBUG]2021-03-03 15:26:52,150: elevator thread start
[INFO]2021-03-03 15:26:52,169: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-AOI.smap ,used 262 ms
[INFO]2021-03-03 15:26:52,179: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap
[INFO]2021-03-03 15:26:52,243: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DC.smap ,used 74 ms
[INFO]2021-03-03 15:26:52,252: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap
[INFO]2021-03-03 15:26:52,316: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-DDT.smap ,used 72 ms
[INFO]2021-03-03 15:26:52,343: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap
[DEBUG]2021-03-03 15:26:52,512: create aliveObj SK_DOOR 门控离线异常 timeout 60
[DEBUG]2021-03-03 15:26:52,513: create aliveObj vitualDoor01 门控离线异常 timeout 60
[DEBUG]2021-03-03 15:26:52,513: create aliveObj vitualDoor02 门控离线异常 timeout 60
[INFO]2021-03-03 15:26:52,531: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-FQC.smap ,used 214 ms
[INFO]2021-03-03 15:26:52,539: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap
[INFO]2021-03-03 15:26:52,627: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-LYH.smap ,used 96 ms
[INFO]2021-03-03 15:26:52,635: start load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap
[INFO]2021-03-03 15:26:52,742: load map D:\python_lx\akm\agvCtrl\projects\akm\AKM-ZP.smap ,used 115 ms
[INFO]2021-03-03 15:26:52,751: start load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap
[INFO]2021-03-03 15:26:52,796: load map D:\python_lx\akm\agvCtrl\projects\akm\office.smap ,used 54 ms
[INFO]2021-03-03 15:26:52,799: import agvDevice.main_agvDevice
[INFO]2021-03-03 15:26:52,799: import alarm.main_alarm
[INFO]2021-03-03 15:26:52,800: import auth.main_auth
[INFO]2021-03-03 15:26:52,807: import button.main_button
[INFO]2021-03-03 15:26:52,811: create lock <lock name:agvApi.g_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA8660DE0>>
[INFO]2021-03-03 15:26:52,840: import door.main_door
[INFO]2021-03-03 15:26:52,842: import elevator.main_elevator
[INFO]2021-03-03 15:26:52,842: import virtualDoor.main_doorCtrl
[INFO]2021-03-03 15:26:54,148: create lock <lock name:IOAlarm.s_lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BA86A98D0>>
[DEBUG]2021-03-03 15:26:54,149: create aliveObj magneticAGV01 二维码掉线异常 timeout 120
[SUCC]2021-03-03 15:26:54,157: utility start, pid=17048, ppid=13336
[DEBUG]2021-03-03 15:26:54,159: start timer
[INFO]2021-03-03 15:26:54,166: load agv file: D:\python_lx\akm\agvCtrl/projects/akm/agv.cfg
[INFO]2021-03-03 15:26:54,167: create lock <lock name:agvList.AGV23.lock,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BABEB7F30>>
[DEBUG]2021-03-03 15:26:54,168: create aliveObj AGV23 AGV离线异常 timeout 300
[INFO]2021-03-03 15:26:54,169: AGV23 start agvList run thread
[INFO]2021-03-03 15:26:54,169: create lock <lock name:agv.AGV23.lock_status,<unlocked _thread.RLock object owner=0 count=0 at 0x0000020BABECFD80>>
[INFO]2021-03-03 15:26:54,169: AGV23 start agvList run2 thread
[DEBUG]2021-03-03 15:26:54,169: try connect AGV23 192.168.20.198:19204
[WARN]2021-03-03 15:26:54,172: Local server start! version 3.8.0, path D:\python_lx\akm\common, pid 17048
[INFO]2021-03-03 15:26:54,172: add_ignore: taskStatus
[INFO]2021-03-03 15:26:58,249: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:26:59,290: GET: http://127.0.0.1:8999/api/switch/off?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 15:26:59,291: close vitualDoor 127.0.0.100
[DEBUG]2021-03-03 15:26:59,291: used 1ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/off?id=vitualDoor01
[INFO]2021-03-03 15:27:01,266: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 15:27:04,171: connect AGV23 failed timed out
[DEBUG]2021-03-03 15:27:04,171: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:27:04,275: startCharge is false
[INFO]2021-03-03 15:27:04,278: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:27:06,183: GET: http://127.0.0.1:8999/api/switch/off?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 15:27:06,183: close vitualDoor 127.0.0.100
[DEBUG]2021-03-03 15:27:06,183: used 0ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/off?id=vitualDoor01
[INFO]2021-03-03 15:27:07,293: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 15:27:10,301: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 15:27:13,312: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 15:27:14,171: connect AGV23 failed timed out
[INFO]2021-03-03 15:27:14,171: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 15:27:14,171: agvThread.AGV23[tid:15380] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=15380 count=1 at 0x0000020BABECFD80>> ,hold 20002 ms
[INFO]2021-03-03 15:27:14,172: name=agvThread.AGV23, pid=17048, tid=15380
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 15:27:16,173: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:27:16,314: startCharge is false
[INFO]2021-03-03 15:27:16,318: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:27:16,620: GET: http://127.0.0.1:8999/api/switch/off?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 15:27:16,621: close vitualDoor 127.0.0.100
[DEBUG]2021-03-03 15:27:16,621: used 1ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/off?id=vitualDoor01
[INFO]2021-03-03 15:27:19,334: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 15:27:22,344: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:27:24,270: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[INFO]2021-03-03 15:27:24,270: open vitualDoor 127.0.0.100
[DEBUG]2021-03-03 15:27:24,270: used 0ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 15:27:25,360: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 15:27:26,174: connect AGV23 failed timed out
[INFO]2021-03-03 15:27:26,174: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 15:27:26,174: agvThread.AGV23[tid:15380] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=15380 count=1 at 0x0000020BABECFD80>> ,hold 10001 ms
[INFO]2021-03-03 15:27:26,175: name=agvThread.AGV23, pid=17048, tid=15380
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 15:27:28,176: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:27:28,363: startCharge is false
[INFO]2021-03-03 15:27:28,368: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:27:30,744: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[CRITICAL]2021-03-03 15:27:30,751: invoke <function urlRelayopen at 0x0000020BA86A59D0> cause a error: exceptions must derive from BaseException
pid=17048, ppid=13336, tid=14740
Traceback (most recent call last):
  File "D:\python_lx\akm\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "D:\python_lx\akm\door\main_door.py", line 16, in urlRelayopen
    switchInfo.open()
  File "D:\python_lx\akm\door\switchMgr.py", line 138, in open
    vitualDoor.vitualDoorOpen(self.ip)
  File "D:\python_lx\akm\door\vitualDoor.py", line 47, in vitualDoorOpen
    g_swichList[ip].open()
  File "D:\python_lx\akm\door\vitualDoor.py", line 126, in open
    raise "门被锁"
TypeError: exceptions must derive from BaseException

[DEBUG]2021-03-03 15:27:30,752: used 8ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 15:27:31,383: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 15:27:34,391: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 15:27:37,405: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 15:27:38,177: connect AGV23 failed timed out
[INFO]2021-03-03 15:27:38,177: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 15:27:38,177: agvThread.AGV23[tid:15380] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=15380 count=1 at 0x0000020BABECFD80>> ,hold 10001 ms
[INFO]2021-03-03 15:27:38,178: name=agvThread.AGV23, pid=17048, tid=15380
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 15:27:40,180: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:27:40,408: startCharge is false
[INFO]2021-03-03 15:27:40,413: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:27:41,452: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[CRITICAL]2021-03-03 15:27:41,458: invoke <function urlRelayopen at 0x0000020BA86A59D0> cause a error: exceptions must derive from BaseException
pid=17048, ppid=13336, tid=7764
Traceback (most recent call last):
  File "D:\python_lx\akm\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "D:\python_lx\akm\door\main_door.py", line 16, in urlRelayopen
    switchInfo.open()
  File "D:\python_lx\akm\door\switchMgr.py", line 138, in open
    vitualDoor.vitualDoorOpen(self.ip)
  File "D:\python_lx\akm\door\vitualDoor.py", line 47, in vitualDoorOpen
    g_swichList[ip].open()
  File "D:\python_lx\akm\door\vitualDoor.py", line 126, in open
    raise "门被锁"
TypeError: exceptions must derive from BaseException

[DEBUG]2021-03-03 15:27:41,459: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 15:27:42,718: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[CRITICAL]2021-03-03 15:27:42,725: invoke <function urlRelayopen at 0x0000020BA86A59D0> cause a error: exceptions must derive from BaseException
pid=17048, ppid=13336, tid=11132
Traceback (most recent call last):
  File "D:\python_lx\akm\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "D:\python_lx\akm\door\main_door.py", line 16, in urlRelayopen
    switchInfo.open()
  File "D:\python_lx\akm\door\switchMgr.py", line 138, in open
    vitualDoor.vitualDoorOpen(self.ip)
  File "D:\python_lx\akm\door\vitualDoor.py", line 47, in vitualDoorOpen
    g_swichList[ip].open()
  File "D:\python_lx\akm\door\vitualDoor.py", line 126, in open
    raise "门被锁"
TypeError: exceptions must derive from BaseException

[DEBUG]2021-03-03 15:27:42,725: used 7ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 15:27:43,421: magneticAGV01 (0, 0, 0, 0)
[DEBUG]2021-03-03 15:27:43,546: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[CRITICAL]2021-03-03 15:27:43,554: invoke <function urlRelayopen at 0x0000020BA86A59D0> cause a error: exceptions must derive from BaseException
pid=17048, ppid=13336, tid=7588
Traceback (most recent call last):
  File "D:\python_lx\akm\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "D:\python_lx\akm\door\main_door.py", line 16, in urlRelayopen
    switchInfo.open()
  File "D:\python_lx\akm\door\switchMgr.py", line 138, in open
    vitualDoor.vitualDoorOpen(self.ip)
  File "D:\python_lx\akm\door\vitualDoor.py", line 47, in vitualDoorOpen
    g_swichList[ip].open()
  File "D:\python_lx\akm\door\vitualDoor.py", line 126, in open
    raise "门被锁"
TypeError: exceptions must derive from BaseException

[DEBUG]2021-03-03 15:27:43,554: used 8ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[DEBUG]2021-03-03 15:27:44,300: GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01 addr: 127.0.0.1
[CRITICAL]2021-03-03 15:27:44,308: invoke <function urlRelayopen at 0x0000020BA86A59D0> cause a error: exceptions must derive from BaseException
pid=17048, ppid=13336, tid=9260
Traceback (most recent call last):
  File "D:\python_lx\akm\common\scadaUtility.py", line 45, in __call
    ret = func(*p,**pp)
  File "D:\python_lx\akm\door\main_door.py", line 16, in urlRelayopen
    switchInfo.open()
  File "D:\python_lx\akm\door\switchMgr.py", line 138, in open
    vitualDoor.vitualDoorOpen(self.ip)
  File "D:\python_lx\akm\door\vitualDoor.py", line 47, in vitualDoorOpen
    g_swichList[ip].open()
  File "D:\python_lx\akm\door\vitualDoor.py", line 126, in open
    raise "门被锁"
TypeError: exceptions must derive from BaseException

[DEBUG]2021-03-03 15:27:44,309: used 9ms 200 OK application/json;charset=utf-8, GET: http://127.0.0.1:8999/api/switch/on?id=vitualDoor01
[INFO]2021-03-03 15:27:46,430: magneticAGV01 (0, 0, 0, 0)
[INFO]2021-03-03 15:27:49,437: magneticAGV01 (0, 0, 0, 0)
[ERROR]2021-03-03 15:27:50,180: connect AGV23 failed timed out
[INFO]2021-03-03 15:27:50,181: AGV23 checkLink failed 192.168.20.198 19204
[WARN]2021-03-03 15:27:50,181: agvThread.AGV23[tid:15380] <lock name:agv.AGV23.lock_status,<locked _thread.RLock object owner=15380 count=1 at 0x0000020BABECFD80>> ,hold 10001 ms
[INFO]2021-03-03 15:27:50,184: name=agvThread.AGV23, pid=17048, tid=15380
[01] File "C:/Python38/lib/threading.py", line 870, in run() 
[02] File "D:/python_lx/akm/agvCtrl/agvList.py", line 565, in run() 
[03] File "D:/python_lx/akm/driver/seerAgv/agvCtrl.py", line 36, in checkLink() 
[04] File "D:/python_lx/akm/driver/seerAgv/agvApi.py", line 184, in checkLink() 
[05] File "D:/python_lx/akm/common/lock.py", line 102, in release() 
[06] File "D:/python_lx/akm/common/enhance.py", line 268, in getTrace() 
[07] File "D:/python_lx/akm/common/enhance.py", line 248, in getThreadStack()
[DEBUG]2021-03-03 15:27:52,186: try connect AGV23 192.168.20.198:19204
[INFO]2021-03-03 15:27:52,439: startCharge is false
[INFO]2021-03-03 15:27:52,443: magneticAGV01 (0, 0, 0, 0)
